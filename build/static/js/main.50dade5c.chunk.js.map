{"version":3,"sources":["ducks/auth.js","services/config.js","globals/variables.js","ducks/ui.js","ducks/index.js","configureStore.js","assets/images/logo.png","components/elements/Box/index.js","hooks/useActionDispatch.js","hooks/useAuth.js","services/AuthService.js","services/BranchesService.js","services/BranchProducts.js","services/ClientsService.js","services/DeliveriesService.js","services/NotificationsService.js","services/PreordersService.js","services/PreorderTransactionsService.js","services/ProductsService.js","services/ReportsService.js","services/TokensService.js","services/UnitTypesService.js","hooks/useBranches.js","hooks/useBranchProducts.js","hooks/useClients.js","hooks/useCustomParams.js","hooks/useDeliveries.js","hooks/useNotifications.js","hooks/useNotificationsCount.js","hooks/usePreorders.js","hooks/useProduct.js","hooks/useProducts.js","hooks/useReportsCustomers.js","hooks/useReportsProducts.js","hooks/useUI.js","hooks/useUnitTypes.js","screens/Login/index.js","components/BranchProductStatus/index.js","components/DeliveryStatus/index.js","components/Forms/FormError/index.js","assets/images/icon-account.svg","assets/images/icon-logout.svg","globals/functions.js","components/Partials/Sidebar/index.js","assets/images/sample-avatar.png","components/Partials/Container/index.js","configureAxios.js","components/Partials/Content/index.js","components/PaymentStatus/index.js","components/PreorderStatus/index.js","components/RankIcon/index.js","screens/Main/index.js","screens/Main/Branches/components/ModifyBranchModal.js","screens/Main/Branches/index.js","screens/Main/Dashboard/BranchProducts/index.js","screens/Main/Dashboard/index.js","screens/Main/Deliveries/index.js","screens/Main/Deliveries/Create/index.js","screens/Main/Deliveries/View/index.js","configurePrinter.js","screens/Main/Notifications/BranchProducts/index.js","screens/Main/Notifications/index.js","screens/Main/Preorders/index.js","screens/Main/Preorders/Modify/index.js","screens/Main/Preorders/View/CreateTransactionModal/index.js","screens/Main/Preorders/View/ViewTransactionModal/index.js","screens/Main/Preorders/View/index.js","screens/Main/Products/ViewProductModal/index.js","screens/Main/Products/index.js","screens/Main/Products/Modify/index.js","screens/Main/Reports/CustomersTab/index.js","screens/Main/Reports/ProductsTab/index.js","screens/Main/Reports/index.js","App.js","reportWebVitals.js","index.js"],"names":["key","types","LOGIN","LOGOUT","initialState","user","accessToken","refreshToken","reducer","handleActions","state","payload","actions","login","createAction","logout","selectState","selectors","createSelector","config","API_URL","window","location","hostname","APP_KEY","GENERIC_ERROR_MESSAGE","EMPTY_CHARACTER","DEFAULT_PAGE_SIZE","userTypes","clientTypes","vatTypes","priceTypes","productStatuses","preorderStatuses","APPROVED","PENDING","DELIVERED","CANCELLED","deliveryStatuses","paymentStatuses","deliveryTypes","dateRangeTypes","DAILY","MONTHLY","DATE_RANGE","ON_COLLAPSE_SIDEBAR","isSidebarCollapsed","onCollapseSidebar","appReducer","combineReducers","router","routerReducer","AUTH_KEY","authReducer","UI_KEY","uiReducer","action","type","storage","removeItem","undefined","configureStore","history","createBrowserHistory","middlewares","routerMiddleware","enhancers","applyMiddleware","persistConfig","blacklist","keyPrefix","persistedReducer","persistReducer","rootReducer","store","createStore","compose","Box","children","className","cn","useActionDispatch","dispatch","useDispatch","data","useAuth","useSelector","AuthService","body","axios","post","BASE_URL","BranchesService","list","params","get","create","edit","id","patch","delete","BranchProducts","ClientsService","DeliveriesService","retrieve","NotificationsService","count","PreordersService","PreorderTransactionsService","ProductsService","listTopPayingCustomers","listTopSellingProducts","TokensService","acquire","UnitTypesService","useBranches","useQuery","page","page_size","initialData","results","select","query","useBranchProducts","options","branchId","pageSize","search","status","BranchProductsService","branch_id","products","total","useClients","useCustomParams","useSearchParams","searchParams","setSearchParams","param","shouldResetPage","shouldIncludeCurrentParams","newSearchParams","Object","fromEntries","keys","forEach","useDeliveries","paymentStatus","payment_status","deliveries","useNotifications","notifications","useNotificationsCount","refetchInterval","usePreorderRetrieve","enabled","usePreorderEdit","useMutation","description","preorderProducts","preorder_products","usePreorders","dateCreated","dateFulfilled","date_created","date_fulfilled","preorders","useProduct","useProducts","ids","useReportsCustomers","dateRange","ReportsService","date_range","customers","useReportsProducts","useUI","useUnitTypes","formDetails","defaultValues","password","schema","Yup","shape","required","label","Login","useState","isLoading","setLoading","navigate","useNavigate","useEffect","alt","src","imgLogo","initialValues","validationSchema","onSubmit","values","setFieldError","then","loginResponse","a","username","access","refresh","catch","finally","setFieldValue","direction","size","placeholder","prefix","UserOutlined","onChange","e","target","value","name","render","error","Text","KeyOutlined","htmlType","loading","block","BranchProductStatus","useCallback","component","color","DeliveryStatus","FormError","getUserTypeName","numberWithCommas","x","toString","replace","formatInPeso","pesoSign","Number","isNaN","round","toFixed","formatDateTime","datetime","moment","format","Sidebar","items","popupVisible","setPopupVisible","pathname","useLocation","getName","first_name","last_name","Sider","breakpoint","Sidebar__collapsed","collapsedWidth","theme","width","onCollapse","collapsed","map","item","tabIndex","to","link","Sidebar_sidebarList_item__active","startsWith","icon","style","fontSize","active","onClick","imgIconAccount","imgIconLogout","user_type","Container","loadingText","sidebarItems","spinning","tip","wrapperClassName","defaultProps","Content","title","breadcrumb","ContentLayout__sidebarCollapsed","Header","PaymentStatus","PreorderStatus","RankIcon","rank","CrownFilled","marginRight","Main","notificationsCount","getSidebarItems","DashboardOutlined","ShoppingOutlined","ShopOutlined","FileTextOutlined","ShoppingCartOutlined","AreaChartOutlined","BellOutlined","ModifyBranchModal","branch","onSuccess","onClose","refFormik","useRef","getFormDetails","footer","disabled","current","submitForm","centered","closable","visible","onCancel","innerRef","enableReinitialize","fn","strong","columns","dataIndex","Branches","dataSource","setDataSource","modifyBranchModalVisible","setModifyBranchModalVisible","selectedBranch","setSelectedBranch","deleteConfirmLoading","setDeleteConfirmLoading","isFetching","branches","refetch","onEdit","cancelText","okButtonProps","okText","placement","onConfirm","danger","PlusOutlined","pagination","Filter","onSearch","useDebouncedCallback","gutter","lg","span","defaultValue","allowClear","event","trim","Option","unitTypes","isBranchProductsFetching","tableData","product","product_prices","productPrice","String","unit_type_id","balance","getColumns","unitTypesId","flatten","filteredUnitTypes","filter","unitType","includes","fixed","newPageSize","length","position","pageSizeOptions","scroll","Dashboard","isFetchingBranches","isUnitTypesFetching","has","activeKey","onTabClick","TabPane","tab","align","Deliveries","isDeliveriesFetching","delivery","datetime_created","schedule_of_delivery","datetime_delivery","date_completed","datetime_completed","payment","customer","ghost","justify","md","sm","tabs","getPriceByDeliveryType","deliveryType","prices","priceMarket","priceDelivery","pricePickup","priceSpecial","price","DeliveryDetails","onSetFieldValue","isEditingDescription","setIsEditingDescription","xs","showTime","onOk","mode","customerName","onDeselect","onSelect","find","address","landline","phone","is_bakery","Group","optionType","customerIsBakery","customerPhone","customerLandline","customerAddress","compact","customerDescription","showIcon","ProductsAll","setPage","setPageSize","setSearch","setStatus","isAlreadyAdded","deliveryProducts","deliveryProduct","productId","checked","newDeliveryProducts","productName","productStatus","productPrices","branchProductId","branch_product_id","unitTypeId","price_market","price_delivery","price_pickup","price_special","quantity","newPage","ProductsSelected","grandTotal","setGrandTotal","index","subtotal","productPriceIndex","textAlign","Title","level","CreateDelivery","isBranchesFetching","isCustomersFetching","datetimeDelivery","nullable","test","isValid","of","min","handleSuccess","deliveryId","Modal","success","content","keyboard","delivery_type","delivery_products","message","console","defaultActiveKey","preparedBy","checkedBy","pulledOutBy","deliveredBy","ViewDelivery","isPrinting","setIsPrinting","html","setHtml","useParams","useDeliveryRetrieve","isDeliveryFetching","refetchDelivery","checked_by","delivered_by","prepared_by","pulled_out_by","editDelivery","mutateAsync","isEditing","push","deliveryProductData","unit_type","showCancelConfirmation","confirm","ExclamationCircleOutlined","autoFocusButton","confirmLoading","destroyAll","pdf","jsPDF","orientation","unit","hotfixes","dataHtml","colors","isDifferentPage","productsHtml","upperCase","join","generateHtml","printDeliverySlip","setTimeout","margin","filename","callback","instance","open","output","column","labelStyle","fontWeight","bordered","Item","upperFirst","dangerouslySetInnerHTML","__html","isNotificationsFetching","notification","Notifications","date","dateString","Preorders","isPreordersFetching","preorder","supplier","datetime_fulfilled","PreorderDetails","suppliers","_","supplierName","supplierPhone","supplierLandline","supplierAddress","supplierDescription","preorderProduct","newPreorderProducts","remarks","ModifyPreorder","setPreorderProducts","preorderId","isPreorderFetching","isSuppliersFetching","isProductsFetching","createPreorder","isCreating","editPreorder","branch_product","product_price","formattedPreorderProducts","productPricesIds","productPricesEmpty","preorderProductsData","responseData","CreateTransactionModal","formValues","setFormValues","initialFormValues","preorderProductData","fieldQuantityKey","preorderProductId","preorder_id","preorder_transaction_products","preorder_product_id","ViewTransactionModal","preorderTransaction","setUnitTypesId","preorderTransactionProduct","product_name","newUnitTypeIds","preorderTransactionProductData","transactionColumns","ViewPreorder","setIsLoading","preorderProductsObject","setPreorderProductsObject","createTransactionModalVisible","setCreateTransactionModalVisible","transactionsDataSource","setTransactionsDataSource","selectedTransaction","setSelectedTransaction","setDescription","refetchPreorder","fulfilled_quantity","preorder_transactions","transaction","row","received_by","getPreorderProductColumns","onUpdateStatus","unitTypeName","printOrderSlip","y","ViewProductModal","unit_cost","vat_type","Panel","header","reorder_point","onSetPriceType","Products","selectedPriceType","setSelectedPriceType","selectedProduct","setSelectedProduct","isDeleting","setIsDeleting","refetchProducts","unitCost","ProductPrice","isCreate","onRemoveProductPrice","reorderPoint","filterOption","input","option","toLowerCase","indexOf","optionFilterProp","showSearch","height","CloseOutlined","ModifyProduct","isProductFetching","vatType","positive","modifiedProduct","serviceFn","buttonStyle","i","onRemoveClick","onAddClick","dateRangeType","setDateRangeType","display","RangePicker","defaultPickerValue","split","onCalendarChange","dates","dateStrings","CustomersTab","isReportsFetching","rankStart","total_purchase","ProductsTab","productDataSource","total_sales","total_quantity","unitTypeColumns","sort","Reports","destroyInactiveTabPane","App","element","path","Modify","View","Create","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaults","baseURL","timeout","headers","common","interceptors","request","use","requestConfig","getState","AUTH","authorization","Promise","reject","response","fetch","method","JSON","stringify","token","res","json","tokenStatus","code","Error","access_token","refresh_token","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","retry","ReactDOM","client","persistor","persistStore","initialIsOpen","document","getElementById"],"mappings":"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","file":"static/js/main.50dade5c.chunk.js","sourcesContent":["import { createAction, handleActions } from 'redux-actions';\nimport { createSelector } from 'reselect';\n\nexport const key = 'AUTH';\n\nexport const types = {\n  LOGIN: `${key}/LOGIN`,\n  LOGOUT: `${key}/LOGOUT`,\n};\n\nconst initialState = {\n  user: null,\n  accessToken: null,\n  refreshToken: null,\n};\n\nconst reducer = handleActions(\n  {\n    [types.LOGIN]: (state, { payload }) => ({\n      ...state,\n      ...payload,\n    }),\n  },\n  initialState\n);\n\nexport const actions = {\n  login: createAction(types.LOGIN),\n  logout: createAction(types.LOGOUT),\n};\n\nconst selectState = (state) => state[key] || initialState;\nexport const selectors = {\n  selectUser: () => createSelector(selectState, (state) => state.user),\n  selectAccessToken: () =>\n    createSelector(selectState, (state) => state.accessToken),\n  selectRefreshToken: () =>\n    createSelector(selectState, (state) => state.refreshToken),\n};\n\nexport default reducer;\n","// TODO: Temporarily set API Url\n// const apiUrl = 'https://marigold-api-fubj4ddgma-as.a.run.app/v1';\n\nconst config = {\n  API_URL: `http://${window.location.hostname}:8000/v1/`,\n};\n\n// const config = {\n//   API_URL: apiUrl,\n// };\n\nexport default config;\n","// Constants\nexport const APP_KEY = 'marigold_app';\nexport const GENERIC_ERROR_MESSAGE =\n  'An error occurred while processing your request';\n\nexport const EMPTY_CHARACTER = '—';\n\nexport const DEFAULT_PAGE = 1;\nexport const DEFAULT_PAGE_SIZE = 10;\n\n// Others\nexport const userTypes = {\n  MANAGER: 'manager',\n  PERSONNEL: 'personnel',\n};\n\nexport const clientTypes = {\n  SUPPLIER: 'supplier',\n  CUSTOMER: 'customer',\n};\n\nexport const vatTypes = {\n  VAT: 'vat',\n  VAT_E: 'vat-e',\n};\n\nexport const priceTypes = {\n  DELIVERY: 'delivery',\n  MARKET: 'market',\n  PICKUP: 'pickup',\n  SPECIAL: 'special',\n};\n\nexport const productStatuses = {\n  AVAILABLE: 'available',\n  REORDER: 'reorder',\n  OUT_OF_STOCK: 'out_of_stock',\n};\n\nexport const preorderStatuses = {\n  APPROVED: 'approved',\n  PENDING: 'pending',\n  DELIVERED: 'delivered',\n  CANCELLED: 'cancelled',\n};\n\nexport const deliveryStatuses = {\n  PENDING: 'pending',\n  DELIVERED: 'delivered',\n  CANCELLED: 'cancelled',\n};\n\nexport const paymentStatuses = {\n  PAID: 'paid',\n  UNPAID: 'unpaid',\n};\n\nexport const deliveryTypes = {\n  PICKUP: 'pickup',\n  DELIVERY: 'delivery',\n  MARKET: 'market',\n  SPECIAL: 'special',\n};\n\nexport const dateRangeTypes = {\n  DAILY: 'daily',\n  MONTHLY: 'monthly',\n  DATE_RANGE: 'date_range',\n};\n","import { createAction, handleActions } from 'redux-actions';\nimport { createSelector } from 'reselect';\n\nexport const key = 'USER_INTEFACE';\n\nexport const types = {\n  ON_COLLAPSE_SIDEBAR: `${key}/ON_COLLAPSE_SIDEBAR`,\n};\n\nconst initialState = {\n  isSidebarCollapsed: false,\n};\n\nconst reducer = handleActions(\n  {\n    [types.ON_COLLAPSE_SIDEBAR]: (state, { payload }) => ({\n      ...state,\n      isSidebarCollapsed: payload,\n    }),\n  },\n  initialState\n);\n\nexport const actions = {\n  onCollapseSidebar: createAction(types.ON_COLLAPSE_SIDEBAR),\n};\n\nconst selectState = (state) => state[key] || initialState;\nexport const selectors = {\n  selectIsSidebarCollapsed: () =>\n    createSelector(selectState, (state) => state.isSidebarCollapsed),\n};\n\nexport default reducer;\n","import { APP_KEY } from 'globals/variables';\nimport { routerReducer } from 'react-router-redux';\nimport { combineReducers } from 'redux';\nimport storage from 'redux-persist/lib/storage';\nimport authReducer, { key as AUTH_KEY, types } from './auth';\nimport uiReducer, { key as UI_KEY } from './ui';\n\nconst appReducer = combineReducers({\n  router: routerReducer,\n  [AUTH_KEY]: authReducer,\n  [UI_KEY]: uiReducer,\n});\n\nexport default (state, action) => {\n  if (action.type === types.LOGOUT) {\n    storage.removeItem(APP_KEY);\n    // eslint-disable-next-line no-param-reassign\n    state = undefined;\n  }\n\n  return appReducer(state, action);\n};\n","import rootReducer from 'ducks';\nimport { APP_KEY } from 'globals/variables';\nimport { createBrowserHistory } from 'history';\nimport { routerMiddleware } from 'react-router-redux';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nconst configureStore = (initialState = {}) => {\n  // Create middlewares\n  const history = createBrowserHistory();\n  const middlewares = [routerMiddleware(history)];\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  // Create a persist version of the reducer\n  const persistConfig = {\n    key: APP_KEY,\n    storage,\n    blacklist: ['_persist'],\n    keyPrefix: '',\n  };\n  const persistedReducer = persistReducer(persistConfig, rootReducer);\n\n  // Create store\n  const store = createStore(\n    persistedReducer,\n    initialState,\n    compose(...enhancers)\n  );\n\n  return store;\n};\n\nexport default configureStore;\n","export default __webpack_public_path__ + \"static/media/logo.6979545f.png\";","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport './styles.scss';\n\nconst Box = ({ children, className }) => (\n  <div className={cn('Box', className)}>{children}</div>\n);\n\nBox.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n};\n\nexport default Box;\n","import { useDispatch } from 'react-redux';\n\nexport const useActionDispatch = (action) => {\n  const dispatch = useDispatch();\n\n  const dispatchAction = (data = {}) => {\n    dispatch(action(data));\n  };\n\n  return dispatchAction;\n};\n","import { actions, selectors } from 'ducks/auth';\nimport { useSelector } from 'react-redux';\nimport { useActionDispatch } from './useActionDispatch';\n\nconst useAuth = () => {\n  const user = useSelector(selectors.selectUser());\n  const accessToken = useSelector(selectors.selectAccessToken());\n  const refreshToken = useSelector(selectors.selectRefreshToken());\n\n  const login = useActionDispatch(actions.login);\n  const logout = useActionDispatch(actions.logout);\n\n  return {\n    user,\n    accessToken,\n    refreshToken,\n    login,\n    logout,\n  };\n};\n\nexport default useAuth;\n","import axios from 'axios';\n\nexport const BASE_URL = '/users/';\n\nconst AuthService = {\n  login: ({ body }) => axios.post(`${BASE_URL}login/`, body),\n};\n\nexport default AuthService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/branches/';\n\nconst BranchesService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n\n  edit: ({ id, body }) => axios.patch(`${BASE_URL}${id}/`, body),\n\n  delete: (id) => axios.delete(`${BASE_URL}${id}/`),\n};\n\nexport default BranchesService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/branch-products/';\n\nconst BranchProducts = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n};\n\nexport default BranchProducts;\n","import axios from 'axios';\n\nexport const BASE_URL = '/clients/';\n\nconst ClientsService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n};\n\nexport default ClientsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/deliveries/';\n\nconst DeliveriesService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  retrieve: (id) => axios.get(`${BASE_URL}${id}/`),\n\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n\n  edit: ({ id, body }) => axios.patch(`${BASE_URL}${id}/`, body),\n};\n\nexport default DeliveriesService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/notifications/';\n\nconst NotificationsService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  count: () => axios.get(`${BASE_URL}count/`),\n};\n\nexport default NotificationsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/preorders/';\n\nconst PreordersService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  retrieve: (id) => axios.get(`${BASE_URL}${id}/`),\n\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n\n  edit: ({ id, body }) => axios.patch(`${BASE_URL}${id}/`, body),\n};\n\nexport default PreordersService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/preorder-transactions/';\n\nconst PreorderTransactionsService = {\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n};\n\nexport default PreorderTransactionsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/products/';\n\nconst ProductsService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  retrieve: (id) => axios.get(`${BASE_URL}${id}/`),\n\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n\n  edit: ({ id, body }) => axios.patch(`${BASE_URL}${id}/`, body),\n\n  delete: (id) => axios.delete(`${BASE_URL}${id}/`),\n};\n\nexport default ProductsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/reports/';\n\nconst ProductsService = {\n  listTopPayingCustomers: ({ params }) =>\n    axios.get(`${BASE_URL}top-customers/`, { params }),\n\n  listTopSellingProducts: ({ params }) =>\n    axios.get(`${BASE_URL}top-products/`, { params }),\n};\n\nexport default ProductsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/tokens/';\n\nconst TokensService = {\n  acquire: ({ body }) => axios.post(`${BASE_URL}acquire/`, body),\n};\n\nexport default TokensService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/unit-types/';\n\nconst UnitTypesService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n};\n\nexport default UnitTypesService;\n","import { useQuery } from 'react-query';\nimport { BranchesService } from 'services';\n\nconst useBranches = () =>\n  useQuery(\n    'useBranches',\n    () =>\n      BranchesService.list({\n        params: {\n          page: 1,\n          page_size: 100,\n        },\n      }),\n    {\n      initialData: { data: { results: [] } },\n      select: (query) => query?.data?.results,\n    }\n  );\n\nexport default useBranches;\n","import { DEFAULT_PAGE, DEFAULT_PAGE_SIZE } from 'globals/variables';\nimport { useQuery } from 'react-query';\nimport { BranchProductsService } from 'services';\n\nconst useBranchProducts = ({ params, options }) =>\n  useQuery(\n    [\n      'useBranchProducts',\n      params?.branchId,\n      params?.page,\n      params?.pageSize,\n      params?.search,\n      params?.status,\n    ],\n    () =>\n      BranchProductsService.list({\n        params: {\n          branch_id: params?.branchId,\n          page_size: params?.pageSize || DEFAULT_PAGE_SIZE,\n          page: params?.page || DEFAULT_PAGE,\n          search: params?.search,\n          status: params?.status,\n        },\n      }),\n    {\n      initialData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        products: query.data.results,\n        total: query.data.count,\n      }),\n      ...options,\n    }\n  );\n\nexport default useBranchProducts;\n","import { useQuery } from 'react-query';\nimport { ClientsService } from 'services';\n\nconst useClients = ({ params }) =>\n  useQuery(\n    ['useClients', params.type],\n    () =>\n      ClientsService.list({\n        params: {\n          type: params.type,\n        },\n      }),\n    {\n      initialData: { data: [] },\n      select: (query) => query.data,\n    }\n  );\n\nexport default useClients;\n","import { useSearchParams } from 'react-router-dom';\n\nconst useCustomParams = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const setQueryParams = (\n    param,\n    { shouldResetPage = false, shouldIncludeCurrentParams = true } = {}\n  ) => {\n    const newSearchParams = {\n      ...(shouldIncludeCurrentParams ? Object.fromEntries(searchParams) : {}),\n      ...(shouldResetPage ? { page: 1 } : {}),\n      ...param,\n    };\n    Object.keys(newSearchParams).forEach((key) =>\n      newSearchParams[key] === undefined ? delete newSearchParams[key] : {}\n    );\n\n    setSearchParams(newSearchParams);\n  };\n\n  return { setSearchParams: setQueryParams };\n};\n\nexport default useCustomParams;\n","import { useMutation, useQuery } from 'react-query';\nimport { DeliveriesService } from 'services';\n\nconst useDeliveries = ({ params }) =>\n  useQuery(\n    ['useDeliveries', params.page, params.pageSize, params.paymentStatus],\n    () =>\n      DeliveriesService.list({\n        params: {\n          payment_status: params.paymentStatus,\n          page: params.page,\n          page_size: params.pageSize,\n        },\n      }),\n    {\n      initialData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        deliveries: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport const useDeliveryRetrieve = ({ id }) =>\n  useQuery(['useDeliveryRetrieve', id], () => DeliveriesService.retrieve(id), {\n    select: (query) => query.data,\n    enabled: id !== undefined,\n  });\n\nexport const useDeliveryEdit = () =>\n  useMutation(\n    ({\n      checkedBy,\n      deliveredBy,\n      id,\n      paymentStatus,\n      preparedBy,\n      pulledOutBy,\n      status,\n    }) =>\n      DeliveriesService.edit({\n        id,\n        body: {\n          checked_by: checkedBy,\n          delivered_by: deliveredBy,\n          payment_status: paymentStatus,\n          prepared_by: preparedBy,\n          pulled_out_by: pulledOutBy,\n          status,\n        },\n      })\n  );\n\nexport default useDeliveries;\n","import { useQuery } from 'react-query';\nimport { NotificationsService } from 'services';\n\nconst useNotifications = ({ params }) =>\n  useQuery(\n    ['useNotifications', params.page, params.pageSize, params.branchId],\n    () =>\n      NotificationsService.list({\n        params: {\n          page: params.page,\n          page_size: params.pageSize,\n          branch_id: params.branchId,\n        },\n      }),\n    {\n      initialData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        notifications: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default useNotifications;\n","import { useQuery } from 'react-query';\nimport { NotificationsService } from 'services';\n\nconst useNotificationsCount = () =>\n  useQuery('useNotificationsCount', () => NotificationsService.count(), {\n    initialData: { data: 0 },\n    select: (query) => query.data,\n    refetchInterval: 2500,\n  });\n\nexport default useNotificationsCount;\n","import { DEFAULT_PAGE, DEFAULT_PAGE_SIZE } from 'globals/variables';\nimport { useMutation, useQuery } from 'react-query';\nimport { PreordersService } from 'services';\n\nconst usePreorders = ({ params }) =>\n  useQuery(\n    [\n      'usePreorders',\n      params?.dateCreated,\n      params?.dateFulfilled,\n      params?.page,\n      params?.pageSize,\n      params?.search,\n      params?.status,\n    ],\n    () =>\n      PreordersService.list({\n        params: {\n          date_created: params?.dateCreated,\n          date_fulfilled: params?.dateFulfilled,\n          page: params?.page || DEFAULT_PAGE,\n          page_size: params?.pageSize || DEFAULT_PAGE_SIZE,\n          search: params?.search,\n          status: params?.status,\n        },\n      }),\n    {\n      initialData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        preorders: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport const usePreorderRetrieve = ({ id }) =>\n  useQuery(['usePreorderRetrieve', id], () => PreordersService.retrieve(id), {\n    select: (query) => query.data,\n    enabled: id !== undefined,\n  });\n\nexport const usePreorderCreate = () =>\n  useMutation(\n    ({ branchId, deliveryType, description, supplier, preorderProducts }) =>\n      PreordersService.create({\n        body: {\n          branch_id: branchId,\n          delivery_type: deliveryType,\n          description,\n          supplier,\n          preorder_products: preorderProducts,\n        },\n      })\n  );\n\nexport const usePreorderEdit = () =>\n  useMutation(({ id, description, preorderProducts, status }) =>\n    PreordersService.edit({\n      id,\n      body: {\n        description,\n        preorder_products: preorderProducts,\n        status,\n      },\n    })\n  );\n\nexport default usePreorders;\n","import { useQuery } from 'react-query';\nimport { ProductsService } from 'services';\n\nconst useProduct = ({ id }) =>\n  useQuery(['useProduct', id], () => ProductsService.retrieve(id), {\n    select: (query) => query.data,\n    enabled: id !== undefined,\n  });\n\nexport default useProduct;\n","import { DEFAULT_PAGE, DEFAULT_PAGE_SIZE } from 'globals/variables';\nimport { useQuery } from 'react-query';\nimport { ProductsService } from 'services';\n\nconst useProducts = ({ params, options }) =>\n  useQuery(\n    ['useProducts', params?.page, params?.pageSize, params?.search],\n    () =>\n      ProductsService.list({\n        params: {\n          page: params?.page || DEFAULT_PAGE,\n          page_size: params?.pageSize || DEFAULT_PAGE_SIZE,\n          search: params?.search,\n          ids: params?.ids,\n        },\n      }),\n    {\n      initialData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        products: query.data.results,\n        total: query.data.count,\n      }),\n      ...options,\n    }\n  );\n\nexport default useProducts;\n","import { useQuery } from 'react-query';\nimport { ReportsService } from 'services';\n\nconst useReportsCustomers = ({ params }) =>\n  useQuery(\n    ['useReportsCustomers', params.page, params.pageSize, params.dateRange],\n    () =>\n      ReportsService.listTopPayingCustomers({\n        params: {\n          page: params.page,\n          page_size: params.pageSize,\n          date_range: params.dateRange,\n        },\n      }),\n    {\n      initialData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        customers: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default useReportsCustomers;\n","import { useQuery } from 'react-query';\nimport { ReportsService } from 'services';\n\nconst useReportsProducts = ({ params }) =>\n  useQuery(\n    [\n      'useReportsProducts',\n      params.page,\n      params.pageSize,\n      params.branchId,\n      params.dateRange,\n    ],\n    () =>\n      ReportsService.listTopSellingProducts({\n        params: {\n          page: params.page,\n          page_size: params.pageSize,\n          branch_id: params.branchId,\n          date_range: params.dateRange,\n        },\n      }),\n    {\n      initialData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        products: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default useReportsProducts;\n","import { useSelector } from 'react-redux';\nimport { actions, selectors } from 'ducks/ui';\nimport { useActionDispatch } from './useActionDispatch';\n\nconst useUI = () => {\n  const isSidebarCollapsed = useSelector(selectors.selectIsSidebarCollapsed());\n  const onCollapseSidebar = useActionDispatch(actions.onCollapseSidebar);\n\n  return {\n    isSidebarCollapsed,\n    onCollapseSidebar,\n  };\n};\n\nexport default useUI;\n","import { useQuery } from 'react-query';\nimport { UnitTypesService } from 'services';\n\nconst useUnitTypes = () =>\n  useQuery(\n    'useUnitTypes',\n    () =>\n      UnitTypesService.list({\n        params: {\n          page: 1,\n          page_size: 100,\n        },\n      }),\n    {\n      initialData: { data: { results: [] } },\n      select: (query) => query?.data?.results,\n    }\n  );\n\nexport default useUnitTypes;\n","import { KeyOutlined, UserOutlined } from '@ant-design/icons';\nimport { Button, Input, Space, Typography } from 'antd';\nimport imgLogo from 'assets/images/logo.png';\nimport Box from 'components/elements/Box';\nimport { ErrorMessage, Form, Formik } from 'formik';\nimport { useAuth } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { AuthService, TokensService } from 'services';\nimport * as Yup from 'yup';\nimport './styles.scss';\n\nconst formDetails = {\n  defaultValues: {\n    login: '',\n    password: '',\n  },\n  schema: Yup.object().shape({\n    login: Yup.string().required().label('Username'),\n    password: Yup.string().required().label('Password'),\n  }),\n};\n\nconst Login = () => {\n  const [isLoading, setLoading] = useState(false);\n\n  const navigate = useNavigate();\n  const { user, login } = useAuth();\n\n  useEffect(() => {\n    if (user) {\n      navigate('/');\n    }\n  }, [user]);\n\n  return (\n    <section className=\"Login\">\n      <Box className=\"Login_container\">\n        <img alt=\"logo\" className=\"Login_logo\" src={imgLogo} />\n\n        <Formik\n          initialValues={formDetails.defaultValues}\n          validationSchema={formDetails.schema}\n          onSubmit={(values, { setFieldError }) => {\n            setLoading(true);\n\n            AuthService.login({ body: values })\n              .then(async (loginResponse) => {\n                // call the Acquire Tokens endpoint to get the tokens\n                const {\n                  data: { access, refresh },\n                } = await TokensService.acquire({\n                  body: {\n                    username: values.login,\n                    password: values.password,\n                  },\n                });\n\n                login({\n                  user: loginResponse.data,\n                  accessToken: access,\n                  refreshToken: refresh,\n                });\n              })\n              .catch(() => {\n                setFieldError(\n                  'password',\n                  'Username, email, or password is invalid.'\n                );\n              })\n              .finally(() => {\n                setLoading(false);\n              });\n          }}\n        >\n          {({ setFieldValue }) => (\n            <Form className=\"w-100\">\n              <Space className=\"w-100\" direction=\"vertical\" size=\"large\">\n                <div>\n                  <Input\n                    placeholder=\"Username\"\n                    prefix={<UserOutlined />}\n                    size=\"large\"\n                    onChange={(e) => {\n                      setFieldValue('login', e.target.value);\n                    }}\n                  />\n                  <ErrorMessage\n                    name=\"login\"\n                    render={(error) => (\n                      <Typography.Text type=\"danger\">{error}</Typography.Text>\n                    )}\n                  />\n                </div>\n\n                <div>\n                  <Input\n                    placeholder=\"Password\"\n                    prefix={<KeyOutlined />}\n                    size=\"large\"\n                    type=\"password\"\n                    onChange={(e) => {\n                      setFieldValue('password', e.target.value);\n                    }}\n                  />\n                  <ErrorMessage\n                    name=\"password\"\n                    render={(error) => (\n                      <Typography.Text type=\"danger\">{error}</Typography.Text>\n                    )}\n                  />\n                </div>\n\n                <Button\n                  htmlType=\"submit\"\n                  loading={isLoading}\n                  size=\"large\"\n                  type=\"primary\"\n                  block\n                >\n                  Login\n                </Button>\n              </Space>\n            </Form>\n          )}\n        </Formik>\n      </Box>\n    </section>\n  );\n};\n\nexport default Login;\n","import { Tag } from 'antd';\nimport { productStatuses } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nconst BranchProductStatus = ({ status }) => {\n  const render = useCallback(() => {\n    let component = null;\n\n    switch (status) {\n      case productStatuses.AVAILABLE:\n        component = <Tag color=\"green\">Available</Tag>;\n        break;\n      case productStatuses.REORDER:\n        component = <Tag color=\"orange\">Reorder</Tag>;\n        break;\n      case productStatuses.OUT_OF_STOCK:\n        component = <Tag color=\"red\">Out of Stock</Tag>;\n        break;\n      default:\n        break;\n    }\n\n    return component;\n  }, [status]);\n\n  return render();\n};\n\nBranchProductStatus.propTypes = {\n  status: PropTypes.oneOf([\n    productStatuses.AVAILABLE,\n    productStatuses.REORDER,\n    productStatuses.OUT_OF_STOCK,\n  ]),\n};\n\nexport default BranchProductStatus;\n","import { Tag } from 'antd';\nimport { deliveryStatuses } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nconst DeliveryStatus = ({ status }) => {\n  const render = useCallback(() => {\n    let component = null;\n\n    switch (status) {\n      case deliveryStatuses.PENDING:\n        component = <Tag color=\"orange\">Pending</Tag>;\n        break;\n      case deliveryStatuses.DELIVERED:\n        component = <Tag color=\"green\">Delivered</Tag>;\n        break;\n      case deliveryStatuses.CANCELLED:\n        component = <Tag color=\"red\">Cancelled</Tag>;\n        break;\n      default:\n        break;\n    }\n\n    return component;\n  }, [status]);\n\n  return render();\n};\n\nDeliveryStatus.propTypes = {\n  status: PropTypes.oneOf([\n    deliveryStatuses.PENDING,\n    deliveryStatuses.DELIVERED,\n    deliveryStatuses.CANCELLED,\n  ]),\n};\n\nexport default DeliveryStatus;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { ErrorMessage } from 'formik';\nimport { Typography } from 'antd';\n\nconst FormError = ({ name }) => (\n  <ErrorMessage\n    name={name}\n    render={(error) => <Typography.Text type=\"danger\">{error}</Typography.Text>}\n  />\n);\n\nFormError.propTypes = {\n  name: PropTypes.string.isRequired,\n};\n\nexport default FormError;\n","export default __webpack_public_path__ + \"static/media/icon-account.d6cf778e.svg\";","export default __webpack_public_path__ + \"static/media/icon-logout.a7e54751.svg\";","import { isNaN, round } from 'lodash';\nimport moment from 'moment';\nimport { userTypes } from './variables';\n\nexport const getUserTypeName = (type) => {\n  switch (type) {\n    case userTypes.MANAGER: {\n      return 'Manager';\n    }\n    case userTypes.PERSONNEL: {\n      return 'Personnel';\n    }\n\n    default:\n      return null;\n  }\n};\n\nexport const numberWithCommas = (x) =>\n  x.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ',');\n\nexport const formatInPeso = (value, pesoSign = '₱') => {\n  const x = Number(value);\n  return isNaN(x)\n    ? ''\n    : `${pesoSign}${numberWithCommas(round(x, 2).toFixed(2))}`;\n};\n\nexport const formatDateTime = (datetime) =>\n  datetime ? moment(datetime).format('MM/DD/YYYY h:mma') : '';\n\nexport const formatDateTimeForServer = (datetime) =>\n  moment(datetime).format('YYYY-MM-DD HH:mm:ss');\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { Layout } from 'antd';\nimport imgIconAccount from 'assets/images/icon-account.svg';\nimport imgIconLogout from 'assets/images/icon-logout.svg';\nimport imgLogo from 'assets/images/logo.png';\nimport imgSampleAvatar from 'assets/images/sample-avatar.png';\nimport cn from 'classnames';\nimport { getUserTypeName } from 'globals/functions';\nimport { useAuth, useUI } from 'hooks';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport './styles.scss';\n\nconst Sidebar = ({ items }) => {\n  // STATES\n  const [popupVisible, setPopupVisible] = useState(false);\n\n  // CUSTOM HOOKS\n  const { pathname } = useLocation();\n  const { user, logout } = useAuth();\n  const { isSidebarCollapsed, onCollapseSidebar } = useUI();\n\n  // METHODS\n  const getName = useCallback(\n    () => `${user?.first_name} ${user?.last_name}`,\n    [user]\n  );\n\n  return (\n    <Layout.Sider\n      breakpoint=\"md\"\n      className={cn('Sidebar', { Sidebar__collapsed: isSidebarCollapsed })}\n      collapsedWidth=\"0\"\n      theme=\"light\"\n      width={280}\n      onCollapse={(collapsed) => onCollapseSidebar(collapsed)}\n    >\n      <img alt=\"logo\" className=\"Sidebar_logo\" src={imgLogo} />\n      <div className=\"Sidebar_sidebarList\">\n        {items.map((item) => (\n          <Link key={item.link} tabIndex={-1} to={item.link}>\n            <div\n              className={cn('Sidebar_sidebarList_item', {\n                Sidebar_sidebarList_item__active: pathname.startsWith(\n                  item.link\n                ),\n              })}\n            >\n              <item.icon\n                className=\"Sidebar_sidebarList_item_icon\"\n                style={{\n                  fontSize: 20,\n                  color: pathname.startsWith(item.link) ? '#e0bc5d' : '#626b77',\n                }}\n              />\n\n              <span className=\"Sidebar_sidebarList_item_name\">{item.name}</span>\n\n              {item?.count > 0 && (\n                <span className=\"Sidebar_sidebarList_item_itemCount\">\n                  {item?.count}\n                </span>\n              )}\n            </div>\n          </Link>\n        ))}\n      </div>\n\n      <div\n        className={cn('bottom', { active: popupVisible })}\n        onClick={() => setPopupVisible((value) => !value)}\n      >\n        <div className=\"menu\">\n          <div className=\"item\">\n            <img alt=\"icon\" className=\"icon\" src={imgIconAccount} />\n            <span className=\"name\">Account</span>\n          </div>\n\n          <div className=\"item\" onClick={() => logout()}>\n            <img alt=\"icon\" className=\"icon\" src={imgIconLogout} />\n            <span className=\"name\">Logout</span>\n          </div>\n        </div>\n\n        <div className=\"user-details\">\n          <img alt=\"user avatar\" className=\"avatar\" src={imgSampleAvatar} />\n          <div className=\"user-text-info\">\n            <span className=\"name\">{getName()}</span>\n            <span className=\"role\">{getUserTypeName(user?.user_type)}</span>\n          </div>\n        </div>\n      </div>\n    </Layout.Sider>\n  );\n};\n\nSidebar.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string,\n      icon: PropTypes.node,\n      link: PropTypes.string,\n      count: PropTypes.number,\n    })\n  ),\n};\n\nexport default Sidebar;\n","export default \"data:image/png;base64,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\"","import { Layout, Spin } from 'antd';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Sidebar from '../Sidebar';\nimport './styles.scss';\n\nconst Container = ({ loading, loadingText, sidebarItems, children }) => (\n  <Layout className=\"Container\">\n    <Spin\n      size=\"large\"\n      spinning={loading}\n      tip={loadingText}\n      wrapperClassName=\"Container_spinner\"\n    >\n      <Sidebar items={sidebarItems} />\n      {children}\n    </Spin>\n  </Layout>\n);\n\nContainer.propTypes = {\n  loading: PropTypes.bool,\n  loadingText: PropTypes.string,\n  sidebarItems: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string,\n      icon: PropTypes.node,\n      link: PropTypes.string,\n      count: PropTypes.number,\n    })\n  ),\n  children: PropTypes.node,\n};\n\nContainer.defaultProps = {\n  loading: false,\n  loadingText: 'Fetching data...',\n};\n\nexport default Container;\n","import axios from 'axios';\nimport { actions } from 'ducks/auth';\nimport config from 'services/config';\n\nexport const configureAxios = (store) => {\n  axios.defaults.baseURL = config.API_URL;\n  axios.defaults.timeout = 40000;\n  axios.defaults.headers.common['Content-Type'] = 'application/json';\n\n  // add a request interceptor to all the axios requests\n  // that are going to be made in the site. The purpose\n  // of this interceptor is to verify if the access token\n  // is still valid and renew it if needed and possible\n  axios.interceptors.request.use(\n    (requestConfig) => {\n      // if the current request doesn't include the config's base\n      // API URL, we don't attach the access token to its authorization\n      // because it means it is an API call to a 3rd party service\n      if (requestConfig.baseURL !== config.API_URL) {\n        return requestConfig;\n      }\n\n      // Get access token from store for every api request\n      const { accessToken } = store.getState().AUTH;\n      requestConfig.headers.authorization = accessToken\n        ? `Bearer ${accessToken}`\n        : null;\n\n      return requestConfig;\n    },\n    (error) => Promise.reject(error)\n  );\n\n  axios.interceptors.response.use(null, (error) => {\n    if (error.config && error.response) {\n      if (error.response.status === 401) {\n        // Get refresh token when 401 response status\n        const { refreshToken } = store.getState().AUTH;\n\n        if (!refreshToken) {\n          return Promise.reject(error);\n        }\n\n        // We are certain that the access token already expired.\n        // We'll check if REFRESH TOKEN has also expired.\n        return fetch(`${config.API_URL}/tokens/access/verify/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            token: refreshToken,\n          }),\n        })\n          .then((res) => res.json())\n          .then((tokenStatus) => {\n            if (tokenStatus?.code === 'token_not_valid') {\n              // if the REFRESH TOKEN has already expired as well, logout the user\n              // and throw an error to exit this Promise chain\n              store.dispatch(actions.logout());\n              throw new Error('refresh token has already expired');\n            }\n\n            // If the REFRESH TOKEN is still active, renew the ACCESS TOKEN and the REFRESH TOKEN\n            return fetch(`${config.API_URL}/tokens/renew/`, {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({\n                refresh: refreshToken,\n              }),\n            });\n          })\n          .then((res) => res.json())\n          .then(({ access, refresh }) => {\n            // store the NEW ACCESS TOKEN and NEW REFRESH TOKEN to the reducer\n            store.dispatch(\n              actions.login({\n                access_token: access,\n                refresh_token: refresh,\n              })\n            );\n\n            // Modify the Authorization Header using the NEW ACCESS TOKEN\n            error.config.headers.authorization = access;\n            return axios.request(error.config);\n          })\n          .catch(() => Promise.reject(error));\n      }\n    }\n\n    return Promise.reject(error);\n  });\n};\n","import { Layout } from 'antd';\nimport cn from 'classnames';\nimport { useUI } from 'hooks';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport './styles.scss';\n\nexport const Content = ({ title, breadcrumb, className, children }) => {\n  const { isSidebarCollapsed } = useUI();\n\n  return (\n    <Layout\n      className={cn('ContentLayout', className, {\n        ContentLayout__sidebarCollapsed: isSidebarCollapsed,\n      })}\n    >\n      <Layout.Header className=\"ContentLayout_header\">\n        <div>\n          <h3 className=\"ContentLayout_header_title\">{title}</h3>\n\n          {breadcrumb}\n        </div>\n      </Layout.Header>\n      <Layout.Content className=\"ContentLayout_mainContent\">\n        {children}\n      </Layout.Content>\n    </Layout>\n  );\n};\n\nContent.propTypes = {\n  title: PropTypes.string,\n  breadcrumb: PropTypes.any,\n  className: PropTypes.string,\n  children: PropTypes.node,\n};\n\nexport default Content;\n","import { Tag } from 'antd';\nimport { paymentStatuses } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nconst PaymentStatus = ({ status }) => {\n  const render = useCallback(() => {\n    let component = null;\n\n    switch (status) {\n      case paymentStatuses.UNPAID:\n        component = <Tag color=\"orange\">Unpaid</Tag>;\n        break;\n      case paymentStatuses.PAID:\n        component = <Tag color=\"green\">Paid</Tag>;\n        break;\n      default:\n        break;\n    }\n\n    return component;\n  }, [status]);\n\n  return render();\n};\n\nPaymentStatus.propTypes = {\n  status: PropTypes.oneOf([paymentStatuses.UNPAID, paymentStatuses.PAID]),\n};\n\nexport default PaymentStatus;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { preorderStatuses } from 'globals/variables';\nimport { Tag } from 'antd';\n\nconst PreorderStatus = ({ status }) => {\n  const render = useCallback(() => {\n    let component = null;\n\n    switch (status) {\n      case preorderStatuses.APPROVED:\n        component = <Tag color=\"blue\">Approved</Tag>;\n        break;\n      case preorderStatuses.PENDING:\n        component = <Tag color=\"orange\">Pending</Tag>;\n        break;\n      case preorderStatuses.DELIVERED:\n        component = <Tag color=\"green\">Delivered</Tag>;\n        break;\n      case preorderStatuses.CANCELLED:\n        component = <Tag color=\"red\">Cancelled</Tag>;\n        break;\n      default:\n        break;\n    }\n\n    return component;\n  }, [status]);\n\n  return render();\n};\n\nPreorderStatus.propTypes = {\n  status: PropTypes.oneOf([\n    preorderStatuses.APPROVED,\n    preorderStatuses.PENDING,\n    preorderStatuses.DELIVERED,\n    preorderStatuses.CANCELLED,\n  ]),\n};\n\nexport default PreorderStatus;\n","import { CrownFilled } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nconst RankIcon = ({ rank }) => {\n  const render = useCallback(() => {\n    let icon = null;\n\n    switch (rank) {\n      case 1:\n        icon = (\n          <CrownFilled\n            style={{ fontSize: '1.5rem', marginRight: '5px', color: '#FFD700' }}\n          />\n        );\n        break;\n      case 2:\n        icon = (\n          <CrownFilled\n            style={{\n              fontSize: '1.25rem',\n              marginRight: '5px',\n              color: '#C0C0C0',\n            }}\n          />\n        );\n        break;\n      case 3:\n        icon = (\n          <CrownFilled\n            style={{ fontSize: '1rem', marginRight: '5px', color: '#CD7F32' }}\n          />\n        );\n        break;\n      default:\n        break;\n    }\n\n    return icon;\n  }, [rank]);\n\n  return render();\n};\n\nRankIcon.propTypes = {\n  rank: PropTypes.number,\n};\n\nexport default RankIcon;\n","import {\n  AreaChartOutlined,\n  BellOutlined,\n  DashboardOutlined,\n  FileTextOutlined,\n  ShopOutlined,\n  ShoppingCartOutlined,\n  ShoppingOutlined,\n} from '@ant-design/icons';\nimport { Container } from 'components';\nimport { useAuth } from 'hooks';\nimport React, { useCallback, useEffect } from 'react';\nimport { Outlet, useNavigate } from 'react-router';\nimport useNotificationsCount from '../../hooks/useNotificationsCount';\n\nconst Main = () => {\n  // CUSTOM HOOKS\n  const navigate = useNavigate();\n  const { user } = useAuth();\n\n  const { data: notificationsCount } = useNotificationsCount();\n\n  // METHODS\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n    }\n  }, [user]);\n\n  const getSidebarItems = useCallback(\n    () => [\n      {\n        name: 'Dashboard',\n        icon: DashboardOutlined,\n        link: '/dashboard',\n      },\n      {\n        name: 'Products',\n        icon: ShoppingOutlined,\n        link: '/products',\n      },\n      {\n        name: 'Branches',\n        icon: ShopOutlined,\n        link: '/branches',\n      },\n      {\n        name: 'Preorders',\n        icon: FileTextOutlined,\n        link: '/preorders',\n      },\n      {\n        name: 'Deliveries',\n        icon: ShoppingCartOutlined,\n        link: '/deliveries',\n      },\n      {\n        name: 'Reports',\n        icon: AreaChartOutlined,\n        link: '/reports',\n      },\n      {\n        name: 'Notifications',\n        icon: BellOutlined,\n        link: '/notifications',\n        count: notificationsCount,\n      },\n    ],\n    [notificationsCount]\n  );\n\n  return (\n    <Container sidebarItems={getSidebarItems()}>\n      <Outlet />\n    </Container>\n  );\n};\n\nexport default Main;\n","import { Button, Input, Modal, Typography } from 'antd';\nimport { ErrorMessage, Form, Formik } from 'formik';\nimport { GENERIC_ERROR_MESSAGE } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useRef, useState } from 'react';\nimport { BranchesService } from 'services';\nimport * as Yup from 'yup';\n\nexport const ModifyBranchModal = ({ branch, onSuccess, onClose }) => {\n  const [isLoading, setLoading] = useState(false);\n\n  const refFormik = useRef();\n\n  const getFormDetails = useCallback(\n    () => ({\n      defaultValues: {\n        id: branch?.id,\n        name: branch?.name || '',\n      },\n      schema: Yup.object().shape({\n        name: Yup.string().required().label('Name'),\n      }),\n    }),\n    [branch]\n  );\n\n  return (\n    <Modal\n      footer={[\n        <Button disabled={isLoading} size=\"large\" onClick={onClose}>\n          Cancel\n        </Button>,\n        <Button\n          loading={isLoading}\n          size=\"large\"\n          type=\"primary\"\n          onClick={() => {\n            refFormik.current.submitForm();\n          }}\n        >\n          Submit\n        </Button>,\n      ]}\n      title={branch ? '[Edit] Branch' : '[Create] Branch'}\n      centered\n      closable\n      visible\n      onCancel={onClose}\n    >\n      <Formik\n        initialValues={getFormDetails().defaultValues}\n        innerRef={refFormik}\n        validationSchema={getFormDetails().schema}\n        enableReinitialize\n        onSubmit={async (values, { setFieldError }) => {\n          setLoading(true);\n\n          try {\n            const fn = values.id\n              ? BranchesService.edit\n              : BranchesService.create;\n            await fn({ id: values.id, body: values });\n\n            onSuccess();\n            onClose();\n          } catch (e) {\n            setFieldError('name', GENERIC_ERROR_MESSAGE);\n          } finally {\n            setLoading(false);\n          }\n        }}\n      >\n        {({ values, setFieldValue }) => (\n          <Form>\n            <Typography.Text strong>Name</Typography.Text>\n            <Input\n              value={values.name}\n              onChange={(e) => {\n                setFieldValue('name', e.target.value);\n              }}\n            />\n            <ErrorMessage\n              name=\"name\"\n              render={(error) => (\n                <Typography.Text type=\"danger\">{error}</Typography.Text>\n              )}\n            />\n          </Form>\n        )}\n      </Formik>\n    </Modal>\n  );\n};\n\nModifyBranchModal.propTypes = {\n  branch: PropTypes.object,\n  onClose: PropTypes.func.isRequired,\n  onSuccess: PropTypes.func.isRequired,\n};\n","import { PlusOutlined } from '@ant-design/icons';\nimport { Button, Popconfirm, Space, Table } from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { useBranches } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { BranchesService } from 'services';\nimport { ModifyBranchModal } from './components/ModifyBranchModal';\n\nconst columns = [\n  { title: 'Name', dataIndex: 'name' },\n  { title: 'Actions', dataIndex: 'actions' },\n];\n\nconst Branches = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n  const [modifyBranchModalVisible, setModifyBranchModalVisible] =\n    useState(false);\n  const [selectedBranch, setSelectedBranch] = useState(null);\n  const [deleteConfirmLoading, setDeleteConfirmLoading] = useState(false);\n\n  // CUSTOM HOOKS\n  const { isFetching, data: branches, refetch } = useBranches();\n\n  // EFFECTS\n  const onCreate = () => {\n    setSelectedBranch(null);\n    setModifyBranchModalVisible(true);\n  };\n\n  const onEdit = (branch) => {\n    setSelectedBranch(branch);\n    setModifyBranchModalVisible(true);\n  };\n\n  const onDelete = (id) => {\n    setDeleteConfirmLoading(true);\n    BranchesService.delete(id)\n      .then(() => {\n        refetch();\n      })\n      .finally(() => {\n        setDeleteConfirmLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    const data = branches.map((branch) => ({\n      key: branch.id,\n      name: branch.name,\n      actions: (\n        <Space>\n          <Button\n            type=\"link\"\n            onClick={() => {\n              onEdit(branch);\n            }}\n          >\n            Edit\n          </Button>\n          <Popconfirm\n            cancelText=\"No\"\n            okButtonProps={{ loading: deleteConfirmLoading }}\n            okText=\"Yes\"\n            placement=\"top\"\n            title={`Are you sure you want to delete ${branch.name}?`}\n            onConfirm={() => {\n              onDelete(branch.id);\n            }}\n          >\n            <Button type=\"link\" danger>\n              Delete\n            </Button>\n          </Popconfirm>\n        </Space>\n      ),\n    }));\n\n    setDataSource(data);\n  }, [branches]);\n\n  return (\n    <Content title=\"Branches\">\n      <Box>\n        <div className=\"mb-4 d-flex justify-end\">\n          <Button size=\"large\" type=\"primary\" onClick={onCreate}>\n            <PlusOutlined /> Create Branch\n          </Button>\n        </div>\n\n        <Table\n          columns={columns}\n          dataSource={dataSource}\n          loading={isFetching}\n          pagination={false}\n        />\n\n        {modifyBranchModalVisible && (\n          <ModifyBranchModal\n            branch={selectedBranch}\n            onClose={() => {\n              setSelectedBranch(null);\n              setModifyBranchModalVisible(false);\n            }}\n            onSuccess={refetch}\n          />\n        )}\n      </Box>\n    </Content>\n  );\n};\n\nexport default Branches;\n","import { Col, Input, Row, Select, Table, Typography } from 'antd';\nimport { BranchProductStatus } from 'components';\nimport {\n  DEFAULT_PAGE,\n  DEFAULT_PAGE_SIZE,\n  productStatuses,\n} from 'globals/variables';\nimport { useBranchProducts, useCustomParams } from 'hooks';\nimport { flatten } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { useDebouncedCallback } from 'use-debounce';\n\nconst BranchProducts = ({ unitTypes }) => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const {\n    isFetching: isBranchProductsFetching,\n    data: { total, products },\n  } = useBranchProducts({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      branchId: searchParams.get('branchId'),\n      search: searchParams.get('search'),\n      status: searchParams.get('status'),\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const tableData = products.map((product) => {\n      const data = {\n        key: product.id,\n        name: (\n          <Link to={`/products?search=${product.name}`}>{product.name}</Link>\n        ),\n        status: <BranchProductStatus status={product.status} />,\n      };\n\n      product.product_prices.forEach((productPrice) => {\n        data[String(productPrice.unit_type_id)] = productPrice.balance;\n      });\n\n      return data;\n    });\n\n    setDataSource(tableData);\n  }, [products]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId = flatten(\n      products?.map((product) =>\n        product.product_prices.map((productPrice) => productPrice.unit_type_id)\n      )\n    );\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name', fixed: 'left' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n      })),\n      { title: 'Status', dataIndex: 'status' },\n    ];\n  }, [products, unitTypes]);\n\n  return (\n    <>\n      <Filter />\n\n      <Table\n        columns={getColumns()}\n        dataSource={dataSource}\n        loading={isBranchProductsFetching}\n        pagination={{\n          current: Number(searchParams.get('page')) || DEFAULT_PAGE,\n          total,\n          pageSize: Number(searchParams.get('pageSize')) || DEFAULT_PAGE_SIZE,\n          onChange: (page, newPageSize) => {\n            setSearchParams({\n              page,\n              pageSize: newPageSize,\n            });\n          },\n          disabled: products.length === 0,\n          position: ['bottomCenter'],\n          pageSizeOptions: ['10', '20', '50'],\n        }}\n        scroll={{ x: 1000 }}\n      />\n    </>\n  );\n};\n\nconst Filter = () => {\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const onSearch = useDebouncedCallback((value) => {\n    setSearchParams({ search: value });\n  }, 500);\n\n  return (\n    <Row className=\"mb-4\" gutter={[16, 16]}>\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Search</Typography.Text>\n        <Input\n          defaultValue={searchParams.get('search')}\n          allowClear\n          onChange={(event) => onSearch(event.target.value.trim())}\n        />\n      </Col>\n\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Status</Typography.Text>\n        <Select\n          className=\"w-100\"\n          value={searchParams.get('status')}\n          allowClear\n          onChange={(value) => {\n            setSearchParams({ status: value });\n          }}\n        >\n          <Select.Option value={productStatuses.AVAILABLE}>\n            Available\n          </Select.Option>\n          <Select.Option value={productStatuses.REORDER}>Reorder</Select.Option>\n          <Select.Option value={productStatuses.OUT_OF_STOCK}>\n            Out of Stock\n          </Select.Option>\n        </Select>\n      </Col>\n    </Row>\n  );\n};\n\nBranchProducts.propTypes = {\n  unitTypes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ),\n};\n\nexport default BranchProducts;\n","import { Spin, Tabs } from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { useBranches, useCustomParams, useUnitTypes } from 'hooks';\nimport React, { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport BranchProducts from './BranchProducts';\n\nconst Dashboard = () => {\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n  const { isFetching: isFetchingBranches, data: branches } = useBranches();\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n\n  // METHODS\n  useEffect(() => {\n    if (!searchParams.has('branchId') && branches.length > 0) {\n      setSearchParams({ branchId: branches?.[0]?.id });\n    }\n  }, [branches, searchParams]);\n\n  const onTabClick = (branchId) => {\n    setSearchParams({ branchId });\n  };\n\n  return (\n    <Content title=\"Dashboard\">\n      <Box>\n        <Spin spinning={isFetchingBranches || isUnitTypesFetching}>\n          <Tabs\n            activeKey={searchParams.get('branchId')}\n            type=\"card\"\n            onTabClick={onTabClick}\n          >\n            {branches.map(({ name, id }) => (\n              <Tabs.TabPane key={id} tab={name}>\n                <BranchProducts unitTypes={unitTypes} />\n              </Tabs.TabPane>\n            ))}\n          </Tabs>\n        </Spin>\n      </Box>\n    </Content>\n  );\n};\n\nexport default Dashboard;\n","import { PlusOutlined } from '@ant-design/icons';\nimport { Button, Col, Row, Select, Table, Typography } from 'antd';\nimport { Content, DeliveryStatus, PaymentStatus } from 'components';\nimport { Box } from 'components/elements';\nimport { formatDateTime } from 'globals/functions';\nimport {\n  DEFAULT_PAGE,\n  DEFAULT_PAGE_SIZE,\n  paymentStatuses,\n} from 'globals/variables';\nimport { useCustomParams, useDeliveries } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { Link, useSearchParams } from 'react-router-dom';\n\nconst columns = [\n  { title: 'ID', dataIndex: 'id' },\n  { title: 'Customer', dataIndex: 'customer' },\n  { title: 'Date Created', dataIndex: 'date_created' },\n  { title: 'Schedule of Delivery', dataIndex: 'schedule_of_delivery' },\n  { title: 'Date Completed', dataIndex: 'date_completed' },\n  { title: 'Payment', dataIndex: 'payment', align: 'center' },\n  { title: 'Status', dataIndex: 'status', align: 'center' },\n  { title: 'Actions', dataIndex: 'actions' },\n];\n\nconst Deliveries = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const { setSearchParams } = useCustomParams();\n\n  const {\n    isFetching: isDeliveriesFetching,\n    data: { total, deliveries },\n  } = useDeliveries({\n    params: {\n      paymentStatus: searchParams.get('paymentStatus'),\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const tableData = deliveries.map((delivery) => {\n      const data = {\n        key: delivery.id,\n        id: delivery.id,\n        date_created: formatDateTime(delivery.datetime_created),\n        schedule_of_delivery: formatDateTime(delivery.datetime_delivery),\n        date_completed: formatDateTime(delivery.datetime_completed),\n        payment: <PaymentStatus status={delivery?.payment_status} />,\n        customer: delivery?.customer?.name,\n        status: <DeliveryStatus status={delivery.status} />,\n        actions: (\n          <Button type=\"primary\" ghost>\n            <Link to={`/deliveries/${delivery.id}`}>View</Link>\n          </Button>\n        ),\n      };\n\n      return data;\n    });\n\n    setDataSource(tableData);\n  }, [deliveries]);\n\n  return (\n    <Content className=\"Deliveries\" title=\"Deliveries\">\n      <Box>\n        <Row className=\"mb-4\" gutter={[16, 16]} justify=\"space-between\">\n          <Col md={6} sm={12} span={24}>\n            <Filter />\n          </Col>\n          <Col>\n            <Button\n              size=\"large\"\n              type=\"primary\"\n              onClick={() => {\n                navigate('create');\n              }}\n            >\n              <PlusOutlined /> Create Delivery\n            </Button>\n          </Col>\n        </Row>\n\n        <Table\n          columns={columns}\n          dataSource={dataSource}\n          loading={isDeliveriesFetching}\n          pagination={{\n            current: Number(searchParams.get('page')) || DEFAULT_PAGE,\n            total,\n            pageSize: Number(searchParams.get('pageSize')) || DEFAULT_PAGE_SIZE,\n            onChange: (page, newPageSize) => {\n              setSearchParams({\n                page,\n                pageSize: newPageSize,\n              });\n            },\n            disabled: deliveries.length === 0,\n            position: ['bottomCenter'],\n            pageSizeOptions: ['10', '20', '50'],\n          }}\n          scroll={{ x: 800 }}\n        />\n      </Box>\n    </Content>\n  );\n};\n\nconst Filter = () => {\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Text strong>Payment Status</Typography.Text>\n        <Select\n          className=\"w-100\"\n          value={searchParams.get('paymentStatus')}\n          allowClear\n          onChange={(value) => {\n            setSearchParams({ paymentStatus: value });\n          }}\n        >\n          <Select.Option value={paymentStatuses.UNPAID}>Unpaid</Select.Option>\n          <Select.Option value={paymentStatuses.PAID}>Paid</Select.Option>\n        </Select>\n      </Col>\n    </Row>\n  );\n};\n\nexport default Deliveries;\n","import {\n  Alert,\n  Button,\n  Checkbox,\n  Col,\n  DatePicker,\n  Divider,\n  Input,\n  message,\n  Modal,\n  Radio,\n  Row,\n  Select,\n  Spin,\n  Table,\n  Tabs,\n  Typography,\n} from 'antd';\nimport { BranchProductStatus, Content, FormError } from 'components';\nimport { Box } from 'components/elements';\nimport { Form, Formik } from 'formik';\nimport { formatDateTimeForServer, formatInPeso } from 'globals/functions';\nimport {\n  clientTypes,\n  DEFAULT_PAGE,\n  DEFAULT_PAGE_SIZE,\n  deliveryTypes,\n  GENERIC_ERROR_MESSAGE,\n  productStatuses,\n} from 'globals/variables';\nimport {\n  useBranches,\n  useBranchProducts,\n  useClients,\n  useUnitTypes,\n} from 'hooks';\nimport { flatten } from 'lodash';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { DeliveriesService } from 'services';\nimport { useDebouncedCallback } from 'use-debounce/lib';\nimport * as Yup from 'yup';\nimport '../styles.scss';\n\nconst tabs = {\n  ALL: 'ALL',\n  SELECTED: 'SELECTED',\n};\n\nconst getPriceByDeliveryType = (deliveryType, prices) => {\n  const { priceMarket, priceDelivery, pricePickup, priceSpecial } = prices;\n\n  let price = 0;\n  if (deliveryType === deliveryTypes.PICKUP) {\n    price = priceMarket;\n  } else if (deliveryType === deliveryTypes.DELIVERY) {\n    price = priceDelivery;\n  } else if (deliveryType === deliveryTypes.MARKET) {\n    price = pricePickup;\n  } else if (deliveryType === deliveryTypes.SPECIAL) {\n    price = priceSpecial;\n  }\n\n  return price;\n};\n\nconst getValidDateTest = (label) =>\n  Yup.string()\n    .required()\n    .nullable()\n    .test('is-valid-date', `${label} is not a valid time`, (value) =>\n      moment(value).isValid()\n    )\n    .label(label);\n\nconst CreateDelivery = () => {\n  // STATES\n  const [isLoading, setLoading] = useState(false);\n\n  // CUSTOM HOOKS\n  const navigate = useNavigate();\n  const { isFetching: isBranchesFetching, data: branches } = useBranches();\n  const { isFetching: isCustomersFetching, data: customers } = useClients({\n    params: { type: clientTypes.CUSTOMER },\n  });\n\n  const formDetails = {\n    defaultValues: {\n      branchId: null,\n      deliveryType: null,\n      datetimeDelivery: null,\n      customerName: null,\n      customerAddress: null,\n      customerLandline: null,\n      customerPhone: null,\n      customerDescription: null,\n      customerIsBakery: false,\n      deliveryProducts: [],\n    },\n    schema: Yup.object().shape({\n      branchId: Yup.string().required().label('Branch').nullable(),\n      deliveryType: Yup.string().required().label('Delivery Type').nullable(),\n      datetimeDelivery: getValidDateTest('Schedule Of Delivery'),\n      customerName: Yup.string().required().label('Customer Name').nullable(),\n      customerAddress: Yup.string()\n        .required()\n        .label('Customer Address')\n        .nullable(),\n      customerLandline: Yup.string().label('Customer Telephone').nullable(),\n      customerPhone: Yup.string().label('Customer Phone').nullable(),\n      customerDescription: Yup.string()\n        .label('Customer Description')\n        .nullable(),\n      deliveryProducts: Yup.array().of(\n        Yup.object().shape({\n          productId: Yup.number().required(),\n          productName: Yup.string().required(),\n          productStatus: Yup.string().required(),\n          productPrices: Yup.array().of(\n            Yup.object().shape({\n              branchProductId: Yup.number().required().label('Product'),\n              unitTypeId: Yup.number().required(),\n              price: Yup.number(),\n              quantity: Yup.number()\n                .required()\n                .min(0, 'Must not be negative')\n                .label('Quantity'),\n            })\n          ),\n        })\n      ),\n    }),\n  };\n\n  // METHODS\n  const handleSuccess = (deliveryId) => {\n    Modal.success({\n      title: 'Success',\n      content: `Delivery is successfully created.`,\n      keyboard: false,\n      okText: 'View Delivery',\n      onOk: () => {\n        navigate(`/deliveries/${deliveryId}`);\n      },\n    });\n  };\n\n  return (\n    <Content title=\"Create Delivery\">\n      <Spin spinning={isBranchesFetching || isCustomersFetching}>\n        <Formik\n          initialValues={formDetails.defaultValues}\n          validationSchema={formDetails.schema}\n          onSubmit={async (values) => {\n            setLoading(true);\n\n            if (values.deliveryProducts.length > 0) {\n              try {\n                const customer = customers.find(\n                  ({ name }) => name === values.customerName\n                );\n\n                const deliveryProducts = flatten(\n                  values.deliveryProducts.map((deliveryProduct) =>\n                    deliveryProduct.productPrices\n                      .filter((productPrice) => productPrice.quantity > 0)\n                      .map((productPrice) => {\n                        const price = getPriceByDeliveryType(\n                          values.deliveryType,\n                          {\n                            priceMarket: productPrice.priceMarket,\n                            priceDelivery: productPrice.priceDelivery,\n                            pricePickup: productPrice.pricePickup,\n                            priceSpecial: productPrice.priceSpecial,\n                          }\n                        );\n\n                        return {\n                          branch_product_id: productPrice.branchProductId,\n                          quantity: productPrice.quantity,\n                          price,\n                        };\n                      })\n                  )\n                );\n\n                if (deliveryProducts.length > 0) {\n                  const { data } = await DeliveriesService.create({\n                    body: {\n                      branch_id: values.branchId,\n                      delivery_type: values.deliveryType,\n                      datetime_delivery: formatDateTimeForServer(\n                        moment(values.datetimeDelivery)\n                      ),\n                      customer: {\n                        id: customer?.id,\n                        name: values.customerName,\n                        description: values.customerDescription,\n                        address: values.customerAddress,\n                        landline:\n                          values.customerLandline.length > 0\n                            ? values.customerLandline\n                            : undefined,\n                        phone:\n                          values.customerPhone.length > 0\n                            ? values.customerPhone\n                            : undefined,\n                        is_bakery: values.customerIsBakery,\n                      },\n                      delivery_products: deliveryProducts,\n                    },\n                  });\n\n                  handleSuccess(data.id);\n                } else {\n                  message.error('Please add quantity to products first');\n                }\n              } catch (e) {\n                console.error(e);\n                message.error(GENERIC_ERROR_MESSAGE);\n              }\n            } else {\n              message.error('Please add a product first');\n            }\n\n            setLoading(false);\n          }}\n        >\n          {({ values, setFieldValue }) => (\n            <Form className=\"w-100\">\n              <Spin spinning={isLoading}>\n                <DeliveryDetails\n                  branches={branches}\n                  customers={customers}\n                  values={values}\n                  onSetFieldValue={setFieldValue}\n                />\n\n                {values.branchId !== null && (\n                  <Box>\n                    <Tabs defaultActiveKey={tabs.ALL} size=\"large\" type=\"card\">\n                      <Tabs.TabPane key={tabs.ALL} tab=\"All\">\n                        <ProductsAll\n                          values={values}\n                          onSetFieldValue={setFieldValue}\n                        />\n                      </Tabs.TabPane>\n                      <Tabs.TabPane\n                        key={tabs.SELECTED}\n                        tab={`Selected Products (${values.deliveryProducts.length})`}\n                      >\n                        <ProductsSelected\n                          values={values}\n                          onSetFieldValue={setFieldValue}\n                        />\n                      </Tabs.TabPane>\n                    </Tabs>\n                  </Box>\n                )}\n\n                <Box>\n                  <Row justify=\"end\">\n                    <Col>\n                      <Button htmlType=\"submit\" size=\"large\" type=\"primary\">\n                        Submit\n                      </Button>\n                    </Col>\n                  </Row>\n                </Box>\n              </Spin>\n            </Form>\n          )}\n        </Formik>\n      </Spin>\n    </Content>\n  );\n};\n\nconst DeliveryDetails = ({ branches, customers, values, onSetFieldValue }) => {\n  const [isEditingDescription, setIsEditingDescription] = useState(false);\n\n  return (\n    <Box>\n      <Row gutter={[16, 16]}>\n        <Col sm={12} xs={24}>\n          <Typography.Text strong>Branch Source</Typography.Text>\n          <Select\n            className=\"w-100\"\n            value={values.branchId}\n            onChange={(value) => {\n              onSetFieldValue('branchId', value);\n            }}\n          >\n            {branches.map((branch) => (\n              <Select.Option key={branch.id} value={branch.id}>\n                {branch.name}\n              </Select.Option>\n            ))}\n          </Select>\n          <FormError name=\"branchId\" />\n        </Col>\n\n        <Col sm={12} xs={24}>\n          <Typography.Text strong>Delivery Type</Typography.Text>\n          <Select\n            className=\"w-100\"\n            value={values.deliveryType}\n            onChange={(value) => {\n              onSetFieldValue('deliveryType', value);\n            }}\n          >\n            <Select.Option\n              key={deliveryTypes.DELIVERY}\n              value={deliveryTypes.DELIVERY}\n            >\n              Delivery\n            </Select.Option>\n            <Select.Option\n              key={deliveryTypes.PICKUP}\n              value={deliveryTypes.PICKUP}\n            >\n              Pickup\n            </Select.Option>\n\n            <Select.Option\n              key={deliveryTypes.MARKET}\n              value={deliveryTypes.MARKET}\n            >\n              Market\n            </Select.Option>\n\n            <Select.Option\n              key={deliveryTypes.SPECIAL}\n              value={deliveryTypes.SPECIAL}\n            >\n              Special\n            </Select.Option>\n          </Select>\n          <FormError name=\"deliveryType\" />\n        </Col>\n\n        <Col sm={12} xs={24}>\n          <Typography.Text strong>Schedule of Delivery</Typography.Text>\n          <DatePicker\n            allowClear={false}\n            className=\"w-100\"\n            format=\"MMM DD, YYYY hh:mm A\"\n            showTime={{ format: 'hh:mm A' }}\n            onOk={(value) => {\n              onSetFieldValue('datetimeDelivery', value);\n            }}\n          />\n          <FormError name=\"datetimeDelivery\" />\n        </Col>\n\n        <Col span={24}>\n          <Divider>Customer</Divider>\n        </Col>\n\n        <Col md={12} xs={18}>\n          <Typography.Text strong>Customer's Name</Typography.Text>\n          <Select\n            className=\"w-100\"\n            mode=\"tags\"\n            value={values.customerName !== null ? [values.customerName] : []}\n            onDeselect={() => {\n              onSetFieldValue('customerName', null);\n              onSetFieldValue('customerAddress', null);\n              onSetFieldValue('customerLandline', null);\n              onSetFieldValue('customerPhone', null);\n              onSetFieldValue('customerDescription', null);\n              onSetFieldValue('customerIsBakery', false);\n            }}\n            onSelect={(value) => {\n              const customerName = value;\n              onSetFieldValue('customerName', customerName);\n\n              const customer = customers.find(\n                ({ name }) => name === customerName\n              );\n              onSetFieldValue('customerAddress', customer?.address || '');\n              onSetFieldValue('customerLandline', customer?.landline || '');\n              onSetFieldValue('customerPhone', customer?.phone || '');\n              onSetFieldValue(\n                'customerDescription',\n                customer?.description || ''\n              );\n              onSetFieldValue('customerIsBakery', customer?.is_bakery || false);\n            }}\n          >\n            {customers.map((customer) => (\n              <Select.Option key={customer.id} value={customer.name}>\n                {customer.name}\n              </Select.Option>\n            ))}\n          </Select>\n          <FormError name=\"customerName\" />\n        </Col>\n\n        <Col md={12} xs={6}>\n          <Typography.Text strong>\n            Is Customer a Bakery/Non-market?\n          </Typography.Text>\n          <Radio.Group\n            className=\"w-100\"\n            options={[\n              { label: 'Yes', value: true },\n              { label: 'No', value: false },\n            ]}\n            optionType=\"button\"\n            value={values.customerIsBakery}\n            onChange={(e) => {\n              onSetFieldValue('customerIsBakery', e.target.value);\n            }}\n          />\n          <FormError name=\"customerIsBakery\" />\n        </Col>\n\n        <Col md={12} xs={24}>\n          <Typography.Text strong>Customer's Phone Number</Typography.Text>\n          <Input\n            value={values.customerPhone}\n            onChange={(e) => {\n              onSetFieldValue('customerPhone', e.target.value);\n            }}\n          />\n          <FormError name=\"customerPhone\" />\n        </Col>\n\n        <Col md={12} xs={24}>\n          <Typography.Text strong>Customer's Telephone Number</Typography.Text>\n          <Input\n            value={values.customerLandline}\n            onChange={(e) => {\n              onSetFieldValue('customerLandline', e.target.value);\n            }}\n          />\n          <FormError name=\"customerLandline\" />\n        </Col>\n\n        <Col span={24}>\n          <Typography.Text strong>Customer's Address</Typography.Text>\n          <Input\n            value={values.customerAddress}\n            onChange={(e) => {\n              onSetFieldValue('customerAddress', e.target.value);\n            }}\n          />\n          <FormError name=\"customerAddress\" />\n        </Col>\n\n        <Col span={24}>\n          <Typography.Text strong>Customer's Description</Typography.Text>\n\n          {isEditingDescription ? (\n            <Input.Group compact>\n              <Input\n                style={{ width: 'calc(100% - 70px)' }}\n                value={values.customerDescription}\n                onChange={(e) => {\n                  onSetFieldValue('customerDescription', e.target.value);\n                }}\n              />\n              <Button\n                type=\"primary\"\n                onClick={() => {\n                  setIsEditingDescription(false);\n                }}\n              >\n                Save\n              </Button>\n            </Input.Group>\n          ) : (\n            <Alert\n              action={\n                <Button\n                  size=\"small\"\n                  type=\"link\"\n                  onClick={() => {\n                    setIsEditingDescription(true);\n                  }}\n                >\n                  Edit\n                </Button>\n              }\n              description={values.customerDescription}\n              type=\"info\"\n              showIcon\n            />\n          )}\n\n          <FormError name=\"customerDescription\" />\n        </Col>\n      </Row>\n    </Box>\n  );\n};\n\nconst ProductsAll = ({ values, onSetFieldValue }) => {\n  // STATES\n  const [page, setPage] = useState(DEFAULT_PAGE);\n  const [pageSize, setPageSize] = useState(DEFAULT_PAGE_SIZE);\n  const [search, setSearch] = useState('');\n  const [status, setStatus] = useState('');\n  const [dataSource, setDataSource] = useState([]);\n\n  const columns = [\n    { title: 'Name', dataIndex: 'name' },\n    { title: 'Status', dataIndex: 'status' },\n  ];\n\n  // CUSTOM HOOKS\n  const {\n    isFetching: isBranchProductsFetching,\n    data: { total, products },\n  } = useBranchProducts({\n    params: {\n      branchId: values.branchId,\n      page,\n      pageSize,\n      search,\n      status,\n    },\n    options: {\n      enabled: !!values.branchId,\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    setDataSource(\n      products.map((product) => {\n        const isAlreadyAdded = values.deliveryProducts.find(\n          (deliveryProduct) => deliveryProduct.productId === product.id\n        );\n\n        return {\n          key: product.id,\n          name: (\n            <Checkbox\n              checked={isAlreadyAdded}\n              disabled={product.status === productStatuses.OUT_OF_STOCK}\n              onChange={(e) => {\n                const isChecked = e.target.checked;\n                let newDeliveryProducts = [];\n\n                if (isChecked) {\n                  newDeliveryProducts = [\n                    ...values.deliveryProducts,\n                    {\n                      productId: product.id,\n                      productName: product.name,\n                      productStatus: product.status,\n                      productPrices: product.product_prices.map(\n                        (productPrice) => ({\n                          branchProductId: productPrice.branch_product_id,\n                          unitTypeId: productPrice.unit_type_id,\n                          priceMarket: productPrice.price_market,\n                          priceDelivery: productPrice.price_delivery,\n                          pricePickup: productPrice.price_pickup,\n                          priceSpecial: productPrice.price_special,\n                          balance: productPrice.balance,\n                          quantity: 0,\n                        })\n                      ),\n                    },\n                  ];\n                } else {\n                  newDeliveryProducts = values.deliveryProducts.filter(\n                    (deliveryProduct) =>\n                      deliveryProduct.productId !== product.id\n                  );\n                }\n\n                onSetFieldValue('deliveryProducts', newDeliveryProducts);\n              }}\n            >\n              {product.name}\n            </Checkbox>\n          ),\n          status: <BranchProductStatus status={product.status} />,\n        };\n      })\n    );\n  }, [products, values]);\n\n  useEffect(() => {\n    setDataSource([]);\n    onSetFieldValue('deliveryProducts', []);\n  }, [values.branchId]);\n\n  const onSearch = useDebouncedCallback((value) => {\n    setSearch(value);\n  }, 500);\n\n  return (\n    <>\n      <Row className=\"mb-4\" gutter={[16, 16]}>\n        <Col lg={12} span={24}>\n          <Typography.Text strong>Search</Typography.Text>\n          <Input\n            allowClear\n            onChange={(event) => onSearch(event.target.value.trim())}\n          />\n        </Col>\n\n        <Col lg={12} span={24}>\n          <Typography.Text strong>Status</Typography.Text>\n          <Select\n            className=\"w-100\"\n            allowClear\n            onChange={(value) => {\n              setStatus(value);\n            }}\n          >\n            <Select.Option value={productStatuses.AVAILABLE}>\n              Available\n            </Select.Option>\n            <Select.Option value={productStatuses.REORDER}>\n              Reorder\n            </Select.Option>\n          </Select>\n        </Col>\n      </Row>\n\n      <Table\n        columns={columns}\n        dataSource={dataSource}\n        loading={isBranchProductsFetching}\n        pagination={{\n          current: page,\n          total,\n          pageSize,\n          onChange: (newPage, newPageSize) => {\n            setPage(newPage);\n            setPageSize(newPageSize);\n          },\n          disabled: isBranchProductsFetching,\n          position: ['bottomCenter'],\n          pageSizeOptions: ['10', '20', '50'],\n        }}\n      />\n    </>\n  );\n};\n\nconst ProductsSelected = ({ values, onSetFieldValue }) => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n  const [grandTotal, setGrandTotal] = useState(0);\n\n  // CUSTOM HOOKS\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n\n  // METHODS\n  useEffect(() => {\n    let total = 0;\n\n    setDataSource(\n      values.deliveryProducts.map((deliveryProduct, index) => {\n        const data = {\n          key: deliveryProduct.productId,\n          name: (\n            <Checkbox\n              checked\n              onChange={() => {\n                onSetFieldValue(\n                  'deliveryProducts',\n                  values.deliveryProducts.filter(\n                    ({ productId }) => productId !== deliveryProduct.productId\n                  )\n                );\n              }}\n            >\n              {deliveryProduct.productName}\n            </Checkbox>\n          ),\n        };\n\n        let subtotal = 0;\n        deliveryProduct.productPrices.forEach(\n          (productPrice, productPriceIndex) => {\n            const { quantity } = productPrice;\n            const price = getPriceByDeliveryType(values.deliveryType, {\n              priceMarket: productPrice.priceMarket,\n              priceDelivery: productPrice.priceDelivery,\n              pricePickup: productPrice.pricePickup,\n              priceSpecial: productPrice.priceSpecial,\n            });\n\n            subtotal += price * quantity;\n\n            data[String(productPrice.unitTypeId)] = (\n              <>\n                <Input\n                  style={{ textAlign: 'center' }}\n                  type=\"number\"\n                  onChange={(e) => {\n                    onSetFieldValue(\n                      `deliveryProducts.${index}.productPrices.${productPriceIndex}.quantity`,\n                      Number(e.target.value)\n                    );\n                  }}\n                />\n                <FormError\n                  name={`deliveryProducts.${index}.productPrices.${productPriceIndex}.quantity`}\n                />\n              </>\n            );\n          }\n        );\n        data.subtotal = formatInPeso(subtotal);\n\n        total += subtotal;\n\n        return data;\n      })\n    );\n\n    setGrandTotal(total);\n  }, [values, unitTypes]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId = flatten(\n      values?.deliveryProducts?.map((deliveryProduct) =>\n        deliveryProduct.productPrices.map(\n          (productPrice) => productPrice.unitTypeId\n        )\n      )\n    );\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n        align: 'center',\n      })),\n      { title: 'Subtotal', dataIndex: 'subtotal' },\n    ];\n  }, [values, unitTypes]);\n\n  return (\n    <>\n      <Table\n        columns={getColumns()}\n        dataSource={dataSource}\n        loading={isUnitTypesFetching}\n        pagination={false}\n        scroll={{ x: 800 }}\n      />\n\n      <Typography.Title className=\"CreateDelivery_grandTotal\" level={3}>\n        Grand Total: {formatInPeso(grandTotal)}\n      </Typography.Title>\n    </>\n  );\n};\n\nDeliveryDetails.propTypes = {\n  branches: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  customers: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      address: PropTypes.string,\n      description: PropTypes.string,\n      landline: PropTypes.string,\n      name: PropTypes.string,\n      phone: PropTypes.string,\n    })\n  ).isRequired,\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    deliveryType: PropTypes.string,\n    customerName: PropTypes.string,\n    customerAddress: PropTypes.string,\n    customerLandline: PropTypes.string,\n    customerPhone: PropTypes.string,\n    customerDescription: PropTypes.string,\n    customerIsBakery: PropTypes.bool,\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nProductsAll.propTypes = {\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    deliveryProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        productId: PropTypes.number,\n        productName: PropTypes.string,\n        productStatus: PropTypes.string,\n        productPrices: PropTypes.arrayOf(\n          PropTypes.shape({\n            branchProductId: PropTypes.number,\n            unitTypeId: PropTypes.number,\n            quantity: PropTypes.number,\n          })\n        ),\n      })\n    ),\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nProductsSelected.propTypes = {\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    deliveryType: PropTypes.string,\n    deliveryProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        productId: PropTypes.number,\n        productName: PropTypes.string,\n        productStatus: PropTypes.string,\n        productPrices: PropTypes.arrayOf(\n          PropTypes.shape({\n            branchProductId: PropTypes.number,\n            unitTypeId: PropTypes.number,\n            quantity: PropTypes.number,\n          })\n        ),\n      })\n    ),\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nexport default CreateDelivery;\n","import { ExclamationCircleOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Col,\n  Descriptions,\n  Divider,\n  Input,\n  message,\n  Modal,\n  Row,\n  Select,\n  Spin,\n  Table,\n  Typography,\n} from 'antd';\nimport { Content, FormError, PaymentStatus, PreorderStatus } from 'components';\nimport { Box } from 'components/elements';\nimport { printDeliverySlip } from 'configurePrinter';\nimport { Form, Formik } from 'formik';\nimport { formatDateTime } from 'globals/functions';\nimport {\n  deliveryStatuses,\n  EMPTY_CHARACTER,\n  GENERIC_ERROR_MESSAGE,\n  paymentStatuses,\n} from 'globals/variables';\nimport { useDeliveryEdit, useDeliveryRetrieve, useUnitTypes } from 'hooks';\nimport { jsPDF } from 'jspdf';\nimport { upperFirst } from 'lodash';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router';\nimport * as Yup from 'yup';\n\nconst formDetails = {\n  defaultValues: {\n    preparedBy: '',\n    checkedBy: '',\n    pulledOutBy: '',\n    deliveredBy: '',\n    paymentStatus: '',\n  },\n  schema: Yup.object().shape({\n    preparedBy: Yup.string().label('Prepared By'),\n    checkedBy: Yup.string().label('Checked By'),\n    pulledOutBy: Yup.string().label('Pulled Out By'),\n    deliveredBy: Yup.string().label('Delivered By'),\n    paymentStatus: Yup.string().label('Payment Status'),\n  }),\n};\n\nconst ViewDelivery = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n  const [isPrinting, setIsPrinting] = useState(false);\n  const [html, setHtml] = useState('');\n\n  // CUSTOM HOOKS\n  const params = useParams();\n  const navigate = useNavigate();\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n  const {\n    isFetching: isDeliveryFetching,\n    data: delivery,\n    refetch: refetchDelivery,\n  } = useDeliveryRetrieve({\n    id: params.deliveryId,\n  });\n  const { mutateAsync: editDelivery, isLoading: isEditing } = useDeliveryEdit();\n\n  // METHODS\n  useEffect(() => {\n    const data = {};\n\n    // Note: We need to group all preorder products by product so it\n    // will be easier to traverse them later on\n    delivery?.delivery_products.forEach((deliveryProduct) => {\n      const productName = deliveryProduct.product.name;\n\n      if (data[productName] === undefined) {\n        data[productName] = [];\n      }\n\n      data[productName].push(deliveryProduct);\n    });\n\n    // Note: Convert the object into array\n\n    setDataSource(\n      Object.keys(data).map((key) => {\n        const deliveryProducts = data[key];\n        const deliveryProductData = {\n          key,\n          name: key,\n        };\n\n        deliveryProducts.forEach((deliveryProduct) => {\n          const unitTypeId = String(deliveryProduct.unit_type.id);\n          deliveryProductData[unitTypeId] = Number(deliveryProduct.quantity);\n        });\n\n        return deliveryProductData;\n      })\n    );\n  }, [delivery]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId =\n      delivery?.delivery_products?.map(\n        (deliveryProduct) => deliveryProduct.unit_type.id\n      ) || [];\n\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n        align: 'center',\n      })),\n    ];\n  }, [delivery, unitTypes]);\n\n  const onPrint = () => {\n    if (delivery) {\n      setIsPrinting(true);\n      // eslint-disable-next-line new-cap\n      const pdf = new jsPDF({\n        orientation: 'p',\n        unit: 'px',\n        format: 'legal',\n        hotfixes: ['px_scaling'],\n      });\n\n      const dataHtml = printDeliverySlip(delivery, unitTypes);\n\n      setHtml(dataHtml);\n\n      setTimeout(() => {\n        pdf.html(dataHtml, {\n          margin: 10,\n          filename: `Delivery_${delivery.id}`,\n          callback: (instance) => {\n            window.open(instance.output('bloburl').toString());\n            setIsPrinting(false);\n            setHtml('');\n          },\n        });\n      }, 500);\n    } else {\n      message.error(GENERIC_ERROR_MESSAGE);\n    }\n  };\n\n  const showCancelConfirmation = () => {\n    Modal.confirm({\n      icon: <ExclamationCircleOutlined />,\n      autoFocusButton: 'cancel',\n      centered: true,\n      content: 'Are you sure you want to cancel this delivery?',\n      confirmLoading: isEditing,\n      okText: 'Yes',\n      onOk: async () => {\n        await editDelivery({\n          id: params.deliveryId,\n          status: deliveryStatuses.CANCELLED,\n        });\n\n        Modal.destroyAll();\n        message.success('Delivery is cancelled successfully');\n        navigate('/deliveries');\n      },\n    });\n  };\n\n  return (\n    <Content className=\"ViewDelivery\" title=\"Delivery\">\n      <Spin spinning={isDeliveryFetching || isUnitTypesFetching || isEditing}>\n        <Box>\n          {delivery?.status !== deliveryStatuses.CANCELLED && (\n            <Row className=\"mb-4\">\n              <Col sm={12} xs={24}>\n                <Button\n                  className=\"mb-4\"\n                  loading={isPrinting}\n                  size=\"large\"\n                  type=\"primary\"\n                  ghost\n                  onClick={onPrint}\n                >\n                  Print Delivery\n                </Button>\n              </Col>\n            </Row>\n          )}\n\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            bordered\n          >\n            <Descriptions.Item label=\"ID\" span={2}>\n              {delivery?.id}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Branch\">\n              {delivery?.branch?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Delivery Type\">\n              {upperFirst(delivery?.delivery_type)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Created By\">\n              {delivery?.user?.first_name} {delivery?.user?.last_name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Datetime Created\">\n              {formatDateTime(delivery?.datetime_created)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Schedule of Delivery\">\n              {formatDateTime(delivery?.datetime_delivery)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Status\">\n              <PreorderStatus status={delivery?.status} />\n            </Descriptions.Item>\n          </Descriptions>\n\n          <Divider />\n\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            title=\"Customer\"\n            bordered\n          >\n            <Descriptions.Item label=\"Name\">\n              {delivery?.customer?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Is a Bakery Shop?\">\n              {delivery?.customer?.is_bakery ? 'Yes' : 'No'}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Phone\">\n              {delivery?.customer?.phone || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Telephone\">\n              {delivery?.customer?.landline || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Address\" span={2}>\n              {delivery?.customer?.address}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Description\" span={2}>\n              {delivery?.customer?.description}\n            </Descriptions.Item>\n          </Descriptions>\n\n          <Divider />\n\n          <Table\n            columns={getColumns()}\n            dataSource={dataSource}\n            pagination={false}\n            scroll={{ x: 800 }}\n          />\n        </Box>\n\n        {delivery?.status === deliveryStatuses.DELIVERED && (\n          <Box>\n            <Descriptions\n              column={{ xs: 1, sm: 1, md: 2 }}\n              labelStyle={{ fontWeight: 'bold' }}\n              size=\"small\"\n              title=\"Delivery\"\n              bordered\n            >\n              <Descriptions.Item label=\"Delivery Completed\" span={2}>\n                {formatDateTime(delivery?.datetime_completed)}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Prepared By\">\n                {delivery?.prepared_by || EMPTY_CHARACTER}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Checked By\">\n                {delivery?.checked_by || EMPTY_CHARACTER}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Pulled Out By\">\n                {delivery?.pulled_out_by || EMPTY_CHARACTER}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Delivered By\">\n                {delivery?.delivered_by || EMPTY_CHARACTER}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Payment Status\">\n                <PaymentStatus status={delivery?.payment_status} />\n              </Descriptions.Item>\n            </Descriptions>\n          </Box>\n        )}\n\n        {delivery?.status === deliveryStatuses.PENDING && (\n          <Box>\n            <Formik\n              initialValues={formDetails.defaultValues}\n              validationSchema={formDetails.schema}\n              onSubmit={async (values) => {\n                editDelivery({\n                  id: params.deliveryId,\n                  status: deliveryStatuses.DELIVERED,\n                  paymentStatus: values.paymentStatus,\n                  preparedBy: values.preparedBy,\n                  checkedBy: values.checkedBy,\n                  pulledOutBy: values.pulledOutBy,\n                  deliveredBy: values.deliveredBy,\n                });\n\n                refetchDelivery();\n              }}\n            >\n              {({ values, setFieldValue }) => (\n                <Form>\n                  <Row gutter={[24, 24]}>\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Prepared By</Typography.Text>\n                      <Input\n                        value={values.name}\n                        onChange={(e) => {\n                          setFieldValue('preparedBy', e.target.value);\n                        }}\n                      />\n                      <FormError name=\"preparedBy\" />\n                    </Col>\n\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Checked By</Typography.Text>\n                      <Input\n                        value={values.name}\n                        onChange={(e) => {\n                          setFieldValue('checkedBy', e.target.value);\n                        }}\n                      />\n                      <FormError name=\"checkedBy\" />\n                    </Col>\n\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Pulled Out</Typography.Text>\n                      <Input\n                        value={values.name}\n                        onChange={(e) => {\n                          setFieldValue('pulledOutBy', e.target.value);\n                        }}\n                      />\n                      <FormError name=\"pulledOutBy\" />\n                    </Col>\n\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Delivered By</Typography.Text>\n                      <Input\n                        value={values.name}\n                        onChange={(e) => {\n                          setFieldValue('deliveredBy', e.target.value);\n                        }}\n                      />\n                      <FormError name=\"deliveredBy\" />\n                    </Col>\n\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Payment Status</Typography.Text>\n                      <Select\n                        className=\"w-100\"\n                        value={values.payment_status}\n                        allowClear\n                        onChange={(value) => {\n                          setFieldValue('paymentStatus', value);\n                        }}\n                      >\n                        <Select.Option value={paymentStatuses.UNPAID}>\n                          Unpaid\n                        </Select.Option>\n                        <Select.Option value={paymentStatuses.PAID}>\n                          Paid\n                        </Select.Option>\n                      </Select>\n                      <FormError name=\"paymentStatus\" />\n                    </Col>\n                  </Row>\n\n                  <Row className=\"mt-6\" gutter={[16, 16]}>\n                    <Col sm={12} xs={24}>\n                      <Button\n                        size=\"large\"\n                        block\n                        danger\n                        onClick={showCancelConfirmation}\n                      >\n                        Cancel Delivery\n                      </Button>\n                    </Col>\n                    <Col sm={12} xs={24}>\n                      <Button\n                        htmlType=\"submit\"\n                        size=\"large\"\n                        type=\"primary\"\n                        block\n                      >\n                        Set As Delivered\n                      </Button>\n                    </Col>\n                  </Row>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n        )}\n      </Spin>\n\n      <div\n        dangerouslySetInnerHTML={{\n          __html: html,\n        }}\n      />\n    </Content>\n  );\n};\n\nexport default ViewDelivery;\n","import { formatDateTime, formatInPeso } from 'globals/functions';\nimport { upperFirst, upperCase } from 'lodash';\nimport moment from 'moment';\n\nexport const printOrderSlip = (preorder, unitTypes) => {\n  const products = preorder.preorder_products.map((preorderProduct) => {\n    const unitTypeName = unitTypes.find(\n      ({ id }) => id === preorderProduct.unit_type_id\n    ).name;\n\n    return {\n      name: `${preorderProduct.product.name} (${unitTypeName})`,\n      quantity: preorderProduct.quantity,\n    };\n  });\n\n  const data = `\n\t\t<div style=\"width: 430pt; font-family: 'Courier', Geneva, Tahoma, sans-serif; font-size: 10pt; line-height: 125%\">\n\t\t\t<div style=\"text-align: center;\">\n\t\t\t\t\t<div style=\"font-size: 15pt;\">Marigold Store</div>\n\t\t\t\t\t<div>[ORDER SLIP]</div>\n\t\t\t</div>\n\n\t\t\t<br />\n\n\t\t\t<table style=\"width: 100%;\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Order ID:</td>\n\t\t\t\t\t<td>${preorder.id}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Created By:</td>\n\t\t\t\t\t<td>${preorder?.user?.first_name} ${preorder?.user?.last_name}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Delivery Type:</td>\n\t\t\t\t\t<td>${upperFirst(preorder?.delivery_type)}</td>\n\t\t\t\t</tr>\n                <tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Datetime Created:</td>\n\t\t\t\t\t<td>${formatDateTime(preorder?.datetime_created)}</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t<br />\n\n      <table style=\"width: 100%;\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Supplier Name:</td>\n\t\t\t\t\t<td>${preorder?.supplier?.name}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n          <td style=\"width: 200pt; font-weight: bold;\">Supplier Phone:</td>\n          <td>${preorder?.supplier?.phone || ''}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n          <td style=\"width: 200pt; font-weight: bold;\">Supplier Telephone:</td>\n          <td>${preorder?.supplier?.landline || ''}</td>\n\t\t\t\t</tr>\n        <tr>\n          <td style=\"width: 200pt; font-weight: bold;\">Supplier Address:</td>\n          <td>${preorder?.supplier?.address}</td>\n\t\t\t\t</tr>\n        <tr>\n          <td style=\"width: 200pt; font-weight: bold;\">Supplier Description:</td>\n          <td>${preorder?.supplier?.description}</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t<br />\n\n\t\t\t<table style=\"width: 100%;\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th style=\"text-align: left\">Name</th>\n\t\t\t\t\t\t<th style=\"text-align: center\">Quantity</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>  \n\t\t\t\t<tbody>\n\t\t\t\t\t${products\n            .map(\n              (product) => `\t\n                <tr>\n                    <td style=\"width: 200pt;\">${product.name}</td>\n                    <td style=\"text-align: center\">${product.quantity}</td>\n                </tr>`\n            )\n            .join('')}\n\t\t\t\t</tbody>\n\t\t\t</table>\t\t\t\n\t\t</div>\n\t`;\n\n  return data;\n};\n\nexport const printDeliverySlip = (delivery) => {\n  const colors = {\n    BLACK: '#000',\n    BLUE: '#00A2FF',\n    GREEN: '#50C878',\n    PURPLE: '#6A0DAD',\n    RED: '#A93226',\n  };\n  const MAX_PRODUCTS_IN_PAGE = 21;\n  const productsInPage = delivery.delivery_products.length + 1; // +1 for total row\n  const isDifferentPage = productsInPage > MAX_PRODUCTS_IN_PAGE;\n\n  let total = 0;\n  const productsHtml = [\n    ...delivery.delivery_products.map((deliveryProduct) => {\n      const subtotal =\n        Number(deliveryProduct.quantity) * Number(deliveryProduct.price);\n      total += subtotal;\n\n      return `\n    <tr>\n      <td>${deliveryProduct.quantity}</td>\n      <td>${upperCase(deliveryProduct.unit_type.name)}</td>\n      <td>${upperCase(deliveryProduct.product.name)}</td>\n      <td>${formatInPeso(deliveryProduct.price, 'P')}</td>\n      <td>${formatInPeso(subtotal, 'P')}</td>\n    </tr>\n    `;\n    }),\n    `<tr>\n      <td></td>\n      <td></td>\n      <td><b>TOTAL: </b></td>\n      <td></td>\n      <td>${formatInPeso(total, 'P')}</td>\n    </tr>\n    `,\n  ].join('');\n\n  const generateHtml = ({ color }) => `\n    <div style=\"min-height: ${\n      isDifferentPage ? '1324px' : 'auto'\n    }; color: ${color} !important; border-color: ${color}; font-size: 11px !important;\">\n\n      <div class=\"header\">\n        <div class=\"header-text font-weight-bold\">DELIVERY RECEIPT - #${\n          delivery.id\n        }</div>\n        <div>\n          <strong>ORDERED BY:</strong>\n        </div>\n        <div>\n          <span class=\"text-center font-weight-bold\">\n            ${delivery.customer.name}\n          </span>\n        </div>\n        <div>\n          <strong>DATE: </strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n            ${moment(delivery.datetime_created).format('MMM DD, YYYY')}\n          </span>\n        </div>\n        <div>\n          <strong>ADDRESS:</strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n            ${delivery.customer.address}\n          </span>\n        </div>\n        <div>\n          <strong>RECEIVED BY:</strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n            ${delivery.user.first_name} ${delivery.user.last_name}\n          </span>\n        </div>\n        <div>\n          <strong>TIME:</strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n            ${moment(delivery.datetime_created).format('hh:mm A')}\n          </span>\n        </div>\n        <div>\n          <strong>CONTACT NO:</strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n            ${delivery.customer.phone || ''} ${delivery.customer.landline || ''}\n          </span>\n        </div>\n      </div>\n\n      <div class=\"products\">\n        <table>\n          <tr>\n            <th colspan=\"2\">QUANTITY</th>\n            <th>ARTICLES</th>\n            <th>UNIT PRICE</th>\n            <th>AMOUNT</th>\n          </tr>\n          ${productsHtml}\n        </table>\n      </div>\n\n      <div class=\"footer\">\n        <div>\n          <div>Receive the above goods in good order and conditions.</div>\n          <div class=\"signature\"></div>\n          <div class=\"signature-label\">Customer's Complete Name & Signature</div>\n        </div>\n\n        <div class=\"users\">\n          <div>\n            <strong>PREPARED BY:</strong>\n          </div>\n          <div>\n            <span></span>\n          </div>\n          <div>\n            <strong>CHECKED BY:</strong>\n          </div>\n          <div>\n            <span></span>\n          </div>\n          <div>\n            <strong>PULLED-OUT BY:</strong>\n          </div>\n          <div>\n            <span></span>\n          </div>\n          <div>\n            <strong>DELIVERED BY:</strong>\n          </div>\n          <div>\n            <span></span>\n          </div>\n        </div>\n\n        <div class=\"disclaimer\">\n          NOTE: This order slip at the same time serves as the temporary delivery\n          receipt. Our official invoice will be issued upon return of the receipt\n          and fully signed by the customer.\n        </div>\n      </div>\n\n      <div class=\"note\">\n        <span>BLACK = CUSTOMER'S COPY</span>\n        <span>${\n          delivery.customer.is_bakery ? 'GREEN' : 'BLUE'\n        } = MARIGOLD'S COPY</span>\n      </div>\n    </div>\n  `;\n\n  const data = `\n  <html lang=\"en\">\n    <head>\n      <style>\n        .header, .products, .footer, .note {\n          width: 795px;\n        }\n  \n        .header {\n          display: grid;\n          grid-template-columns: repeat(4, 1fr);\n          border-width: 1px;\n          border-style: solid;\n        }\n  \n        .header-text {\n          grid-column: 1 / span 4;\n          text-align: center;\n        }\n  \n        .header > div {\n          padding: 1px;\n          border-top-width: 1px;\n          border-top-style: solid;\n        }\n  \n        .products table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n  \n        .products table th,\n        .products table td {\n          border-width: 1px;\n          border-style: solid;\n          text-align: center;\n        }\n  \n        .footer {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n        }\n  \n        .footer > div {\n          padding: 2.5px;\n          border-width: 1px;\n          border-style: solid;\n        }\n  \n        .footer .signature {\n          width: 80%;\n          margin: 15px auto 0;\n          border-bottom-width: 1px;\n          border-bottom-style: solid;\n        }\n  \n        .footer .signature-label {\n          text-align: center;\n        }\n  \n        .footer .users {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n        }\n  \n        .footer .users span {\n          width: 80%;\n          height: 100%;\n          margin: auto 0;\n          display: block;\n          border-bottom-width: 1px;\n          border-bottom-style: solid;\n        }\n  \n        .footer .disclaimer {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          text-align: center;\n          padding: 10px;\n          font-size: 10px;\n        }\n  \n        .note {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n  \n        .text-center {\n          text-align: center;\n        }\n  \n        .font-weight-bold {\n          font-weight: bold;\n        }\n      </style>\n    </head>\n  \n    <body>\n      ${generateHtml({ color: colors.BLACK })}\n\n      ${\n        isDifferentPage\n          ? ''\n          : '<hr style=\"width: 795px; margin: 32px 0; border-style: dotted; border-width: 1px; border-color: #9A9A9A\" />'\n      }\n\n      ${generateHtml({\n        color: delivery.customer.is_bakery ? colors.BLUE : colors.RED,\n      })}\n      \n      ${\n        isDifferentPage\n          ? ''\n          : '<hr style=\"width: 795px; margin: 32px 0; border-style: dotted; border-width: 1px; border-color: #9A9A9A\" />'\n      }\n\n      ${generateHtml({ color: colors.PURPLE })}\n    </body>\n  </html>\n  `;\n\n  return data;\n};\n\n// #50C878\n\n// '#00A2FF'\n","import { Table } from 'antd';\nimport { BranchProductStatus } from 'components';\nimport { DEFAULT_PAGE, DEFAULT_PAGE_SIZE } from 'globals/variables';\nimport { useCustomParams, useNotifications } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport './styles.scss';\n\nconst columns = [\n  { title: 'Name', dataIndex: 'name' },\n  { title: 'Status', dataIndex: 'status' },\n];\n\nconst BranchProducts = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const {\n    isFetching: isNotificationsFetching,\n    data: { total, notifications },\n  } = useNotifications({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      branchId: searchParams.get('branchId'),\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const data = notifications.map((notification) => ({\n      key: notification.id,\n      name: `${notification.product.name} (${notification.unit_type.name})`,\n      status: <BranchProductStatus status={notification.status} />,\n    }));\n\n    setDataSource(data);\n  }, [notifications]);\n\n  return (\n    <Table\n      columns={columns}\n      dataSource={dataSource}\n      loading={isNotificationsFetching}\n      pagination={{\n        current: Number(searchParams.get('page')) || DEFAULT_PAGE,\n        total,\n        pageSize: Number(searchParams.get('pageSize')) || DEFAULT_PAGE_SIZE,\n        onChange: (page, newPageSize) => {\n          setSearchParams({\n            page,\n            pageSize: newPageSize,\n          });\n        },\n        disabled: notifications.length === 0,\n        position: ['bottomCenter'],\n        pageSizeOptions: ['10', '20', '50'],\n      }}\n      scroll={{ x: 800 }}\n    />\n  );\n};\n\nexport default BranchProducts;\n","import { Spin, Tabs } from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { useBranches, useCustomParams } from 'hooks';\nimport React, { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport BranchProducts from './BranchProducts';\n\nconst Notifications = () => {\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n  const { isFetching: isFetchingBranches, data: branches } = useBranches();\n\n  // METHODS\n  useEffect(() => {\n    if (!searchParams.has('branchId') && branches.length > 0) {\n      setSearchParams({ branchId: branches?.[0]?.id });\n    }\n  }, [branches, searchParams]);\n\n  const onTabClick = (branchId) => {\n    setSearchParams({ branchId });\n  };\n\n  return (\n    <Content title=\"Notifications\">\n      <Box>\n        <Spin spinning={isFetchingBranches}>\n          <Tabs\n            activeKey={searchParams.get('branchId')}\n            type=\"card\"\n            onTabClick={onTabClick}\n          >\n            {branches.map(({ name, id }) => (\n              <Tabs.TabPane key={id} tab={name}>\n                <BranchProducts />\n              </Tabs.TabPane>\n            ))}\n          </Tabs>\n        </Spin>\n      </Box>\n    </Content>\n  );\n};\n\nexport default Notifications;\n","import { PlusOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Col,\n  DatePicker,\n  Input,\n  Row,\n  Select,\n  Table,\n  Typography,\n} from 'antd';\nimport { Content, PreorderStatus } from 'components';\nimport { Box } from 'components/elements';\nimport { formatDateTime } from 'globals/functions';\nimport {\n  DEFAULT_PAGE,\n  DEFAULT_PAGE_SIZE,\n  preorderStatuses,\n} from 'globals/variables';\nimport { usePreorders } from 'hooks';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { useDebouncedCallback } from 'use-debounce/lib';\nimport './styles.scss';\n\nconst columns = [\n  { title: 'ID', dataIndex: 'id' },\n  { title: 'Supplier', dataIndex: 'supplier' },\n  { title: 'Date Created', dataIndex: 'dateCreated' },\n  { title: 'Date Fulfilled', dataIndex: 'dateFulfilled' },\n  { title: 'Status', dataIndex: 'status', align: 'center' },\n  { title: 'Actions', dataIndex: 'actions' },\n];\n\nconst Preorders = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const {\n    isFetching: isPreordersFetching,\n    data: { total, preorders },\n  } = usePreorders({\n    params: {\n      dateCreated: searchParams.get('dateCreated'),\n      dateFulfilled: searchParams.get('dateFulfilled'),\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      search: searchParams.get('search'),\n      status: searchParams.get('status'),\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const data = preorders.map((preorder) => ({\n      key: preorder.id,\n      id: preorder.id,\n      supplier: preorder.supplier.name,\n      dateCreated: formatDateTime(preorder.datetime_created),\n      dateFulfilled: formatDateTime(preorder.datetime_fulfilled),\n      status: <PreorderStatus status={preorder.status} />,\n      actions: (\n        <Button type=\"primary\" ghost>\n          <Link to={`/preorders/${preorder.id}`}>View</Link>\n        </Button>\n      ),\n    }));\n\n    setDataSource(data);\n  }, [preorders]);\n\n  return (\n    <Content className=\"Preorders\" title=\"Preorders\">\n      <Box>\n        <div className=\"mb-4 d-flex justify-end\">\n          <Button\n            size=\"large\"\n            type=\"primary\"\n            onClick={() => {\n              navigate('create');\n            }}\n          >\n            <PlusOutlined /> Create Preorder\n          </Button>\n        </div>\n\n        <Filter />\n\n        <Table\n          columns={columns}\n          dataSource={dataSource}\n          loading={isPreordersFetching}\n          pagination={{\n            current: Number(searchParams.get('page')) || DEFAULT_PAGE,\n            total,\n            pageSize: Number(searchParams.get('pageSize')) || DEFAULT_PAGE_SIZE,\n            onChange: (page, newPageSize) => {\n              setSearchParams({\n                ...Object.fromEntries(searchParams),\n                page,\n                pageSize: newPageSize,\n              });\n            },\n            disabled: preorders.length === 0,\n            position: ['bottomCenter'],\n            pageSizeOptions: ['10', '20', '50'],\n          }}\n          scroll={{ x: 800 }}\n        />\n      </Box>\n    </Content>\n  );\n};\n\nconst Filter = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const onSearch = useDebouncedCallback((value) => {\n    setSearchParams({ ...Object.fromEntries(searchParams), search: value });\n  }, 500);\n\n  return (\n    <Row className=\"mb-4\" gutter={[16, 16]}>\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Search</Typography.Text>\n        <Input\n          defaultValue={searchParams.get('search')}\n          allowClear\n          onChange={(event) => onSearch(event.target.value.trim())}\n        />\n      </Col>\n\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Status</Typography.Text>\n        <Select\n          className=\"w-100\"\n          value={searchParams.get('status')}\n          allowClear\n          onChange={(value) => {\n            setSearchParams({\n              ...Object.fromEntries(searchParams),\n              status: value || '',\n            });\n          }}\n        >\n          <Select.Option value={preorderStatuses.APPROVED}>\n            Approved\n          </Select.Option>\n          <Select.Option value={preorderStatuses.PENDING}>\n            Pending\n          </Select.Option>\n          <Select.Option value={preorderStatuses.DELIVERED}>\n            Delivered\n          </Select.Option>\n          <Select.Option value={preorderStatuses.CANCELLED}>\n            Cancelled\n          </Select.Option>\n        </Select>\n      </Col>\n\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Date Created</Typography.Text>\n        <DatePicker\n          className=\"w-100\"\n          defaultValue={\n            searchParams.get('dateCreated')\n              ? moment(searchParams.get('dateCreated'))\n              : null\n          }\n          allowClear\n          onChange={(date, dateString) => {\n            setSearchParams({\n              ...Object.fromEntries(searchParams),\n              dateCreated: dateString,\n            });\n          }}\n        />\n      </Col>\n\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Date Fulfilled</Typography.Text>\n        <DatePicker\n          className=\"w-100\"\n          defaultValue={\n            searchParams.get('dateFulfilled')\n              ? moment(searchParams.get('dateFulfilled'))\n              : null\n          }\n          allowClear\n          onChange={(date, dateString) => {\n            setSearchParams({\n              ...Object.fromEntries(searchParams),\n              dateFulfilled: dateString,\n            });\n          }}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default Preorders;\n","import {\n  Alert,\n  Button,\n  Checkbox,\n  Col,\n  Descriptions,\n  Divider,\n  Input,\n  message,\n  Modal,\n  Row,\n  Select,\n  Spin,\n  Table,\n  Tabs,\n  Typography,\n} from 'antd';\nimport {\n  BranchProductStatus,\n  Content,\n  FormError,\n  PreorderStatus,\n} from 'components';\nimport { Box } from 'components/elements';\nimport { Form, Formik } from 'formik';\nimport { formatDateTime } from 'globals/functions';\nimport {\n  clientTypes,\n  DEFAULT_PAGE,\n  DEFAULT_PAGE_SIZE,\n  deliveryTypes,\n  EMPTY_CHARACTER,\n  GENERIC_ERROR_MESSAGE,\n  productStatuses,\n} from 'globals/variables';\nimport {\n  useBranches,\n  useBranchProducts,\n  useClients,\n  usePreorderCreate,\n  usePreorderEdit,\n  usePreorderRetrieve,\n  useProducts,\n  useUnitTypes,\n} from 'hooks';\nimport _, { flatten } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router';\nimport { useDebouncedCallback } from 'use-debounce/lib';\nimport * as Yup from 'yup';\n\nconst tabs = {\n  ALL: 'ALL',\n  SELECTED: 'SELECTED',\n};\n\n// TODO: Add remarks\nconst ModifyPreorder = () => {\n  // STATES\n  const [preorderProducts, setPreorderProducts] = useState([]);\n\n  // CUSTOM HOOKS\n  const params = useParams();\n  const navigate = useNavigate();\n  const { isFetching: isPreorderFetching, data: preorder } =\n    usePreorderRetrieve({\n      id: params.preorderId,\n    });\n  const { isFetching: isBranchesFetching, data: branches } = useBranches();\n  const { isFetching: isSuppliersFetching, data: suppliers } = useClients({\n    params: { type: clientTypes.SUPPLIER },\n  });\n  const {\n    isFetching: isProductsFetching,\n    data: { products },\n  } = useProducts({\n    params: {\n      ids: preorder?.preorder_products\n        ? preorder.preorder_products.map((item) => item.product.id).join(',')\n        : null,\n    },\n    options: {\n      enabled: !!preorder,\n    },\n  });\n  const { mutateAsync: createPreorder, isLoading: isCreating } =\n    usePreorderCreate();\n  const { mutateAsync: editPreorder, isLoading: isEditing } = usePreorderEdit();\n\n  // METHODS\n  useEffect(() => {\n    if (!preorder || products.length === 0) {\n      return;\n    }\n\n    const data = {};\n\n    // Note: We need to group all preorder products by product so it\n    // will be easier to traverse them later on\n    preorder?.preorder_products.forEach((preorderProduct) => {\n      const productName =\n        preorderProduct.branch_product.product_price.product.name;\n\n      if (data[productName] === undefined) {\n        data[productName] = [];\n      }\n\n      data[productName].push(preorderProduct);\n    });\n\n    // Note: Convert the object into array\n    const formattedPreorderProducts = Object.keys(data).map((key) => {\n      const preorderProduct = data[key][0];\n\n      // Get the product prices that has quantity\n      const productPrices = data[key].map((item) => ({\n        id: item.branch_product.product_price.id,\n        branchProductId: item.branch_product.id,\n        unitTypeId: item.unit_type_id,\n        quantity: Number(item.quantity),\n      }));\n\n      // Get the other product prices that has empty (for display purposes)\n      const productPricesIds = productPrices.map(({ id }) => id);\n\n      const product = products.find(\n        ({ id }) => id === preorderProduct.product.id\n      );\n\n      if (product) {\n        const productPricesAll = product?.product_prices || [];\n\n        let productPricesEmpty = productPricesAll.filter(\n          ({ id }) => !productPricesIds.includes(id)\n        );\n\n        if (productPricesEmpty.length > 0) {\n          productPricesEmpty = productPricesEmpty.forEach((productPrice) => {\n            productPrices.push({\n              branchProductId: preorderProduct.branch_product.id,\n              unitTypeId: productPrice.unit_type_id,\n              quantity: 0,\n            });\n          });\n        }\n      }\n\n      return {\n        productId: preorderProduct.product.id,\n        productName: preorderProduct.product.name,\n        productStatus: null, // TODO: Add the product status here - need to update backend to include the product status in the response\n        productPrices,\n        remarks: preorderProduct.remarks || '',\n      };\n    });\n\n    setPreorderProducts(formattedPreorderProducts);\n  }, [preorder, products]);\n\n  const getFormDetails = useCallback(\n    () => ({\n      defaultValues: {\n        branchId: preorder?.branch?.id,\n        deliveryType: null,\n        description: null,\n        supplierName: null,\n        supplierAddress: null,\n        supplierLandline: null,\n        supplierPhone: null,\n        supplierDescription: null,\n        preorderProducts,\n      },\n      schema: Yup.object().shape({\n        branchId: Yup.string().required().label('Branch').nullable(),\n        // NOTE: We must not check the other details when editing\n        ...(preorder\n          ? {}\n          : {\n              deliveryType: Yup.string()\n                .required()\n                .label('Delivery Type')\n                .nullable(),\n              description: Yup.string().label('Description').nullable(),\n              supplierName: Yup.string()\n                .required()\n                .label('Supplier Name')\n                .nullable(),\n              supplierAddress: Yup.string()\n                .required()\n                .label('Supplier Address')\n                .nullable(),\n              supplierLandline: Yup.string()\n                .label('Supplier Telephone')\n                .nullable(),\n              supplierPhone: Yup.string().label('Supplier Phone').nullable(),\n              supplierDescription: Yup.string()\n                .label('Supplier Description')\n                .nullable(),\n            }),\n        preorderProducts: Yup.array().of(\n          Yup.object().shape({\n            productId: Yup.number().required(),\n            productName: Yup.string().required(),\n            productStatus: Yup.string().nullable(),\n            remarks: Yup.string().nullable(),\n            productPrices: Yup.array().of(\n              Yup.object().shape({\n                branchProductId: Yup.number().required().label('Product'),\n                unitTypeId: Yup.number().required(),\n                quantity: Yup.number()\n                  .required()\n                  .min(0, 'Must not be negative')\n                  .label('Quantity'),\n                remarks: Yup.string().label('Remarks'),\n              })\n            ),\n          })\n        ),\n      }),\n    }),\n    [preorder, preorderProducts]\n  );\n\n  const handleSuccess = (preorderId) => {\n    Modal.success({\n      title: 'Success',\n      content: 'Preorder is successfully created.',\n      keyboard: false,\n      okText: 'View Preorder',\n      onOk: () => {\n        navigate(`/preorders/${preorderId}`);\n      },\n    });\n  };\n\n  return (\n    <Content title={preorder ? 'Edit Preorder' : 'Create Preorder'}>\n      <Spin\n        spinning={\n          isPreorderFetching ||\n          isBranchesFetching ||\n          isSuppliersFetching ||\n          isProductsFetching\n        }\n      >\n        <Formik\n          initialValues={getFormDetails().defaultValues}\n          validationSchema={getFormDetails().schema}\n          enableReinitialize\n          onSubmit={async (values, { setFieldError }) => {\n            if (values.preorderProducts.length > 0) {\n              try {\n                const supplier = suppliers.find(\n                  ({ name }) => name === values.supplierName\n                );\n                const preorderProductsData = flatten(\n                  values.preorderProducts.map((preorderProduct) =>\n                    preorderProduct.productPrices\n                      .filter((productPrice) => productPrice.quantity > 0)\n                      .map((productPrice) => ({\n                        branch_product_id: productPrice.branchProductId,\n                        quantity: productPrice.quantity,\n                        remarks: preorderProduct.remarks,\n                      }))\n                  )\n                );\n\n                if (preorderProductsData.length > 0) {\n                  let responseData = null;\n                  if (preorder) {\n                    const { data } = await editPreorder({\n                      id: preorder.id,\n                      preorderProducts: preorderProductsData,\n                    });\n                    responseData = data;\n                  } else {\n                    const { data } = await createPreorder({\n                      branchId: values.branchId,\n                      deliveryType: values.deliveryType,\n                      description: values.description,\n                      supplier: {\n                        id: supplier?.id,\n                        name: values.supplierName,\n                        description: values.supplierDescription,\n                        address: values.supplierAddress,\n                        landline: values.supplierLandline,\n                        phone: values.supplierPhone,\n                      },\n                      preorderProducts: preorderProductsData,\n                    });\n                    responseData = data;\n                  }\n\n                  handleSuccess(responseData.id);\n                } else {\n                  message.error('Please add quantity to products first');\n                }\n              } catch (e) {\n                setFieldError('response', GENERIC_ERROR_MESSAGE);\n              }\n            } else {\n              message.error('Please add a product first');\n            }\n          }}\n        >\n          {({ values, setFieldValue }) => (\n            <Form className=\"w-100\">\n              <Spin spinning={isCreating || isEditing}>\n                <PreorderDetails\n                  branches={branches}\n                  preorder={preorder}\n                  suppliers={suppliers}\n                  values={values}\n                  onSetFieldValue={setFieldValue}\n                />\n\n                {values.branchId !== null && (\n                  <Box>\n                    <Tabs defaultActiveKey={tabs.ALL} size=\"large\" type=\"card\">\n                      <Tabs.TabPane key={tabs.ALL} tab=\"All\">\n                        <ProductsAll\n                          preorder={preorder}\n                          values={values}\n                          onSetFieldValue={setFieldValue}\n                        />\n                      </Tabs.TabPane>\n                      <Tabs.TabPane\n                        key={tabs.SELECTED}\n                        tab={`Selected Products (${values.preorderProducts.length})`}\n                      >\n                        <ProductsSelected\n                          values={values}\n                          onSetFieldValue={setFieldValue}\n                        />\n                      </Tabs.TabPane>\n                    </Tabs>\n                  </Box>\n                )}\n\n                <Box>\n                  <Row justify=\"end\">\n                    <Col>\n                      <Button htmlType=\"submit\" size=\"large\" type=\"primary\">\n                        Submit\n                      </Button>\n                    </Col>\n                  </Row>\n                </Box>\n              </Spin>\n            </Form>\n          )}\n        </Formik>\n      </Spin>\n    </Content>\n  );\n};\n\nconst PreorderDetails = ({\n  preorder,\n  branches,\n  suppliers,\n  values,\n  onSetFieldValue,\n}) => {\n  const [isEditingDescription, setIsEditingDescription] = useState(false);\n\n  return (\n    <Box>\n      {preorder ? (\n        <>\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            bordered\n          >\n            <Descriptions.Item label=\"ID\" span={2}>\n              {preorder?.id}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Branch\">\n              {preorder?.branch?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Delivery Type\">\n              {_.upperFirst(preorder?.delivery_type)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Created By\">\n              {preorder?.user?.first_name} {preorder?.user?.last_name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Datetime Created\">\n              {formatDateTime(preorder?.datetime_created)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Datetime Fulfilled\">\n              {formatDateTime(preorder?.datetime_fulfilled)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Status\">\n              <PreorderStatus status={preorder?.status} />\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Description\" span={2}>\n              <Alert description={preorder.description} type=\"info\" showIcon />\n            </Descriptions.Item>\n          </Descriptions>\n\n          <Divider />\n\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            title=\"Supplier\"\n            bordered\n          >\n            <Descriptions.Item label=\"Name\" span={2}>\n              {preorder?.supplier?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Phone\">\n              {preorder?.supplier?.phone || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Telephone\">\n              {preorder?.supplier?.landline || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Address\" span={2}>\n              {preorder?.supplier?.address}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Description\" span={2}>\n              {preorder?.supplier?.description}\n            </Descriptions.Item>\n          </Descriptions>\n        </>\n      ) : (\n        <Row gutter={[16, 16]}>\n          <Col sm={12} xs={24}>\n            <Typography.Text strong>Branch Destination</Typography.Text>\n            <Select\n              className=\"w-100\"\n              value={values.branchId}\n              onChange={(value) => {\n                onSetFieldValue('branchId', value);\n              }}\n            >\n              {branches.map((branch) => (\n                <Select.Option key={branch.id} value={branch.id}>\n                  {branch.name}\n                </Select.Option>\n              ))}\n            </Select>\n            <FormError name=\"branchId\" />\n          </Col>\n\n          <Col sm={12} xs={24}>\n            <Typography.Text strong>Delivery Type</Typography.Text>\n            <Select\n              className=\"w-100\"\n              value={values.deliveryType}\n              onChange={(value) => {\n                onSetFieldValue('deliveryType', value);\n              }}\n            >\n              <Select.Option\n                key={deliveryTypes.DELIVERY}\n                value={deliveryTypes.DELIVERY}\n              >\n                Delivery\n              </Select.Option>\n              <Select.Option\n                key={deliveryTypes.PICKUP}\n                value={deliveryTypes.PICKUP}\n              >\n                Pickup\n              </Select.Option>\n            </Select>\n            <FormError name=\"deliveryType\" />\n          </Col>\n\n          <Col span={24}>\n            <Typography.Text strong>Description</Typography.Text>\n            <Input\n              value={values.description}\n              onChange={(e) => {\n                onSetFieldValue('description', e.target.value);\n              }}\n            />\n            <FormError name=\"description\" />\n          </Col>\n\n          <Col span={24}>\n            <Divider>Supplier</Divider>\n          </Col>\n\n          <Col md={12} xs={24}>\n            <Typography.Text strong>Supplier's Name</Typography.Text>\n            <Select\n              className=\"w-100\"\n              mode=\"tags\"\n              value={values.supplierName !== null ? [values.supplierName] : []}\n              onDeselect={() => {\n                onSetFieldValue('supplierName', null);\n                onSetFieldValue('supplierAddress', null);\n                onSetFieldValue('supplierLandline', null);\n                onSetFieldValue('supplierPhone', null);\n                onSetFieldValue('supplierDescription', null);\n              }}\n              onSelect={(value) => {\n                const supplierName = value;\n                onSetFieldValue('supplierName', supplierName);\n\n                const supplier = suppliers.find(\n                  ({ name }) => name === supplierName\n                );\n                onSetFieldValue('supplierAddress', supplier?.address || '');\n                onSetFieldValue('supplierLandline', supplier?.landline || '');\n                onSetFieldValue('supplierPhone', supplier?.phone || '');\n                onSetFieldValue(\n                  'supplierDescription',\n                  supplier?.description || ''\n                );\n              }}\n            >\n              {suppliers.map((supplier) => (\n                <Select.Option key={supplier.id} value={supplier.name}>\n                  {supplier.name}\n                </Select.Option>\n              ))}\n            </Select>\n            <FormError name=\"supplierName\" />\n          </Col>\n\n          <Col md={6} sm={24}>\n            <Typography.Text strong>Supplier's Phone Number</Typography.Text>\n            <Input\n              value={values.supplierPhone}\n              onChange={(e) => {\n                onSetFieldValue('supplierPhone', e.target.value);\n              }}\n            />\n            <FormError name=\"supplierPhone\" />\n          </Col>\n\n          <Col md={6} sm={24}>\n            <Typography.Text strong>\n              Supplier's Telephone Number\n            </Typography.Text>\n            <Input\n              value={values.supplierLandline}\n              onChange={(e) => {\n                onSetFieldValue('supplierLandline', e.target.value);\n              }}\n            />\n            <FormError name=\"supplierLandline\" />\n          </Col>\n\n          <Col span={24}>\n            <Typography.Text strong>Supplier's Address</Typography.Text>\n            <Input\n              value={values.supplierAddress}\n              onChange={(e) => {\n                onSetFieldValue('supplierAddress', e.target.value);\n              }}\n            />\n            <FormError name=\"supplierAddress\" />\n          </Col>\n\n          <Col span={24}>\n            <Typography.Text strong>Supplier's Description</Typography.Text>\n\n            {isEditingDescription ? (\n              <Input.Group compact>\n                <Input\n                  style={{ width: 'calc(100% - 70px)' }}\n                  value={values.supplierDescription}\n                  onChange={(e) => {\n                    onSetFieldValue('supplierDescription', e.target.value);\n                  }}\n                />\n                <Button\n                  type=\"primary\"\n                  onClick={() => {\n                    setIsEditingDescription(false);\n                  }}\n                >\n                  Save\n                </Button>\n              </Input.Group>\n            ) : (\n              <Alert\n                action={\n                  <Button\n                    size=\"small\"\n                    type=\"link\"\n                    onClick={() => {\n                      setIsEditingDescription(true);\n                    }}\n                  >\n                    Edit\n                  </Button>\n                }\n                description={values.supplierDescription}\n                type=\"info\"\n                showIcon\n              />\n            )}\n\n            <FormError name=\"supplierDescription\" />\n          </Col>\n        </Row>\n      )}\n    </Box>\n  );\n};\n\nconst ProductsAll = ({ preorder, values, onSetFieldValue }) => {\n  // STATES\n  const [page, setPage] = useState(DEFAULT_PAGE);\n  const [pageSize, setPageSize] = useState(DEFAULT_PAGE_SIZE);\n  const [search, setSearch] = useState('');\n  const [status, setStatus] = useState('');\n  const [dataSource, setDataSource] = useState([]);\n\n  const columns = [\n    { title: 'Name', dataIndex: 'name' },\n    { title: 'Status', dataIndex: 'status' },\n  ];\n\n  // CUSTOM HOOKS\n  const {\n    isFetching: isBranchProductsFetching,\n    data: { total, products },\n  } = useBranchProducts({\n    params: {\n      branchId: values.branchId,\n      page,\n      pageSize,\n      search,\n      status,\n    },\n    options: {\n      enabled: !!values.branchId,\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const data = products.map((product) => {\n      const isAlreadyAdded = values.preorderProducts.find(\n        (preorderProduct) => preorderProduct.productId === product.id\n      );\n\n      return {\n        key: product.id,\n        name: (\n          <Checkbox\n            checked={isAlreadyAdded}\n            onChange={(e) => {\n              const isChecked = e.target.checked;\n              let newPreorderProducts = [];\n\n              if (isChecked) {\n                newPreorderProducts = [\n                  ...values.preorderProducts,\n                  {\n                    productId: product.id,\n                    productName: product.name,\n                    productStatus: product.status,\n                    productPrices: product.product_prices.map(\n                      (productPrice) => ({\n                        branchProductId: productPrice.branch_product_id,\n                        unitTypeId: productPrice.unit_type_id,\n                        quantity: 0,\n                      })\n                    ),\n                  },\n                ];\n              } else {\n                newPreorderProducts = values.preorderProducts.filter(\n                  (preorderProduct) => preorderProduct.productId !== product.id\n                );\n              }\n\n              onSetFieldValue('preorderProducts', newPreorderProducts);\n            }}\n          >\n            {product.name}\n          </Checkbox>\n        ),\n        status: <BranchProductStatus status={product.status} />,\n      };\n    });\n\n    setDataSource(data);\n  }, [products, values]);\n\n  useEffect(() => {\n    // NOTE: Only clear the data when creating\n    if (!preorder) {\n      setDataSource([]);\n      onSetFieldValue('preorderProducts', []);\n    }\n  }, [preorder, values.branchId]);\n\n  const onSearch = useDebouncedCallback((value) => {\n    setSearch(value);\n  }, 500);\n\n  return (\n    <>\n      <Row className=\"mb-4\" gutter={[16, 16]}>\n        <Col lg={12} span={24}>\n          <Typography.Text strong>Search</Typography.Text>\n          <Input\n            allowClear\n            onChange={(event) => onSearch(event.target.value.trim())}\n          />\n        </Col>\n\n        <Col lg={12} span={24}>\n          <Typography.Text strong>Status</Typography.Text>\n          <Select\n            className=\"w-100\"\n            allowClear\n            onChange={(value) => {\n              setStatus(value);\n            }}\n          >\n            <Select.Option value={productStatuses.AVAILABLE}>\n              Available\n            </Select.Option>\n            <Select.Option value={productStatuses.REORDER}>\n              Reorder\n            </Select.Option>\n            <Select.Option value={productStatuses.OUT_OF_STOCK}>\n              Out of Stock\n            </Select.Option>\n          </Select>\n        </Col>\n      </Row>\n      <Table\n        columns={columns}\n        dataSource={dataSource}\n        loading={isBranchProductsFetching}\n        pagination={{\n          current: page,\n          total,\n          pageSize,\n          onChange: (newPage, newPageSize) => {\n            setPage(newPage);\n            setPageSize(newPageSize);\n          },\n          disabled: isBranchProductsFetching,\n          position: ['bottomCenter'],\n          pageSizeOptions: ['10', '20', '50'],\n        }}\n      />\n    </>\n  );\n};\n\nconst ProductsSelected = ({ values, onSetFieldValue }) => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n\n  // METHODS\n  useEffect(() => {\n    setDataSource(\n      values.preorderProducts.map((preorderProduct, index) => {\n        const data = {\n          key: preorderProduct.productId,\n          name: (\n            <Checkbox\n              checked\n              onChange={() => {\n                onSetFieldValue(\n                  'preorderProducts',\n                  values.preorderProducts.filter(\n                    ({ productId }) => productId !== preorderProduct.productId\n                  )\n                );\n              }}\n            >\n              {preorderProduct.productName}\n            </Checkbox>\n          ),\n          remarks: (\n            <Input\n              className=\"text-center\"\n              value={preorderProduct.remarks || ''}\n              onChange={(e) => {\n                onSetFieldValue(\n                  `preorderProducts.${index}.remarks`,\n                  e.target.value\n                );\n              }}\n            />\n          ),\n          status: (\n            <BranchProductStatus status={preorderProduct.productStatus} />\n          ),\n        };\n\n        preorderProduct.productPrices.forEach(\n          (productPrice, productPriceIndex) => {\n            data[String(productPrice.unitTypeId)] = (\n              <>\n                <Input\n                  className=\"text-center\"\n                  type=\"number\"\n                  value={productPrice.quantity || ''}\n                  onChange={(e) => {\n                    onSetFieldValue(\n                      `preorderProducts.${index}.productPrices.${productPriceIndex}.quantity`,\n                      Number(e.target.value)\n                    );\n                  }}\n                />\n                <FormError\n                  name={`preorderProducts.${index}.productPrices.${productPriceIndex}.quantity`}\n                />\n              </>\n            );\n          }\n        );\n\n        return data;\n      })\n    );\n  }, [values, unitTypes]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId = flatten(\n      values?.preorderProducts?.map((preorderProduct) =>\n        preorderProduct.productPrices.map(\n          (productPrice) => productPrice.unitTypeId\n        )\n      )\n    );\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n        align: 'center',\n      })),\n      { title: 'Remarks', dataIndex: 'remarks' },\n      { title: 'Status', dataIndex: 'status' },\n    ];\n  }, [values, unitTypes]);\n\n  return (\n    <Table\n      columns={getColumns()}\n      dataSource={dataSource}\n      loading={isUnitTypesFetching}\n      pagination={false}\n      scroll={{ x: 800 }}\n    />\n  );\n};\n\nPreorderDetails.propTypes = {\n  preorder: PropTypes.shape({\n    id: PropTypes.number,\n    delivery_type: PropTypes.string,\n    datetime_created: PropTypes.string,\n    datetime_fulfilled: PropTypes.string,\n    status: PropTypes.string,\n    description: PropTypes.string,\n    branch: PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    }),\n    user: PropTypes.shape({\n      first_name: PropTypes.string,\n      last_name: PropTypes.string,\n    }),\n    supplier: PropTypes.shape({\n      name: PropTypes.string,\n      phone: PropTypes.string,\n      landline: PropTypes.string,\n      address: PropTypes.string,\n      description: PropTypes.string,\n    }),\n  }),\n  branches: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  suppliers: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      address: PropTypes.string,\n      description: PropTypes.string,\n      landline: PropTypes.string,\n      name: PropTypes.string,\n      phone: PropTypes.string,\n    })\n  ).isRequired,\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    deliveryType: PropTypes.string,\n    description: PropTypes.string,\n    supplierName: PropTypes.string,\n    supplierAddress: PropTypes.string,\n    supplierLandline: PropTypes.string,\n    supplierPhone: PropTypes.string,\n    supplierDescription: PropTypes.string,\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nProductsAll.propTypes = {\n  preorder: PropTypes.shape({\n    id: PropTypes.number,\n  }),\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    preorderProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        productId: PropTypes.number,\n        productName: PropTypes.string,\n        productStatus: PropTypes.string,\n        productPrices: PropTypes.arrayOf(\n          PropTypes.shape({\n            branchProductId: PropTypes.number,\n            unitTypeId: PropTypes.number,\n            quantity: PropTypes.number,\n          })\n        ),\n      })\n    ),\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nProductsSelected.propTypes = {\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    preorderProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        productId: PropTypes.number,\n        productName: PropTypes.string,\n        productStatus: PropTypes.string,\n        productPrices: PropTypes.arrayOf(\n          PropTypes.shape({\n            branchProductId: PropTypes.number,\n            unitTypeId: PropTypes.number,\n            quantity: PropTypes.number,\n          })\n        ),\n      })\n    ),\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nexport default ModifyPreorder;\n","import { Button, Input, message, Modal, Table } from 'antd';\nimport { FormError } from 'components';\nimport { Form, Formik } from 'formik';\nimport { GENERIC_ERROR_MESSAGE } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { PreorderTransactionsService } from 'services';\nimport * as Yup from 'yup';\n\nexport const CreateTransactionModal = ({\n  preorder,\n  preorderProducts,\n  columns,\n  onSuccess,\n  onClose,\n}) => {\n  // STATES\n  const [isLoading, setLoading] = useState(false);\n  const [dataSource, setDataSource] = useState([]);\n  const [formValues, setFormValues] = useState([]);\n\n  const refFormik = useRef();\n\n  // METHODS\n  useEffect(() => {\n    const initialFormValues = [];\n    let count = 0;\n\n    setDataSource(\n      Object.keys(preorderProducts).map((key) => {\n        const preorderProductData = {\n          key,\n          name: key,\n        };\n\n        preorderProducts[key].forEach((preorderProduct) => {\n          const unitTypeId =\n            preorderProduct.branch_product.product_price.unit_type;\n\n          const fieldQuantityKey = `${count}.quantity`;\n          preorderProductData[String(unitTypeId)] = (\n            <>\n              <Input\n                style={{ textAlign: 'center' }}\n                type=\"number\"\n                onChange={(e) => {\n                  refFormik.current.setFieldValue(\n                    fieldQuantityKey,\n                    Number(e.target.value)\n                  );\n                }}\n              />\n              <FormError name={fieldQuantityKey} />\n            </>\n          );\n\n          initialFormValues.push({\n            preorderProductId: preorderProduct.id,\n            quantity: '',\n          });\n\n          count++;\n        });\n\n        return preorderProductData;\n      })\n    );\n\n    setFormValues(initialFormValues);\n  }, [preorderProducts]);\n\n  const getFormDetails = useCallback(\n    () => ({\n      defaultValues: formValues,\n      schema: Yup.array().of(\n        Yup.object().shape({\n          preorderProductId: Yup.number().required(),\n          quantity: Yup.number().required('Required'),\n        })\n      ),\n    }),\n    [formValues]\n  );\n\n  return (\n    <Modal\n      footer={[\n        <Button\n          key=\"btnCancel\"\n          disabled={isLoading}\n          size=\"large\"\n          onClick={onClose}\n        >\n          Cancel\n        </Button>,\n        <Button\n          key=\"btnSubmit\"\n          loading={isLoading}\n          size=\"large\"\n          type=\"primary\"\n          onClick={() => {\n            refFormik.current.submitForm();\n          }}\n        >\n          Submit\n        </Button>,\n      ]}\n      title=\"[Create] Preorder Transaction\"\n      width={800}\n      centered\n      closable\n      visible\n      onCancel={onClose}\n    >\n      <Formik\n        initialValues={getFormDetails().defaultValues}\n        innerRef={refFormik}\n        validationSchema={getFormDetails().schema}\n        enableReinitialize\n        onSubmit={async (values) => {\n          setLoading(true);\n\n          try {\n            await PreorderTransactionsService.create({\n              body: {\n                preorder_id: preorder.id,\n                preorder_transaction_products: values.map(\n                  (preorderProduct) => ({\n                    preorder_product_id: preorderProduct.preorderProductId,\n                    quantity: preorderProduct.quantity,\n                  })\n                ),\n              },\n            });\n\n            onSuccess();\n            onClose();\n          } catch (e) {\n            message.error(GENERIC_ERROR_MESSAGE);\n          } finally {\n            setLoading(false);\n          }\n        }}\n      >\n        <Form>\n          <Table\n            columns={columns}\n            dataSource={dataSource}\n            loading={isLoading}\n            pagination={false}\n            scroll={{ x: 600 }}\n          />\n        </Form>\n      </Formik>\n    </Modal>\n  );\n};\n\nCreateTransactionModal.propTypes = {\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string,\n      dataIndex: PropTypes.string,\n    })\n  ),\n  preorder: PropTypes.shape({\n    id: PropTypes.number,\n  }).isRequired,\n  preorderProducts: PropTypes.object,\n  onClose: PropTypes.func.isRequired,\n  onSuccess: PropTypes.func.isRequired,\n};\n","import { Button, Descriptions, Divider, Modal, Table } from 'antd';\nimport { formatDateTime } from 'globals/functions';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\n\nexport const ViewTransactionModal = ({\n  preorderTransaction,\n  unitTypes,\n  onClose,\n}) => {\n  // STATES\n  const [unitTypesId, setUnitTypesId] = useState([]);\n  const [dataSource, setDataSource] = useState([]);\n\n  // METHODS\n  useEffect(() => {\n    const data = {};\n\n    // Note: We need to group all preorder products by product so it\n    // will be easier to traverse them later on\n    preorderTransaction.preorder_transaction_products.forEach(\n      (preorderTransactionProduct) => {\n        const productName = preorderTransactionProduct.product_name;\n\n        if (data[productName] === undefined) {\n          data[productName] = [];\n        }\n\n        data[productName].push(preorderTransactionProduct);\n      }\n    );\n\n    // Note: Convert the object into array\n    const newUnitTypeIds = [];\n    setDataSource(\n      Object.keys(data).map((key) => {\n        const preorderTransactionProductData = { key, name: key };\n\n        data[key].forEach((preorderTransactionProduct) => {\n          const unitTypeId = preorderTransactionProduct.unit_type_id;\n          newUnitTypeIds.push(unitTypeId);\n\n          preorderTransactionProductData[String(unitTypeId)] = Number(\n            preorderTransactionProduct.quantity\n          );\n        });\n\n        return preorderTransactionProductData;\n      })\n    );\n\n    setUnitTypesId(newUnitTypeIds);\n  }, [preorderTransaction]);\n\n  const getColumns = useCallback(() => {\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n      })),\n    ];\n  }, [unitTypesId, unitTypes]);\n\n  return (\n    <Modal\n      footer={[\n        <Button key=\"btnCancel\" size=\"large\" onClick={onClose}>\n          Close\n        </Button>,\n      ]}\n      title=\"Preorder Transaction\"\n      width={800}\n      centered\n      closable\n      visible\n      onCancel={onClose}\n    >\n      <Descriptions\n        column={1}\n        labelStyle={{ fontWeight: 'bold' }}\n        size=\"small\"\n        bordered\n      >\n        <Descriptions.Item label=\"ID\">\n          {preorderTransaction.id}\n        </Descriptions.Item>\n        <Descriptions.Item label=\"Received By\">\n          {preorderTransaction.user.first_name}{' '}\n          {preorderTransaction.user.last_name}\n        </Descriptions.Item>\n\n        <Descriptions.Item label=\"Date Created\">\n          {formatDateTime(preorderTransaction.datetime_created)}\n        </Descriptions.Item>\n      </Descriptions>\n\n      <Divider />\n\n      <Table\n        columns={getColumns()}\n        dataSource={dataSource}\n        pagination={false}\n        scroll={{ x: 600 }}\n      />\n    </Modal>\n  );\n};\n\nViewTransactionModal.propTypes = {\n  preorderTransaction: PropTypes.shape({\n    id: PropTypes.number,\n    datetime_created: PropTypes.string,\n    user: PropTypes.shape({\n      first_name: PropTypes.string,\n      last_name: PropTypes.string,\n    }),\n    preorder_transaction_products: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number,\n        product_name: PropTypes.string,\n        quantity: PropTypes.string,\n        unit_type_id: PropTypes.number,\n      })\n    ),\n    dataIndex: PropTypes.string,\n  }),\n  unitTypes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import { PlusOutlined } from '@ant-design/icons';\nimport {\n  Alert,\n  Button,\n  Col,\n  Descriptions,\n  Divider,\n  Input,\n  message,\n  Row,\n  Spin,\n  Table,\n  Typography,\n} from 'antd';\nimport { Content, PreorderStatus } from 'components';\nimport { Box } from 'components/elements';\nimport { printOrderSlip } from 'configurePrinter';\nimport { formatDateTime } from 'globals/functions';\nimport {\n  EMPTY_CHARACTER,\n  GENERIC_ERROR_MESSAGE,\n  preorderStatuses,\n} from 'globals/variables';\nimport { usePreorderEdit, usePreorderRetrieve, useUnitTypes } from 'hooks';\nimport { jsPDF } from 'jspdf';\nimport { upperFirst } from 'lodash';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { PreordersService } from 'services';\nimport '../styles.scss';\nimport { CreateTransactionModal } from './CreateTransactionModal';\nimport { ViewTransactionModal } from './ViewTransactionModal';\n\nconst transactionColumns = [\n  {\n    title: 'ID',\n    dataIndex: 'id',\n  },\n  {\n    title: 'Date Created',\n    dataIndex: 'datetime_created',\n  },\n  {\n    title: 'Received By',\n    dataIndex: 'received_by',\n  },\n  {\n    title: 'Action',\n    dataIndex: 'actions',\n  },\n];\n\nconst ViewPreorder = () => {\n  // STATES\n  const [isLoading, setIsLoading] = useState(false);\n  const [isPrinting, setIsPrinting] = useState(false);\n  const [preorderProducts, setPreorderProducts] = useState([]);\n  const [preorderProductsObject, setPreorderProductsObject] = useState({});\n  const [unitTypesId, setUnitTypesId] = useState([]);\n  const [createTransactionModalVisible, setCreateTransactionModalVisible] =\n    useState(false);\n  const [transactionsDataSource, setTransactionsDataSource] = useState([]);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n\n  const [description, setDescription] = useState('');\n  const [isEditingDescription, setIsEditingDescription] = useState(false);\n\n  // CUSTOM HOOKS\n  const params = useParams();\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n  const {\n    isFetching: isPreorderFetching,\n    data: preorder,\n    refetch: refetchPreorder,\n  } = usePreorderRetrieve({\n    id: params.preorderId,\n  });\n  const { isLoading: isEditing, mutateAsync: editPreorder } = usePreorderEdit();\n\n  // METHODS\n  useEffect(() => {\n    const data = {};\n\n    // Note: We need to group all preorder products by product so it\n    // will be easier to traverse them later on\n    preorder?.preorder_products.forEach((preorderProduct) => {\n      const productName =\n        preorderProduct.branch_product.product_price.product.name;\n\n      if (data[productName] === undefined) {\n        data[productName] = [];\n      }\n\n      data[productName].push(preorderProduct);\n    });\n\n    setPreorderProductsObject(data);\n\n    // Note: Convert the object into array\n    const newUnitTypeIds = [];\n    setPreorderProducts(\n      Object.keys(data).map((key) => {\n        const preorderProductData = {\n          key,\n          name: key,\n          remarks: data[key][0]?.remarks || '',\n        };\n\n        data[key].forEach((preorderProduct) => {\n          const unitTypeId =\n            preorderProduct.branch_product.product_price.unit_type;\n\n          newUnitTypeIds.push(unitTypeId);\n\n          preorderProductData[String(unitTypeId)] = `\n          ${Number(preorderProduct.fulfilled_quantity)} / ${Number(\n            preorderProduct.quantity\n          )}`;\n        });\n\n        return preorderProductData;\n      })\n    );\n\n    setUnitTypesId(newUnitTypeIds);\n\n    setDescription(preorder?.description || '');\n  }, [preorder]);\n\n  useEffect(() => {\n    if (preorder?.preorder_transactions) {\n      setTransactionsDataSource(\n        preorder.preorder_transactions.map((transaction) => ({\n          row: transaction.id,\n          id: transaction.id,\n          datetime_created: formatDateTime(transaction.datetime_created),\n          received_by: `${transaction.user.first_name} ${transaction.user.last_name}`,\n          actions: (\n            <Button\n              type=\"link\"\n              onClick={() => {\n                setSelectedTransaction(transaction);\n              }}\n            >\n              View\n            </Button>\n          ),\n        }))\n      );\n    }\n  }, [preorder]);\n\n  const getPreorderProductColumns = useCallback(() => {\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n        align: 'center',\n      })),\n      { title: 'Remarks', dataIndex: 'remarks' },\n    ];\n  }, [unitTypesId, unitTypes]);\n\n  const onUpdateStatus = (status) => {\n    setIsLoading(true);\n\n    PreordersService.edit({ id: params.preorderId, body: { status } })\n      .then(refetchPreorder)\n      .catch((e) => {\n        console.error('Error: ', e);\n        message.error(GENERIC_ERROR_MESSAGE);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const onPrint = () => {\n    if (preorder) {\n      setIsPrinting(true);\n      // eslint-disable-next-line new-cap\n      const pdf = new jsPDF('p', 'pt', 'a4');\n\n      pdf.html(printOrderSlip(preorder, unitTypes), {\n        x: 10,\n        y: 10,\n        filename: `Preorder_${preorder.id}`,\n        callback: (instance) => {\n          window.open(instance.output('bloburl').toString());\n          setIsPrinting(false);\n        },\n      });\n    } else {\n      message.error(GENERIC_ERROR_MESSAGE);\n    }\n  };\n\n  return (\n    <Content className=\"ViewPreorder\" title=\"Preorder\">\n      <Spin spinning={isPreorderFetching || isUnitTypesFetching || isLoading}>\n        <Box>\n          <Row\n            className=\"ViewPreorder_setPreorderAsComplete\"\n            gutter={[25, 12]}\n            justify=\"space-between\"\n          >\n            <Col sm={12} xs={24}>\n              <Button\n                loading={isPrinting}\n                size=\"large\"\n                type=\"primary\"\n                ghost\n                onClick={onPrint}\n              >\n                Print Preorder\n              </Button>\n            </Col>\n            {preorder?.status === preorderStatuses.APPROVED &&\n              preorder?.preorder_transactions?.length > 0 && (\n                <Col sm={12} xs={24}>\n                  <Button\n                    className=\"ViewPreorder_setPreorderAsComplete_button\"\n                    size=\"large\"\n                    type=\"primary\"\n                    onClick={() => {\n                      onUpdateStatus(preorderStatuses.DELIVERED);\n                    }}\n                  >\n                    Set Preorder As Complete\n                  </Button>\n                </Col>\n              )}\n          </Row>\n\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            bordered\n          >\n            <Descriptions.Item label=\"ID\" span={2}>\n              {preorder?.id}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Branch\">\n              {preorder?.branch?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Delivery Type\">\n              {upperFirst(preorder?.delivery_type)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Created By\">\n              {preorder?.user?.first_name} {preorder?.user?.last_name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Datetime Created\">\n              {formatDateTime(preorder?.datetime_created)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Datetime Fulfilled\">\n              {formatDateTime(preorder?.datetime_fulfilled)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Status\">\n              <PreorderStatus status={preorder?.status} />\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Description\" span={2}>\n              {isEditingDescription ? (\n                <Input.Group compact>\n                  <Input\n                    style={{ width: 'calc(100% - 80px)' }}\n                    value={description}\n                    onChange={(e) => {\n                      setDescription(e.target.value);\n                    }}\n                  />\n                  <Button\n                    loading={isEditing}\n                    type=\"primary\"\n                    onClick={async () => {\n                      await editPreorder({\n                        id: preorder.id,\n                        description,\n                      });\n\n                      setIsEditingDescription(false);\n                    }}\n                  >\n                    Save\n                  </Button>\n                </Input.Group>\n              ) : (\n                <Alert\n                  action={\n                    <Button\n                      size=\"small\"\n                      type=\"link\"\n                      onClick={() => {\n                        setIsEditingDescription(true);\n                      }}\n                    >\n                      Edit\n                    </Button>\n                  }\n                  description={description}\n                  type=\"info\"\n                  showIcon\n                />\n              )}\n            </Descriptions.Item>\n          </Descriptions>\n\n          <Divider />\n\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            title=\"Supplier\"\n            bordered\n          >\n            <Descriptions.Item label=\"Name\" span={2}>\n              {preorder?.supplier?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Phone\">\n              {preorder?.supplier?.phone || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Telephone\">\n              {preorder?.supplier?.landline || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Address\" span={2}>\n              {preorder?.supplier?.address}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Description\" span={2}>\n              {preorder?.supplier?.description}\n            </Descriptions.Item>\n          </Descriptions>\n\n          <Divider />\n\n          {preorder?.status === preorderStatuses.PENDING && (\n            <div className=\"mb-4 d-flex justify-end\">\n              <Button size=\"large\" type=\"primary\" ghost>\n                <Link to={`/preorders/${preorder?.id}/edit`}>\n                  Edit Products\n                </Link>\n              </Button>\n            </div>\n          )}\n\n          <Table\n            columns={getPreorderProductColumns()}\n            dataSource={preorderProducts}\n            pagination={false}\n            scroll={{ x: 800 }}\n          />\n\n          {preorder?.status === preorderStatuses.PENDING && (\n            <>\n              <Divider />\n              <Row gutter={[25, 12]}>\n                <Col sm={12} xs={24}>\n                  <Button\n                    size=\"large\"\n                    block\n                    danger\n                    onClick={() => {\n                      onUpdateStatus(preorderStatuses.CANCELLED);\n                    }}\n                  >\n                    Cancel Preorder\n                  </Button>\n                </Col>\n                <Col sm={12} xs={24}>\n                  <Button\n                    size=\"large\"\n                    type=\"primary\"\n                    block\n                    onClick={() => {\n                      onUpdateStatus(preorderStatuses.APPROVED);\n                    }}\n                  >\n                    Approve Preorder\n                  </Button>\n                </Col>\n              </Row>\n            </>\n          )}\n        </Box>\n\n        {[preorderStatuses.APPROVED, preorderStatuses.DELIVERED].includes(\n          preorder?.status\n        ) && (\n          <Box>\n            <Row className=\"mb-4\" justify=\"space-between\">\n              <Col>\n                <Typography.Title level={4}>Transactions</Typography.Title>\n              </Col>\n              {preorder?.status === preorderStatuses.APPROVED && (\n                <Col>\n                  <Button\n                    size=\"large\"\n                    type=\"primary\"\n                    onClick={() => {\n                      setCreateTransactionModalVisible(true);\n                    }}\n                  >\n                    <PlusOutlined /> Create Transaction\n                  </Button>\n                </Col>\n              )}\n            </Row>\n\n            <Table\n              columns={transactionColumns}\n              dataSource={transactionsDataSource}\n              pagination={false}\n              scroll={{ x: 800 }}\n            />\n          </Box>\n        )}\n\n        {createTransactionModalVisible && (\n          <CreateTransactionModal\n            columns={getPreorderProductColumns()}\n            preorder={preorder}\n            preorderProducts={preorderProductsObject}\n            onClose={() => {\n              setCreateTransactionModalVisible(false);\n            }}\n            onSuccess={() => {\n              refetchPreorder();\n              setCreateTransactionModalVisible(false);\n            }}\n          />\n        )}\n\n        {selectedTransaction && (\n          <ViewTransactionModal\n            preorderTransaction={selectedTransaction}\n            unitTypes={unitTypes}\n            onClose={() => {\n              setSelectedTransaction(null);\n            }}\n          />\n        )}\n      </Spin>\n    </Content>\n  );\n};\n\nexport default ViewPreorder;\n","import { Button, Col, Divider, Modal, Row, Typography, Collapse } from 'antd';\nimport { formatInPeso } from 'globals/functions';\nimport { upperCase } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ViewProductModal = ({ product, unitTypes, onClose }) => (\n  <Modal\n    className=\"ViewProductModal Modal__large Modal__hasFooter\"\n    footer={[<Button onClick={onClose}>Close</Button>]}\n    title=\"View Product\"\n    centered\n    closable\n    visible\n    onCancel={onClose}\n  >\n    <Row gutter={[8, 8]}>\n      <Col lg={12}>\n        <Typography.Text strong>Name: </Typography.Text>\n      </Col>\n      <Col lg={12}>{product.name}</Col>\n\n      <Col lg={12}>\n        <Typography.Text strong>Unit Cost: </Typography.Text>\n      </Col>\n      <Col lg={12}>{formatInPeso(product.unit_cost)}</Col>\n\n      <Col lg={12}>\n        <Typography.Text strong>Vat Type: </Typography.Text>\n      </Col>\n      <Col lg={12}>{upperCase(product.vat_type)}</Col>\n    </Row>\n\n    <Divider />\n\n    <Collapse>\n      {product?.product_prices?.map((productPrice) => {\n        const unitTypeName =\n          unitTypes.find(\n            (unitType) => unitType.id === productPrice.unit_type_id\n          ).name || '';\n\n        return (\n          <Collapse.Panel key={String(productPrice.id)} header={unitTypeName}>\n            <Row gutter={[8, 8]}>\n              <Col lg={12}>\n                <Typography.Text strong>Price Market: </Typography.Text>\n              </Col>\n              <Col lg={12}>{formatInPeso(productPrice.price_market)}</Col>\n\n              <Col lg={12}>\n                <Typography.Text strong>Price Delivery: </Typography.Text>\n              </Col>\n              <Col lg={12}>{formatInPeso(productPrice.price_delivery)}</Col>\n\n              <Col lg={12}>\n                <Typography.Text strong>Price Pickup: </Typography.Text>\n              </Col>\n              <Col lg={12}>{formatInPeso(productPrice.price_pickup)}</Col>\n\n              <Col lg={12}>\n                <Typography.Text strong>Price Special: </Typography.Text>\n              </Col>\n              <Col lg={12}>{formatInPeso(productPrice.price_special)}</Col>\n\n              <Col lg={12}>\n                <Typography.Text strong>Reorder Point: </Typography.Text>\n              </Col>\n              <Col lg={12}>{productPrice.reorder_point}</Col>\n            </Row>\n          </Collapse.Panel>\n        );\n      })}\n    </Collapse>\n  </Modal>\n);\n\nViewProductModal.propTypes = {\n  unitTypes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ),\n  product: PropTypes.shape({\n    name: PropTypes.string,\n    unit_cost: PropTypes.string,\n    vat_type: PropTypes.string,\n    product_prices: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number,\n        price_delivery: PropTypes.oneOfType([\n          PropTypes.string,\n          PropTypes.number,\n        ]),\n        price_market: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        price_pickup: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        price_special: PropTypes.oneOfType([\n          PropTypes.string,\n          PropTypes.number,\n        ]),\n        reorder_point: PropTypes.oneOfType([\n          PropTypes.string,\n          PropTypes.number,\n        ]),\n        unit_type_id: PropTypes.number,\n      })\n    ),\n  }).isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default ViewProductModal;\n","import { PlusOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Col,\n  Input,\n  message,\n  Popconfirm,\n  Radio,\n  Row,\n  Space,\n  Table,\n  Typography,\n} from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { formatInPeso } from 'globals/functions';\nimport {\n  DEFAULT_PAGE,\n  DEFAULT_PAGE_SIZE,\n  GENERIC_ERROR_MESSAGE,\n  priceTypes,\n} from 'globals/variables';\nimport { useCustomParams, useProducts, useUnitTypes } from 'hooks';\nimport { flatten } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { useSearchParams } from 'react-router-dom';\nimport { ProductsService } from 'services';\nimport { useDebouncedCallback } from 'use-debounce';\nimport './styles.scss';\nimport ViewProductModal from './ViewProductModal';\n\nconst Products = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n  const [selectedPriceType, setSelectedPriceType] = useState(\n    priceTypes.DELIVERY\n  );\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const { setSearchParams } = useCustomParams();\n\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n  const {\n    isFetching: isProductsFetching,\n    data: { total, products },\n    refetch: refetchProducts,\n  } = useProducts({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      search: searchParams.get('search'),\n    },\n  });\n\n  // METHODS\n  const deleteProduct = (productId) => {\n    setIsDeleting(true);\n    ProductsService.delete(productId)\n      .then(() => {\n        refetchProducts();\n      })\n      .catch(() => {\n        message.error(GENERIC_ERROR_MESSAGE);\n      })\n      .finally(() => {\n        setIsDeleting(false);\n      });\n  };\n\n  useEffect(() => {\n    const tableData = products.map((product) => {\n      const data = {\n        key: product.id,\n        name: (\n          <Button\n            className=\"pa-0\"\n            type=\"link\"\n            onClick={() => {\n              setSelectedProduct(product);\n            }}\n          >\n            {product.name}\n          </Button>\n        ),\n        unitCost: formatInPeso(product.unit_cost),\n        actions: (\n          <Space size=\"small\">\n            <Button\n              type=\"primary\"\n              ghost\n              onClick={() => {\n                navigate(`/products/${product.id}`);\n              }}\n            >\n              Edit\n            </Button>\n            <Popconfirm\n              cancelText=\"Cancel\"\n              okButtonProps={{ danger: true }}\n              okText=\"Delete\"\n              placement=\"topLeft\"\n              title={`Are you sure you want to delete ${product.name}?`}\n              onConfirm={() => {\n                deleteProduct(product.id);\n              }}\n            >\n              <Button type=\"primary\" danger ghost>\n                Delete\n              </Button>\n            </Popconfirm>\n          </Space>\n        ),\n      };\n\n      product.product_prices.forEach((productPrice) => {\n        data[String(productPrice.unit_type_id)] = formatInPeso(\n          productPrice[`price_${selectedPriceType}`]\n        );\n      });\n\n      return data;\n    });\n\n    setDataSource(tableData);\n  }, [products, selectedPriceType]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId = flatten(\n      products?.map((product) =>\n        product.product_prices.map((productPrice) => productPrice.unit_type_id)\n      )\n    );\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name', width: 250, fixed: 'left' },\n      { title: 'Unit Cost', dataIndex: 'unitCost' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n      })),\n      { title: 'Actions', dataIndex: 'actions' },\n    ];\n  }, [products, unitTypes]);\n\n  return (\n    <Content className=\"Products\" title=\"Products\">\n      <Box>\n        <div className=\"mb-4 d-flex justify-end\">\n          <Button\n            size=\"large\"\n            type=\"primary\"\n            onClick={() => {\n              navigate('create');\n            }}\n          >\n            <PlusOutlined /> Create Product\n          </Button>\n        </div>\n\n        <Filter onSetPriceType={setSelectedPriceType} />\n\n        <Table\n          columns={getColumns()}\n          dataSource={dataSource}\n          loading={isProductsFetching || isUnitTypesFetching || isDeleting}\n          pagination={{\n            current: Number(searchParams.get('page')) || DEFAULT_PAGE,\n            total,\n            pageSize: Number(searchParams.get('pageSize')) || DEFAULT_PAGE_SIZE,\n            onChange: (page, newPageSize) => {\n              setSearchParams({\n                page,\n                pageSize: newPageSize,\n              });\n            },\n            disabled: products.length === 0,\n            position: ['bottomCenter'],\n            pageSizeOptions: ['10', '20', '50'],\n          }}\n          scroll={{ x: 1500 }}\n        />\n      </Box>\n\n      {selectedProduct && (\n        <ViewProductModal\n          product={selectedProduct}\n          unitTypes={unitTypes}\n          onClose={() => {\n            setSelectedProduct(null);\n          }}\n        />\n      )}\n    </Content>\n  );\n};\n\nconst Filter = ({ onSetPriceType }) => {\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const onSearch = useDebouncedCallback((value) => {\n    setSearchParams({ search: value });\n  }, 500);\n\n  return (\n    <Row className=\"mb-4\" gutter={[16, 16]}>\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Search</Typography.Text>\n        <Input\n          defaultValue={searchParams.get('search')}\n          allowClear\n          onChange={(event) => onSearch(event.target.value.trim())}\n        />\n      </Col>\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Price Type</Typography.Text>\n        <Radio.Group\n          className=\"w-100\"\n          defaultValue={priceTypes.DELIVERY}\n          options={[\n            { label: 'Delivery', value: priceTypes.DELIVERY },\n            { label: 'Market', value: priceTypes.MARKET },\n            { label: 'Pickup', value: priceTypes.PICKUP },\n            { label: 'Special', value: priceTypes.SPECIAL },\n          ]}\n          optionType=\"button\"\n          onChange={(e) => {\n            onSetPriceType(e.target.value);\n          }}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nFilter.propTypes = {\n  onSetPriceType: PropTypes.func.isRequired,\n};\n\nexport default Products;\n","import { CloseOutlined, PlusOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Col,\n  Divider,\n  Input,\n  message,\n  Radio,\n  Row,\n  Select,\n  Spin,\n  Typography,\n  Modal,\n} from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { ErrorMessage, Form, Formik } from 'formik';\nimport { GENERIC_ERROR_MESSAGE, vatTypes } from 'globals/variables';\nimport { useProduct, useUnitTypes } from 'hooks';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router';\nimport * as Yup from 'yup';\nimport '../styles.scss';\nimport { ProductsService } from 'services';\n\nconst ModifyProduct = () => {\n  // STATES\n  const [isLoading, setLoading] = useState(false);\n\n  // CUSTOM HOOKS\n  const params = useParams();\n  const navigate = useNavigate();\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n  const { isFetching: isProductFetching, data: product } = useProduct({\n    id: params.productId,\n  });\n\n  // VARIABLES\n  const isCreate = params.productId === undefined;\n\n  // METHODS\n  const getFormDetails = useCallback(\n    () => ({\n      defaultValues: {\n        id: product?.id,\n        name: product?.name || '',\n        unitCost: product?.unit_cost || '',\n        vatType: product?.vat_type || '',\n        productPrices:\n          product?.product_prices.map((productPrice) => ({\n            id: productPrice.id,\n            priceMarket: Number(productPrice.price_market),\n            priceDelivery: Number(productPrice.price_delivery),\n            pricePickup: Number(productPrice.price_pickup),\n            priceSpecial: Number(productPrice.price_special),\n            reorderPoint: Number(productPrice.reorder_point),\n            unitType: productPrice.unit_type_id,\n          })) || [],\n      },\n      schema: Yup.object().shape({\n        name: Yup.string().required().label('Name'),\n        unitCost: Yup.string().required().label('Unit Cost'),\n        vatType: Yup.string().required().label('VAT'),\n        productPrices: Yup.array().of(\n          Yup.object().shape({\n            priceMarket: Yup.number()\n              .positive('Must be greater than zero')\n              .required('Required'),\n            priceDelivery: Yup.number()\n              .positive('Must be greater than zero')\n              .required('Required'),\n            pricePickup: Yup.number()\n              .positive('Must be greater than zero')\n              .required('Required'),\n            priceSpecial: Yup.number()\n              .positive('Must be greater than zero')\n              .required('Required'),\n            reorderPoint: Yup.number(),\n            unitType: Yup.string().required('Required'),\n          })\n        ),\n      }),\n    }),\n    [product]\n  );\n\n  const onAddClick = (values) => [\n    ...values.productPrices,\n    {\n      priceMarket: '',\n      priceDelivery: '',\n      pricePickup: '',\n      priceSpecial: '',\n      reorderPoint: '',\n      unitType: '',\n    },\n  ];\n\n  const onRemoveClick = (index, values) =>\n    values.productPrices.filter((_, i) => i !== index);\n\n  const handleSuccess = (modifiedProduct) => {\n    const action = isCreate ? 'created' : 'updated';\n\n    Modal.success({\n      title: 'Success',\n      content: `${modifiedProduct.name} is successfully ${action}. Press the button below to go back to the products screen.`,\n      keyboard: false,\n      okText: 'Proceed',\n      onOk: () => {\n        navigate('/products');\n      },\n    });\n  };\n\n  return (\n    <Content title=\"Products\">\n      <Spin spinning={isUnitTypesFetching || isProductFetching || isLoading}>\n        <Box>\n          <Formik\n            initialValues={getFormDetails().defaultValues}\n            validationSchema={getFormDetails().schema}\n            enableReinitialize\n            onSubmit={async (values, { setFieldError }) => {\n              setLoading(true);\n\n              if (values.productPrices.length > 0) {\n                try {\n                  const serviceFn = isCreate\n                    ? ProductsService.create\n                    : ProductsService.edit;\n\n                  const { data } = await serviceFn({\n                    id: values.id,\n                    body: {\n                      name: values.name,\n                      unit_cost: values.unitCost,\n                      vat_type: values.vatType,\n                      product_prices: values.productPrices.map(\n                        (productPrice) => ({\n                          id: productPrice.id,\n                          unit_type_id: productPrice.unitType,\n                          price_market: productPrice.priceMarket,\n                          price_delivery: productPrice.priceDelivery,\n                          price_pickup: productPrice.pricePickup,\n                          price_special: productPrice.priceSpecial,\n                          reorder_point: productPrice.reorderPoint || 0,\n                        })\n                      ),\n                    },\n                  });\n\n                  handleSuccess(data);\n                } catch (e) {\n                  console.error(e);\n                  setFieldError('response', GENERIC_ERROR_MESSAGE);\n                }\n              } else {\n                message.error('Please add a product price first');\n              }\n\n              setLoading(false);\n            }}\n          >\n            {({ values, setFieldValue }) => (\n              <Form className=\"w-100\">\n                <ErrorMessage\n                  name=\"response\"\n                  render={(error) => (\n                    <Typography.Text type=\"danger\">{error}</Typography.Text>\n                  )}\n                />\n\n                <Row gutter={[24, 24]}>\n                  <Col lg={12}>\n                    <Typography.Text strong>Name</Typography.Text>\n                    <Input\n                      value={values.name}\n                      onChange={(e) => {\n                        setFieldValue('name', e.target.value);\n                      }}\n                    />\n                    <ErrorMessage\n                      name=\"name\"\n                      render={(error) => (\n                        <Typography.Text type=\"danger\">{error}</Typography.Text>\n                      )}\n                    />\n                  </Col>\n                  <Col lg={12}>\n                    <Typography.Text strong>Unit Cost</Typography.Text>\n                    <Input\n                      prefix=\"₱\"\n                      type=\"number\"\n                      value={values.unitCost}\n                      onChange={(e) => {\n                        setFieldValue('unitCost', e.target.value);\n                      }}\n                    />\n                    <ErrorMessage\n                      name=\"unitCost\"\n                      render={(error) => (\n                        <Typography.Text type=\"danger\">{error}</Typography.Text>\n                      )}\n                    />\n                  </Col>\n                  <Col lg={12}>\n                    <Typography.Text strong>VAT</Typography.Text>\n                    <Radio.Group\n                      buttonStyle=\"solid\"\n                      className=\"w-100\"\n                      options={[\n                        { label: 'VAT', value: vatTypes.VAT },\n                        { label: 'VAT-Exempted', value: vatTypes.VAT_E },\n                      ]}\n                      optionType=\"button\"\n                      value={values.vatType}\n                      onChange={(e) => {\n                        setFieldValue('vatType', e.target.value);\n                      }}\n                    />\n                    <ErrorMessage\n                      name=\"vatType\"\n                      render={(error) => (\n                        <Typography.Text type=\"danger\">{error}</Typography.Text>\n                      )}\n                    />\n                  </Col>\n                </Row>\n\n                <Divider>PRICES</Divider>\n\n                <Row gutter={[16, 32]}>\n                  {values.productPrices.map((productPrice, index) => (\n                    <Col key={index} span={24}>\n                      <ProductPrice\n                        index={index}\n                        isCreate={isCreate}\n                        unitTypes={unitTypes}\n                        values={productPrice}\n                        onRemoveProductPrice={() => {\n                          setFieldValue(\n                            'productPrices',\n                            onRemoveClick(index, values)\n                          );\n                        }}\n                        onSetFieldValue={setFieldValue}\n                      />\n                    </Col>\n                  ))}\n\n                  <Col span={24}>\n                    <Button\n                      className=\"ModifyProduct_btnAddPrice\"\n                      htmlType=\"button\"\n                      size=\"large\"\n                      type=\"primary\"\n                      ghost\n                      onClick={() => {\n                        setFieldValue('productPrices', onAddClick(values));\n                      }}\n                    >\n                      <PlusOutlined /> Add Price\n                    </Button>\n                  </Col>\n                </Row>\n\n                <Divider />\n\n                <Row justify=\"end\">\n                  <Col>\n                    <Button\n                      className=\"ModifyProduct_btnSubmit\"\n                      htmlType=\"submit\"\n                      size=\"large\"\n                      type=\"primary\"\n                    >\n                      Submit\n                    </Button>\n                  </Col>\n                </Row>\n              </Form>\n            )}\n          </Formik>\n        </Box>\n      </Spin>\n    </Content>\n  );\n};\n\nconst ProductPrice = ({\n  index,\n  isCreate,\n  unitTypes,\n  values,\n  onRemoveProductPrice,\n  onSetFieldValue,\n}) => (\n  <Row gutter={[4, 4]}>\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Price (Market)</Typography.Text>\n      <Input\n        prefix=\"₱\"\n        type=\"number\"\n        value={values.priceMarket}\n        onChange={(e) => {\n          onSetFieldValue(`productPrices.${index}.priceMarket`, e.target.value);\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.priceMarket`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Price (Delivery)</Typography.Text>\n      <Input\n        prefix=\"₱\"\n        type=\"number\"\n        value={values.priceDelivery}\n        onChange={(e) => {\n          onSetFieldValue(\n            `productPrices.${index}.priceDelivery`,\n            e.target.value\n          );\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.priceDelivery`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Price (Pickup)</Typography.Text>\n      <Input\n        prefix=\"₱\"\n        type=\"number\"\n        value={values.pricePickup}\n        onChange={(e) => {\n          onSetFieldValue(`productPrices.${index}.pricePickup`, e.target.value);\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.pricePickup`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Price (Special)</Typography.Text>\n      <Input\n        prefix=\"₱\"\n        type=\"number\"\n        value={values.priceSpecial}\n        onChange={(e) => {\n          onSetFieldValue(\n            `productPrices.${index}.priceSpecial`,\n            e.target.value\n          );\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.priceSpecial`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Reorder Point</Typography.Text>\n      <Input\n        type=\"number\"\n        value={values.reorderPoint}\n        onChange={(e) => {\n          onSetFieldValue(\n            `productPrices.${index}.reorderPoint`,\n            e.target.value\n          );\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.reorderPoint`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Unit Type</Typography.Text>\n      <Select\n        className=\"w-100\"\n        filterOption={(input, option) =>\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n        }\n        optionFilterProp=\"children\"\n        value={values.unitType}\n        showSearch\n        onChange={(value) => {\n          onSetFieldValue(`productPrices.${index}.unitType`, value);\n        }}\n      >\n        {unitTypes.map((unitType) => (\n          <Select.Option key={unitType.id} value={unitType.id}>\n            {unitType.name}\n          </Select.Option>\n        ))}\n      </Select>\n      <ErrorMessage\n        name={`productPrices.${index}.unitType`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    {isCreate && (\n      <Col sm={12} xs={24}>\n        <Row align=\"middle\" justify=\"center\" style={{ height: '100%' }}>\n          <Col>\n            <Button\n              htmlType=\"button\"\n              type=\"dashed\"\n              danger\n              onClick={onRemoveProductPrice}\n            >\n              <CloseOutlined /> DELETE PRICE\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    )}\n  </Row>\n);\n\nProductPrice.propTypes = {\n  index: PropTypes.number.isRequired,\n  isCreate: PropTypes.bool.isRequired,\n  unitTypes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  values: PropTypes.shape({\n    priceMarket: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    priceDelivery: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    pricePickup: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    priceSpecial: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    reorderPoint: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    unitType: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  }).isRequired,\n  onRemoveProductPrice: PropTypes.func.isRequired,\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nexport default ModifyProduct;\n","import { Col, DatePicker, Radio, Row, Table, Typography } from 'antd';\nimport { RankIcon } from 'components';\nimport { formatInPeso } from 'globals/functions';\nimport {\n  dateRangeTypes,\n  DEFAULT_PAGE,\n  DEFAULT_PAGE_SIZE,\n} from 'globals/variables';\nimport { useCustomParams, useReportsCustomers } from 'hooks';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst columns = [\n  { title: 'Rank', dataIndex: 'rank' },\n  { title: 'Name', dataIndex: 'name' },\n  { title: 'Total Purchase', dataIndex: 'total_purchase' },\n];\n\nconst CustomersTab = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const {\n    isFetching: isReportsFetching,\n    data: { total, customers },\n  } = useReportsCustomers({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      dateRange: searchParams.get('dateRange') || dateRangeTypes.DAILY,\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const page = searchParams.get('page') || DEFAULT_PAGE;\n    const pageSize = searchParams.get('pageSize') || DEFAULT_PAGE_SIZE;\n    const rankStart = (Number(page) - 1) * Number(pageSize);\n\n    const data = customers.map((customer, index) => {\n      const rank = rankStart + index + 1;\n\n      return {\n        key: customer.id,\n        rank: (\n          <>\n            <RankIcon rank={rank} /> <span>{rank}</span>\n          </>\n        ),\n        name: customer.name,\n        total_purchase: formatInPeso(customer.total_purchase),\n      };\n    });\n\n    setDataSource(data);\n  }, [customers]);\n\n  return (\n    <>\n      <Filter />\n\n      <Table\n        columns={columns}\n        dataSource={dataSource}\n        loading={isReportsFetching}\n        pagination={{\n          current: Number(searchParams.get('page')) || DEFAULT_PAGE,\n          total,\n          pageSize: Number(searchParams.get('pageSize')) || DEFAULT_PAGE_SIZE,\n          onChange: (page, newPageSize) => {\n            setSearchParams({\n              page,\n              pageSize: newPageSize,\n            });\n          },\n          disabled: customers.length === 0,\n          position: ['bottomCenter'],\n          pageSizeOptions: ['10', '20', '50'],\n        }}\n        scroll={{ x: 800 }}\n      />\n    </>\n  );\n};\n\nconst Filter = () => {\n  // STATES\n  const [dateRangeType, setDateRangeType] = useState(dateRangeTypes.DAILY);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const dateRange =\n    searchParams.get('dateRange')?.toString() || dateRangeTypes.DAILY;\n\n  // METHODS\n  useEffect(() => {\n    if (\n      ![dateRangeTypes.DAILY, dateRangeTypes.MONTHLY].includes(dateRange) &&\n      dateRange?.indexOf(',')\n    ) {\n      setDateRangeType(dateRangeTypes.DATE_RANGE);\n    } else {\n      setDateRangeType(dateRange);\n    }\n  }, [dateRange]);\n\n  return (\n    <Row className=\"Products_filter\" gutter={[16, 16]}>\n      <Col lg={12} span={24}>\n        <Typography.Text style={{ width: '100%', display: 'block' }} strong>\n          Date Range\n        </Typography.Text>\n        <Radio.Group\n          options={[\n            { label: 'Daily', value: dateRangeTypes.DAILY },\n            { label: 'Monthly', value: dateRangeTypes.MONTHLY },\n            {\n              label: 'Select Date Range',\n              value: dateRangeTypes.DATE_RANGE,\n            },\n          ]}\n          optionType=\"button\"\n          value={dateRangeType}\n          onChange={(e) => {\n            const { value } = e.target;\n            setDateRangeType(value);\n\n            if (value !== dateRangeTypes.DATE_RANGE) {\n              setSearchParams({ dateRange: value });\n            }\n          }}\n        />\n\n        {dateRangeType === dateRangeTypes.DATE_RANGE && (\n          <DatePicker.RangePicker\n            defaultPickerValue={\n              dateRange.split(',')?.length === 2\n                ? [\n                    moment(dateRange.split(',')[0]),\n                    moment(dateRange.split(',')[1]),\n                  ]\n                : undefined\n            }\n            defaultValue={\n              dateRange.split(',')?.length === 2\n                ? [\n                    moment(dateRange.split(',')[0]),\n                    moment(dateRange.split(',')[1]),\n                  ]\n                : undefined\n            }\n            format=\"MM/DD/YY\"\n            onCalendarChange={(dates, dateStrings) => {\n              if (dates?.[0] && dates?.[1]) {\n                setSearchParams({ dateRange: dateStrings.join(',') });\n              }\n            }}\n          />\n        )}\n      </Col>\n    </Row>\n  );\n};\n\nexport default CustomersTab;\n","import { Col, DatePicker, Radio, Row, Select, Table, Typography } from 'antd';\nimport { RankIcon } from 'components';\nimport { formatInPeso } from 'globals/functions';\nimport {\n  dateRangeTypes,\n  DEFAULT_PAGE,\n  DEFAULT_PAGE_SIZE,\n} from 'globals/variables';\nimport { useBranches, useCustomParams, useReportsProducts } from 'hooks';\nimport { flatten } from 'lodash';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst ProductsTab = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n  const { isFetching: isBranchesFetching, data: branches } = useBranches();\n  const {\n    isFetching: isReportsFetching,\n    data: { total, products },\n  } = useReportsProducts({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      branchId: searchParams.get('branchId'),\n      dateRange: searchParams.get('dateRange') || dateRangeTypes.DAILY,\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const page = searchParams.get('page') || DEFAULT_PAGE;\n    const pageSize = searchParams.get('pageSize') || DEFAULT_PAGE_SIZE;\n    const rankStart = (Number(page) - 1) * Number(pageSize);\n\n    const productDataSource = products.map((product, index) => {\n      const rank = rankStart + index + 1;\n\n      const data = {\n        key: product.id,\n        rank: (\n          <>\n            <RankIcon rank={rank} /> <span>{rank}</span>\n          </>\n        ),\n        name: product.name,\n        total_sales: formatInPeso(product.total_sales),\n      };\n\n      product.product_prices.forEach((productPrice) => {\n        data[String(productPrice.unit_type.id)] = `${formatInPeso(\n          productPrice.total_sales\n        )} - (${productPrice.total_quantity})`;\n      });\n\n      return data;\n    });\n\n    setDataSource(productDataSource);\n  }, [products]);\n\n  const getColumns = useCallback(() => {\n    const unitTypes = {};\n    flatten(\n      products?.map((product) =>\n        product.product_prices.map((productPrice) => productPrice.unit_type)\n      )\n    ).forEach((unitType) => {\n      unitTypes[unitType.name] = unitType;\n    });\n\n    const unitTypeColumns = Object.keys(unitTypes)\n      .sort()\n      .map((key) => ({\n        title: unitTypes[key].name,\n        dataIndex: String(unitTypes[key].id),\n      }));\n\n    return [\n      { title: 'Rank', dataIndex: 'rank' },\n      { title: 'Name', dataIndex: 'name' },\n      { title: 'Total Sales', dataIndex: 'total_sales' },\n      ...unitTypeColumns,\n    ];\n  }, [products]);\n\n  return (\n    <>\n      <Filter branches={branches} />\n\n      <Table\n        columns={getColumns()}\n        dataSource={dataSource}\n        loading={isReportsFetching || isBranchesFetching}\n        pagination={{\n          current: Number(searchParams.get('page')) || DEFAULT_PAGE,\n          total,\n          pageSize: Number(searchParams.get('pageSize')) || DEFAULT_PAGE_SIZE,\n          onChange: (page, newPageSize) => {\n            setSearchParams({\n              page,\n              pageSize: newPageSize,\n            });\n          },\n          disabled: products.length === 0,\n          position: ['bottomCenter'],\n          pageSizeOptions: ['10', '20', '50'],\n        }}\n        scroll={{ x: 1250 }}\n      />\n    </>\n  );\n};\n\nconst Filter = ({ branches }) => {\n  // STATES\n  const [dateRangeType, setDateRangeType] = useState(dateRangeTypes.DAILY);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const dateRange =\n    searchParams.get('dateRange')?.toString() || dateRangeTypes.DAILY;\n\n  // METHODS\n  useEffect(() => {\n    if (\n      ![dateRangeTypes.DAILY, dateRangeTypes.MONTHLY].includes(dateRange) &&\n      dateRange?.indexOf(',')\n    ) {\n      setDateRangeType(dateRangeTypes.DATE_RANGE);\n    } else {\n      setDateRangeType(dateRange);\n    }\n  }, [dateRange]);\n\n  return (\n    <Row className=\"Products_filter\" gutter={[16, 16]}>\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Branch</Typography.Text>\n        <Select\n          className=\"w-100\"\n          value={Number(searchParams.get('branchId')) || undefined}\n          allowClear\n          onChange={(value) => {\n            setSearchParams({ branchId: value });\n          }}\n        >\n          {branches.map((branch) => (\n            <Select.Option key={branch.id} value={branch.id}>\n              {branch.name}\n            </Select.Option>\n          ))}\n        </Select>\n      </Col>\n\n      <Col lg={12} span={24}>\n        <Typography.Text style={{ width: '100%', display: 'block' }} strong>\n          Date Range\n        </Typography.Text>\n        <Radio.Group\n          options={[\n            { label: 'Daily', value: dateRangeTypes.DAILY },\n            { label: 'Monthly', value: dateRangeTypes.MONTHLY },\n            {\n              label: 'Select Date Range',\n              value: dateRangeTypes.DATE_RANGE,\n            },\n          ]}\n          optionType=\"button\"\n          value={dateRangeType}\n          onChange={(e) => {\n            const { value } = e.target;\n            setDateRangeType(value);\n\n            if (value !== dateRangeTypes.DATE_RANGE) {\n              setSearchParams({ dateRange: value });\n            }\n          }}\n        />\n\n        {dateRangeType === dateRangeTypes.DATE_RANGE && (\n          <DatePicker.RangePicker\n            defaultPickerValue={\n              dateRange.split(',')?.length === 2\n                ? [\n                    moment(dateRange.split(',')[0]),\n                    moment(dateRange.split(',')[1]),\n                  ]\n                : undefined\n            }\n            defaultValue={\n              dateRange.split(',')?.length === 2\n                ? [\n                    moment(dateRange.split(',')[0]),\n                    moment(dateRange.split(',')[1]),\n                  ]\n                : undefined\n            }\n            format=\"MM/DD/YY\"\n            onCalendarChange={(dates, dateStrings) => {\n              if (dates?.[0] && dates?.[1]) {\n                setSearchParams({ dateRange: dateStrings.join(',') });\n              }\n            }}\n          />\n        )}\n      </Col>\n    </Row>\n  );\n};\n\nFilter.propTypes = {\n  branches: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ),\n};\n\nexport default ProductsTab;\n","import { Tabs } from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { useCustomParams } from 'hooks';\nimport React from 'react';\nimport CustomersTab from './CustomersTab';\nimport ProductsTab from './ProductsTab';\n\nconst Reports = () => {\n  // CUSTOM HOOKS\n  const { setSearchParams } = useCustomParams();\n\n  // METHODS\n  const onTabClick = () => {\n    setSearchParams({}, { shouldResetPage: true });\n  };\n\n  return (\n    <Content title=\"Reports\">\n      <Box>\n        <Tabs type=\"card\" destroyInactiveTabPane onTabClick={onTabClick}>\n          <Tabs.TabPane key=\"customers\" tab=\"Customers\">\n            <CustomersTab />\n          </Tabs.TabPane>\n\n          <Tabs.TabPane key=\"products\" tab=\"Products\">\n            <ProductsTab />\n          </Tabs.TabPane>\n        </Tabs>\n      </Box>\n    </Content>\n  );\n};\n\nexport default Reports;\n","import React from 'react';\nimport { BrowserRouter, Navigate, Route, Routes } from 'react-router-dom';\nimport {\n  Branches,\n  CreateDelivery,\n  Dashboard,\n  Deliveries,\n  Login,\n  Main,\n  ModifyPreorder,\n  ModifyProduct,\n  Notifications,\n  Preorders,\n  Products,\n  Reports,\n  ViewDelivery,\n  ViewPreorder,\n} from 'screens';\n\nconst App = () => (\n  <BrowserRouter>\n    <Routes>\n      <Route element={<Main />} path=\"/\">\n        <Route element={<Dashboard />} path=\"dashboard\" />\n\n        <Route element={<Branches />} path=\"branches\" />\n\n        <Route element={<Products />} path=\"products\" />\n        <Route element={<ModifyProduct />} path=\"products/create\" />\n        <Route element={<ModifyProduct />} path=\"products/:productId\" />\n\n        <Route element={<Preorders />} path=\"preorders\" />\n        <Route element={<ViewPreorder />} path=\"preorders/:preorderId\" />\n        <Route element={<ModifyPreorder />} path=\"preorders/:preorderId/edit\" />\n        <Route element={<ModifyPreorder />} path=\"preorders/create\" />\n\n        <Route element={<Deliveries />} path=\"deliveries\" />\n        <Route element={<ViewDelivery />} path=\"deliveries/:deliveryId\" />\n        <Route element={<CreateDelivery />} path=\"deliveries/create\" />\n\n        <Route element={<Reports />} path=\"reports\" />\n\n        <Route element={<Notifications />} path=\"notifications\" />\n\n        <Route element={<Notifications />} path=\"notifications\" />\n\n        <Route element={<Navigate to=\"/dashboard\" replace />} path=\"/\" />\n      </Route>\n      <Route element={<Login />} path=\"login\" />\n    </Routes>\n  </BrowserRouter>\n);\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureAxios } from 'configureAxios';\nimport configureStore from 'configureStore';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { ReactQueryDevtools } from 'react-query/devtools';\nimport { Provider } from 'react-redux';\nimport { persistStore } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport './index.scss';\nimport reportWebVitals from './reportWebVitals';\n\n// Start Interceptor\nconst store = configureStore();\nconfigureAxios(store);\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: false,\n    },\n  },\n});\n\nReactDOM.render(\n  <QueryClientProvider client={queryClient}>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistStore(store)}>\n        <App />\n      </PersistGate>\n    </Provider>\n    <ReactQueryDevtools initialIsOpen />\n  </QueryClientProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}