{"version":3,"sources":["ducks/auth.js","services/config.js","globals/variables.js","ducks/ui.js","ducks/index.js","configureStore.js","assets/images/logo.png","components/elements/Box/index.js","hooks/useActionDispatch.js","hooks/useAuth.js","services/AuthService.js","services/BranchesService.js","services/BranchProducts.js","services/ClientsService.js","services/DeliveriesService.js","services/NotificationsService.js","services/PreordersService.js","services/PreorderTransactionsService.js","services/ProductsService.js","services/ReportsService.js","services/TokensService.js","services/UnitTypesService.js","hooks/useBranches.js","hooks/useBranchProducts.js","hooks/useClients.js","hooks/useCustomParams.js","hooks/useDeliveries.js","hooks/useDelivery.js","hooks/useNotifications.js","hooks/useNotificationsCount.js","hooks/usePreorder.js","hooks/usePreorders.js","hooks/useProduct.js","hooks/useProducts.js","hooks/useReportsCustomers.js","hooks/useReportsProducts.js","hooks/useUI.js","hooks/useUnitTypes.js","screens/Login/index.js","components/BranchProductStatus/index.js","components/DeliveryStatus/index.js","components/Forms/FormError/index.js","assets/images/icon-account.svg","assets/images/icon-logout.svg","globals/functions.js","components/Partials/Sidebar/index.js","assets/images/sample-avatar.png","components/Partials/Container/index.js","configureAxios.js","components/Partials/Content/index.js","components/PaymentStatus/index.js","components/PreorderStatus/index.js","components/RankIcon/index.js","screens/Main/index.js","screens/Main/Branches/components/ModifyBranchModal.js","screens/Main/Branches/index.js","screens/Main/Dashboard/BranchProducts/index.js","screens/Main/Dashboard/index.js","screens/Main/Deliveries/index.js","screens/Main/Deliveries/Create/index.js","screens/Main/Deliveries/View/index.js","configurePrinter.js","screens/Main/Notifications/BranchProducts/index.js","screens/Main/Notifications/index.js","screens/Main/Preorders/index.js","screens/Main/Preorders/Create/index.js","screens/Main/Preorders/View/CreateTransactionModal/index.js","screens/Main/Preorders/View/ViewTransactionModal/index.js","screens/Main/Preorders/View/index.js","screens/Main/Products/ViewProductModal/index.js","screens/Main/Products/index.js","screens/Main/Products/Modify/index.js","screens/Main/Reports/CustomersTab/index.js","screens/Main/Reports/ProductsTab/index.js","screens/Main/Reports/index.js","App.js","reportWebVitals.js","index.js"],"names":["key","types","LOGIN","LOGOUT","initialState","user","accessToken","refreshToken","reducer","handleActions","state","payload","actions","login","createAction","logout","selectState","selectors","createSelector","config","API_URL","window","location","hostname","APP_KEY","GENERIC_ERROR_MESSAGE","EMPTY_CHARACTER","userTypes","clientTypes","vatTypes","priceTypes","productStatuses","preorderStatuses","APPROVED","PENDING","DELIVERED","CANCELLED","deliveryStatuses","paymentStatuses","deliveryTypes","dateRangeTypes","DAILY","MONTHLY","DATE_RANGE","ON_COLLAPSE_SIDEBAR","isSidebarCollapsed","onCollapseSidebar","appReducer","combineReducers","router","routerReducer","AUTH_KEY","authReducer","UI_KEY","uiReducer","action","type","storage","removeItem","undefined","configureStore","history","createBrowserHistory","middlewares","routerMiddleware","enhancers","applyMiddleware","persistConfig","blacklist","keyPrefix","persistedReducer","persistReducer","rootReducer","store","createStore","compose","Box","children","className","cn","useActionDispatch","dispatch","useDispatch","data","useAuth","useSelector","AuthService","body","axios","post","BASE_URL","BranchesService","list","params","get","create","edit","id","patch","delete","BranchProducts","ClientsService","DeliveriesService","retrieve","NotificationsService","count","PreordersService","PreorderTransactionsService","ProductsService","listTopPayingCustomers","listTopSellingProducts","TokensService","acquire","UnitTypesService","useBranches","useQuery","page","page_size","refetchOnWindowFocus","placeholderData","results","select","query","useBranchProducts","pageSize","search","branchId","status","BranchProductsService","branch_id","products","total","useClients","useCustomParams","useSearchParams","searchParams","setSearchParams","param","shouldResetPage","shouldIncludeCurrentParams","newSearchParams","Object","fromEntries","keys","forEach","useDeliveries","paymentStatus","payment_status","deliveries","useDelivery","enabled","useNotifications","notifications","useNotificationsCount","refetchInterval","usePreorder","usePreorders","preorders","useProduct","useProducts","useReportsCustomers","dateRange","ReportsService","date_range","customers","useReportsProducts","useUI","useUnitTypes","formDetails","defaultValues","password","schema","Yup","shape","required","label","Login","useState","isLoading","setLoading","navigate","useNavigate","useEffect","alt","src","imgLogo","initialValues","validationSchema","onSubmit","values","setFieldError","then","loginResponse","a","username","access","refresh","catch","finally","setFieldValue","style","width","direction","size","placeholder","prefix","UserOutlined","onChange","e","target","value","name","render","error","Text","KeyOutlined","htmlType","loading","block","BranchProductStatus","useCallback","component","color","DeliveryStatus","FormError","getUserTypeName","numberWithCommas","x","toString","replace","formatInPeso","pesoSign","Number","isNaN","round","toFixed","formatDateTime","datetime","moment","format","Sidebar","items","popupVisible","setPopupVisible","pathname","useLocation","getName","first_name","last_name","Sider","breakpoint","Sidebar__collapsed","collapsedWidth","theme","onCollapse","collapsed","map","item","tabIndex","to","link","Sidebar_sidebarList_item__active","startsWith","icon","fontSize","active","onClick","imgIconAccount","imgIconLogout","user_type","Container","loadingText","sidebarItems","spinning","tip","wrapperClassName","defaultProps","Content","title","breadcrumb","ContentLayout__sidebarCollapsed","Header","PaymentStatus","PreorderStatus","RankIcon","rank","CrownFilled","marginRight","Main","notificationsCount","getSidebarItems","DashboardOutlined","ShoppingOutlined","ShopOutlined","FileTextOutlined","ShoppingCartOutlined","AreaChartOutlined","BellOutlined","ModifyBranchModal","branch","onSuccess","onClose","refFormik","useRef","getFormDetails","footer","disabled","current","submitForm","centered","closable","visible","onCancel","innerRef","enableReinitialize","fn","strong","columns","dataIndex","Branches","dataSource","setDataSource","modifyBranchModalVisible","setModifyBranchModalVisible","selectedBranch","setSelectedBranch","deleteConfirmLoading","setDeleteConfirmLoading","isFetching","branches","refetch","onEdit","cancelText","okButtonProps","okText","placement","onConfirm","danger","justify","PlusOutlined","pagination","rowKey","Filter","onSearch","useDebouncedCallback","gutter","lg","span","defaultValue","allowClear","event","trim","Option","unitTypes","isBranchProductsFetching","tableData","product","product_prices","productPrice","String","unit_type_id","balance","getColumns","unitTypesId","flatten","filteredUnitTypes","filter","unitType","includes","fixed","newPageSize","length","position","pageSizeOptions","scroll","Dashboard","isFetchingBranches","isUnitTypesFetching","has","activeKey","onTabClick","TabPane","tab","align","Deliveries","isDeliveriesFetching","delivery","date_created","datetime_created","schedule_of_delivery","datetime_delivery","date_completed","datetime_completed","payment","customer","md","sm","tabs","getPriceByDeliveryType","deliveryType","prices","price","priceMarket","priceDelivery","pricePickup","DeliveryDetails","onSetFieldValue","isEditingDescription","setIsEditingDescription","xs","showTime","onOk","mode","customerName","onDeselect","onSelect","find","address","landline","phone","description","customerPhone","customerLandline","customerAddress","Group","compact","customerDescription","showIcon","ProductsAll","setPage","setPageSize","isAlreadyAdded","deliveryProducts","deliveryProduct","productId","checked","newDeliveryProducts","productName","productStatus","productPrices","branchProductId","branch_product_id","unitTypeId","price_market","price_delivery","price_pickup","quantity","newPage","ProductsSelected","grandTotal","setGrandTotal","index","subtotal","productPriceIndex","textAlign","Title","level","CreateDelivery","isBranchesFetching","isCustomersFetching","datetimeDelivery","nullable","test","isValid","of","min","handleSuccess","deliveryId","Modal","success","content","keyboard","delivery_type","delivery_products","message","console","errors","log","defaultActiveKey","preparedBy","checkedBy","pulledOutBy","deliveredBy","ViewDelivery","setIsLoading","isPrinting","setIsPrinting","html","setHtml","useParams","isDeliveryFetching","refetchDelivery","push","deliveryProductData","unit_type","ghost","pdf","jsPDF","orientation","unit","hotfixes","dataHtml","isDifferentPage","productsHtml","upperCase","join","generateHtml","printDeliverySlip","setTimeout","margin","filename","callback","instance","open","output","column","labelStyle","fontWeight","bordered","Item","upperFirst","datetime_fulfilled","prepared_by","checked_by","pulled_out_by","delivered_by","dangerouslySetInnerHTML","__html","isNotificationsFetching","notification","Notifications","Preorders","isPreordersFetching","preorder","date_fulfilled","PreorderDetails","suppliers","supplierName","supplier","supplierPhone","supplierLandline","supplierAddress","supplierDescription","preorderProducts","preorderProduct","newPreorderProducts","CreatePreorder","isSuppliersFetching","preorderId","preorder_products","CreateTransactionModal","formValues","setFormValues","initialFormValues","preorderProductData","branch_product","product_price","fieldQuantityKey","preorderProductId","preorder_id","preorder_transaction_products","preorder_product_id","ViewTransactionModal","preorderTransaction","setUnitTypesId","preorderTransactionProduct","product_name","newUnitTypeIds","preorderTransactionProductData","transactionColumns","ViewPreorder","setPreorderProducts","preorderProductsObject","setPreorderProductsObject","createTransactionModalVisible","setCreateTransactionModalVisible","transactionsDataSource","setTransactionsDataSource","selectedTransaction","setSelectedTransaction","isPreorderFetching","refetchPreorder","fulfilled_quantity","preorder_transactions","transaction","row","received_by","getPreorderProductColumns","onUpdateStatus","unitTypeName","printOrderSlip","y","ViewProductModal","unit_cost","vat_type","Panel","header","price_special","reorder_point","onSetPriceType","options","optionType","Products","selectedPriceType","setSelectedPriceType","selectedProduct","setSelectedProduct","isDeleting","setIsDeleting","isProductsFetching","refetchProducts","unitCost","ProductPrice","isCreate","onRemoveProductPrice","priceSpecial","reorderPoint","filterOption","input","option","toLowerCase","indexOf","optionFilterProp","showSearch","height","CloseOutlined","ModifyProduct","isProductFetching","vatType","positive","modifiedProduct","serviceFn","buttonStyle","_","i","onRemoveClick","onAddClick","dateRangeType","setDateRangeType","display","RangePicker","defaultPickerValue","split","onCalendarChange","dates","dateStrings","CustomersTab","isReportsFetching","rankStart","total_purchase","ProductsTab","productDataSource","total_sales","total_quantity","unitTypeColumns","sort","Reports","destroyInactiveTabPane","App","element","path","Modify","View","Create","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaults","baseURL","timeout","headers","common","interceptors","request","use","requestConfig","getState","AUTH","authorization","Promise","reject","response","fetch","method","JSON","stringify","token","res","json","tokenStatus","code","Error","access_token","refresh_token","queryClient","QueryClient","ReactDOM","client","persistor","persistStore","initialIsOpen","document","getElementById"],"mappings":"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","file":"static/js/main.ef46d7f5.chunk.js","sourcesContent":["import { createAction, handleActions } from 'redux-actions';\nimport { createSelector } from 'reselect';\n\nexport const key = 'AUTH';\n\nexport const types = {\n  LOGIN: `${key}/LOGIN`,\n  LOGOUT: `${key}/LOGOUT`,\n};\n\nconst initialState = {\n  user: null,\n  accessToken: null,\n  refreshToken: null,\n};\n\nconst reducer = handleActions(\n  {\n    [types.LOGIN]: (state, { payload }) => ({\n      ...state,\n      ...payload,\n    }),\n  },\n  initialState\n);\n\nexport const actions = {\n  login: createAction(types.LOGIN),\n  logout: createAction(types.LOGOUT),\n};\n\nconst selectState = (state) => state[key] || initialState;\nexport const selectors = {\n  selectUser: () => createSelector(selectState, (state) => state.user),\n  selectAccessToken: () =>\n    createSelector(selectState, (state) => state.accessToken),\n  selectRefreshToken: () =>\n    createSelector(selectState, (state) => state.refreshToken),\n};\n\nexport default reducer;\n","// TODO: Temporarily set API Url\n// const apiUrl = 'http://127.0.0.1:8000/v1/';\n\nconst config = {\n  API_URL: `http://${window.location.hostname}:8000/v1/`,\n};\n\nexport default config;\n","// Constants\nexport const APP_KEY = 'marigold_app';\nexport const GENERIC_ERROR_MESSAGE =\n  'An error occurred while processing your request';\n\nexport const EMPTY_CHARACTER = '—';\n\n// Others\nexport const userTypes = {\n  MANAGER: 'manager',\n  PERSONNEL: 'personnel',\n};\n\nexport const clientTypes = {\n  SUPPLIER: 'supplier',\n  CUSTOMER: 'customer',\n};\n\nexport const vatTypes = {\n  VAT: 'vat',\n  VAT_E: 'vat-e',\n};\n\nexport const priceTypes = {\n  DELIVERY: 'delivery',\n  MARKET: 'market',\n  PICKUP: 'pickup',\n  SPECIAL: 'special',\n};\n\nexport const productStatuses = {\n  AVAILABLE: 'available',\n  REORDER: 'reorder',\n  OUT_OF_STOCK: 'out_of_stock',\n};\n\nexport const preorderStatuses = {\n  APPROVED: 'approved',\n  PENDING: 'pending',\n  DELIVERED: 'delivered',\n  CANCELLED: 'cancelled',\n};\n\nexport const deliveryStatuses = {\n  PENDING: 'pending',\n  DELIVERED: 'delivered',\n  CANCELLED: 'cancelled',\n};\n\nexport const paymentStatuses = {\n  PAID: 'paid',\n  UNPAID: 'unpaid',\n};\n\nexport const deliveryTypes = {\n  PICKUP: 'pickup',\n  DELIVERY: 'delivery',\n  MARKET: 'market',\n};\n\nexport const dateRangeTypes = {\n  DAILY: 'daily',\n  MONTHLY: 'monthly',\n  DATE_RANGE: 'date_range',\n};\n","import { createAction, handleActions } from 'redux-actions';\nimport { createSelector } from 'reselect';\n\nexport const key = 'USER_INTEFACE';\n\nexport const types = {\n  ON_COLLAPSE_SIDEBAR: `${key}/ON_COLLAPSE_SIDEBAR`,\n};\n\nconst initialState = {\n  isSidebarCollapsed: false,\n};\n\nconst reducer = handleActions(\n  {\n    [types.ON_COLLAPSE_SIDEBAR]: (state, { payload }) => ({\n      ...state,\n      isSidebarCollapsed: payload,\n    }),\n  },\n  initialState\n);\n\nexport const actions = {\n  onCollapseSidebar: createAction(types.ON_COLLAPSE_SIDEBAR),\n};\n\nconst selectState = (state) => state[key] || initialState;\nexport const selectors = {\n  selectIsSidebarCollapsed: () =>\n    createSelector(selectState, (state) => state.isSidebarCollapsed),\n};\n\nexport default reducer;\n","import { APP_KEY } from 'globals/variables';\nimport { routerReducer } from 'react-router-redux';\nimport { combineReducers } from 'redux';\nimport storage from 'redux-persist/lib/storage';\nimport authReducer, { key as AUTH_KEY, types } from './auth';\nimport uiReducer, { key as UI_KEY } from './ui';\n\nconst appReducer = combineReducers({\n  router: routerReducer,\n  [AUTH_KEY]: authReducer,\n  [UI_KEY]: uiReducer,\n});\n\nexport default (state, action) => {\n  if (action.type === types.LOGOUT) {\n    storage.removeItem(APP_KEY);\n    // eslint-disable-next-line no-param-reassign\n    state = undefined;\n  }\n\n  return appReducer(state, action);\n};\n","import rootReducer from 'ducks';\nimport { APP_KEY } from 'globals/variables';\nimport { createBrowserHistory } from 'history';\nimport { routerMiddleware } from 'react-router-redux';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nconst configureStore = (initialState = {}) => {\n  // Create middlewares\n  const history = createBrowserHistory();\n  const middlewares = [routerMiddleware(history)];\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  // Create a persist version of the reducer\n  const persistConfig = {\n    key: APP_KEY,\n    storage,\n    blacklist: ['_persist'],\n    keyPrefix: '',\n  };\n  const persistedReducer = persistReducer(persistConfig, rootReducer);\n\n  // Create store\n  const store = createStore(\n    persistedReducer,\n    initialState,\n    compose(...enhancers)\n  );\n\n  return store;\n};\n\nexport default configureStore;\n","export default __webpack_public_path__ + \"static/media/logo.6979545f.png\";","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport './styles.scss';\n\nconst Box = ({ children, className }) => (\n  <div className={cn('Box', className)}>{children}</div>\n);\n\nBox.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n};\n\nexport default Box;\n","import { useDispatch } from 'react-redux';\n\nexport const useActionDispatch = (action) => {\n  const dispatch = useDispatch();\n\n  const dispatchAction = (data = {}) => {\n    dispatch(action(data));\n  };\n\n  return dispatchAction;\n};\n","import { actions, selectors } from 'ducks/auth';\nimport { useSelector } from 'react-redux';\nimport { useActionDispatch } from './useActionDispatch';\n\nconst useAuth = () => {\n  const user = useSelector(selectors.selectUser());\n  const accessToken = useSelector(selectors.selectAccessToken());\n  const refreshToken = useSelector(selectors.selectRefreshToken());\n\n  const login = useActionDispatch(actions.login);\n  const logout = useActionDispatch(actions.logout);\n\n  return {\n    user,\n    accessToken,\n    refreshToken,\n    login,\n    logout,\n  };\n};\n\nexport default useAuth;\n","import axios from 'axios';\n\nexport const BASE_URL = '/users/';\n\nconst AuthService = {\n  login: ({ body }) => axios.post(`${BASE_URL}login/`, body),\n};\n\nexport default AuthService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/branches/';\n\nconst BranchesService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n\n  edit: ({ id, body }) => axios.patch(`${BASE_URL}${id}/`, body),\n\n  delete: (id) => axios.delete(`${BASE_URL}${id}/`),\n};\n\nexport default BranchesService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/branch-products/';\n\nconst BranchProducts = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n};\n\nexport default BranchProducts;\n","import axios from 'axios';\n\nexport const BASE_URL = '/clients/';\n\nconst ClientsService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n};\n\nexport default ClientsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/deliveries/';\n\nconst DeliveriesService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  retrieve: (id) => axios.get(`${BASE_URL}${id}/`),\n\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n\n  edit: ({ id, body }) => axios.patch(`${BASE_URL}${id}/`, body),\n};\n\nexport default DeliveriesService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/notifications/';\n\nconst NotificationsService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  count: () => axios.get(`${BASE_URL}count/`),\n};\n\nexport default NotificationsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/preorders/';\n\nconst PreordersService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  retrieve: (id) => axios.get(`${BASE_URL}${id}/`),\n\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n\n  edit: ({ id, body }) => axios.patch(`${BASE_URL}${id}/`, body),\n};\n\nexport default PreordersService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/preorder-transactions/';\n\nconst PreorderTransactionsService = {\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n};\n\nexport default PreorderTransactionsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/products/';\n\nconst ProductsService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n\n  retrieve: (id) => axios.get(`${BASE_URL}${id}/`),\n\n  create: ({ body }) => axios.post(`${BASE_URL}`, body),\n\n  edit: ({ id, body }) => axios.patch(`${BASE_URL}${id}/`, body),\n\n  delete: (id) => axios.delete(`${BASE_URL}${id}/`),\n};\n\nexport default ProductsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/reports/';\n\nconst ProductsService = {\n  listTopPayingCustomers: ({ params }) =>\n    axios.get(`${BASE_URL}top-customers/`, { params }),\n\n  listTopSellingProducts: ({ params }) =>\n    axios.get(`${BASE_URL}top-products/`, { params }),\n};\n\nexport default ProductsService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/tokens/';\n\nconst TokensService = {\n  acquire: ({ body }) => axios.post(`${BASE_URL}acquire/`, body),\n};\n\nexport default TokensService;\n","import axios from 'axios';\n\nexport const BASE_URL = '/unit-types/';\n\nconst UnitTypesService = {\n  list: ({ params }) => axios.get(`${BASE_URL}`, { params }),\n};\n\nexport default UnitTypesService;\n","import { useQuery } from 'react-query';\nimport { BranchesService } from 'services';\n\nconst useBranches = () =>\n  useQuery(\n    'useBranches',\n    () =>\n      BranchesService.list({\n        params: {\n          page: 1,\n          page_size: 100,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: { results: [] } },\n      select: (query) => query?.data?.results,\n    }\n  );\n\nexport default useBranches;\n","import { useQuery } from 'react-query';\nimport { BranchProductsService } from 'services';\n\nconst useBranchProducts = ({ params }) =>\n  useQuery(\n    [\n      'useBranchProducts',\n      params.page,\n      params.pageSize,\n      params.search,\n      params.branchId,\n      params.status,\n    ],\n    () =>\n      BranchProductsService.list({\n        params: {\n          page: params.page,\n          page_size: params.pageSize,\n          branch_id: params.branchId,\n          search: params.search,\n          status: params.status,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        products: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default useBranchProducts;\n","import { useQuery } from 'react-query';\nimport { ClientsService } from 'services';\n\nconst useClients = ({ params }) =>\n  useQuery(\n    ['useClients', params.type],\n    () =>\n      ClientsService.list({\n        params: {\n          type: params.type,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: [] },\n      select: (query) => query.data,\n    }\n  );\n\nexport default useClients;\n","import { useSearchParams } from 'react-router-dom';\n\nconst useCustomParams = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const setQueryParams = (\n    param,\n    { shouldResetPage = false, shouldIncludeCurrentParams = true } = {}\n  ) => {\n    const newSearchParams = {\n      ...(shouldIncludeCurrentParams ? Object.fromEntries(searchParams) : {}),\n      ...(shouldResetPage ? { page: 1 } : {}),\n      ...param,\n    };\n    Object.keys(newSearchParams).forEach((key) =>\n      newSearchParams[key] === undefined ? delete newSearchParams[key] : {}\n    );\n\n    setSearchParams(newSearchParams);\n  };\n\n  return { setSearchParams: setQueryParams };\n};\n\nexport default useCustomParams;\n","import { useQuery } from 'react-query';\nimport { DeliveriesService } from 'services';\n\nconst useDeliveries = ({ params }) =>\n  useQuery(\n    ['useDeliveries', params.page, params.pageSize, params.paymentStatus],\n    () =>\n      DeliveriesService.list({\n        params: {\n          payment_status: params.paymentStatus,\n          page: params.page,\n          page_size: params.pageSize,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        deliveries: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default useDeliveries;\n","import { useQuery } from 'react-query';\nimport { DeliveriesService } from 'services';\n\nconst useDelivery = ({ id }) =>\n  useQuery(['useDelivery', id], () => DeliveriesService.retrieve(id), {\n    refetchOnWindowFocus: false,\n    select: (query) => query.data,\n    enabled: id !== undefined,\n  });\n\nexport default useDelivery;\n","import { useQuery } from 'react-query';\nimport { NotificationsService } from 'services';\n\nconst useNotifications = ({ params }) =>\n  useQuery(\n    ['useNotifications', params.page, params.pageSize, params.branchId],\n    () =>\n      NotificationsService.list({\n        params: {\n          page: params.page,\n          page_size: params.pageSize,\n          branch_id: params.branchId,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        notifications: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default useNotifications;\n","import { useQuery } from 'react-query';\nimport { NotificationsService } from 'services';\n\nconst useNotificationsCount = () =>\n  useQuery('useNotificationsCount', () => NotificationsService.count(), {\n    refetchOnWindowFocus: false,\n    placeholderData: { data: 0 },\n    select: (query) => query.data,\n    refetchInterval: 2500,\n  });\n\nexport default useNotificationsCount;\n","import { useQuery } from 'react-query';\nimport { PreordersService } from 'services';\n\nconst usePreorder = ({ id }) =>\n  useQuery(['usePreorder', id], () => PreordersService.retrieve(id), {\n    refetchOnWindowFocus: false,\n    select: (query) => query.data,\n    enabled: id !== undefined,\n  });\n\nexport default usePreorder;\n","import { useQuery } from 'react-query';\nimport { PreordersService } from 'services';\n\nconst usePreorders = ({ params }) =>\n  useQuery(\n    ['usePreorders', params.page, params.pageSize],\n    () =>\n      PreordersService.list({\n        params: {\n          page: params.page,\n          page_size: params.pageSize,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        preorders: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default usePreorders;\n","import { useQuery } from 'react-query';\nimport { ProductsService } from 'services';\n\nconst useProduct = ({ id }) =>\n  useQuery(['useProduct', id], () => ProductsService.retrieve(id), {\n    refetchOnWindowFocus: false,\n    select: (query) => query.data,\n    enabled: id !== undefined,\n  });\n\nexport default useProduct;\n","import { useQuery } from 'react-query';\nimport { ProductsService } from 'services';\n\nconst useProducts = ({ params }) =>\n  useQuery(\n    ['useProducts', params.page, params.pageSize, params.search],\n    () =>\n      ProductsService.list({\n        params: {\n          page: params.page,\n          page_size: params.pageSize,\n          search: params.search,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        products: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default useProducts;\n","import { useQuery } from 'react-query';\nimport { ReportsService } from 'services';\n\nconst useReportsCustomers = ({ params }) =>\n  useQuery(\n    ['useReportsCustomers', params.page, params.pageSize, params.dateRange],\n    () =>\n      ReportsService.listTopPayingCustomers({\n        params: {\n          page: params.page,\n          page_size: params.pageSize,\n          date_range: params.dateRange,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        customers: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default useReportsCustomers;\n","import { useQuery } from 'react-query';\nimport { ReportsService } from 'services';\n\nconst useReportsProducts = ({ params }) =>\n  useQuery(\n    [\n      'useReportsProducts',\n      params.page,\n      params.pageSize,\n      params.branchId,\n      params.dateRange,\n    ],\n    () =>\n      ReportsService.listTopSellingProducts({\n        params: {\n          page: params.page,\n          page_size: params.pageSize,\n          branch_id: params.branchId,\n          date_range: params.dateRange,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: { results: [], count: 0 } },\n      select: (query) => ({\n        products: query.data.results,\n        total: query.data.count,\n      }),\n    }\n  );\n\nexport default useReportsProducts;\n","import { useSelector } from 'react-redux';\nimport { actions, selectors } from 'ducks/ui';\nimport { useActionDispatch } from './useActionDispatch';\n\nconst useUI = () => {\n  const isSidebarCollapsed = useSelector(selectors.selectIsSidebarCollapsed());\n  const onCollapseSidebar = useActionDispatch(actions.onCollapseSidebar);\n\n  return {\n    isSidebarCollapsed,\n    onCollapseSidebar,\n  };\n};\n\nexport default useUI;\n","import { useQuery } from 'react-query';\nimport { UnitTypesService } from 'services';\n\nconst useUnitTypes = () =>\n  useQuery(\n    'useUnitTypes',\n    () =>\n      UnitTypesService.list({\n        params: {\n          page: 1,\n          page_size: 100,\n        },\n      }),\n    {\n      refetchOnWindowFocus: false,\n      placeholderData: { data: { results: [] } },\n      select: (query) => query?.data?.results,\n    }\n  );\n\nexport default useUnitTypes;\n","import { KeyOutlined, UserOutlined } from '@ant-design/icons';\nimport { Button, Input, Space, Typography } from 'antd';\nimport imgLogo from 'assets/images/logo.png';\nimport Box from 'components/elements/Box';\nimport { ErrorMessage, Form, Formik } from 'formik';\nimport { useAuth } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { AuthService, TokensService } from 'services';\nimport * as Yup from 'yup';\nimport './styles.scss';\n\nconst formDetails = {\n  defaultValues: {\n    login: '',\n    password: '',\n  },\n  schema: Yup.object().shape({\n    login: Yup.string().required().label('Username'),\n    password: Yup.string().required().label('Password'),\n  }),\n};\n\nconst Login = () => {\n  const [isLoading, setLoading] = useState(false);\n\n  const navigate = useNavigate();\n  const { user, login } = useAuth();\n\n  useEffect(() => {\n    if (user) {\n      navigate('/');\n    }\n  }, [user]);\n\n  return (\n    <section className=\"Login\">\n      <Box className=\"Login_container\">\n        <img alt=\"logo\" className=\"Login_logo\" src={imgLogo} />\n\n        <Formik\n          initialValues={formDetails.defaultValues}\n          validationSchema={formDetails.schema}\n          onSubmit={(values, { setFieldError }) => {\n            setLoading(true);\n\n            AuthService.login({ body: values })\n              .then(async (loginResponse) => {\n                // call the Acquire Tokens endpoint to get the tokens\n                const {\n                  data: { access, refresh },\n                } = await TokensService.acquire({\n                  body: {\n                    username: values.login,\n                    password: values.password,\n                  },\n                });\n\n                login({\n                  user: loginResponse.data,\n                  accessToken: access,\n                  refreshToken: refresh,\n                });\n              })\n              .catch(() => {\n                setFieldError(\n                  'password',\n                  'Username, email, or password is invalid.'\n                );\n              })\n              .finally(() => {\n                setLoading(false);\n              });\n          }}\n        >\n          {({ setFieldValue }) => (\n            <Form style={{ width: '100%' }}>\n              <Space\n                direction=\"vertical\"\n                size=\"large\"\n                style={{ width: '100%' }}\n              >\n                <div>\n                  <Input\n                    placeholder=\"Username\"\n                    prefix={<UserOutlined />}\n                    size=\"large\"\n                    onChange={(e) => {\n                      setFieldValue('login', e.target.value);\n                    }}\n                  />\n                  <ErrorMessage\n                    name=\"login\"\n                    render={(error) => (\n                      <Typography.Text type=\"danger\">{error}</Typography.Text>\n                    )}\n                  />\n                </div>\n\n                <div>\n                  <Input\n                    placeholder=\"Password\"\n                    prefix={<KeyOutlined />}\n                    size=\"large\"\n                    type=\"password\"\n                    onChange={(e) => {\n                      setFieldValue('password', e.target.value);\n                    }}\n                  />\n                  <ErrorMessage\n                    name=\"password\"\n                    render={(error) => (\n                      <Typography.Text type=\"danger\">{error}</Typography.Text>\n                    )}\n                  />\n                </div>\n\n                <Button\n                  htmlType=\"submit\"\n                  loading={isLoading}\n                  size=\"large\"\n                  type=\"primary\"\n                  block\n                >\n                  Login\n                </Button>\n              </Space>\n            </Form>\n          )}\n        </Formik>\n      </Box>\n    </section>\n  );\n};\n\nexport default Login;\n","import { Tag } from 'antd';\nimport { productStatuses } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nconst BranchProductStatus = ({ status }) => {\n  const render = useCallback(() => {\n    let component = null;\n\n    switch (status) {\n      case productStatuses.AVAILABLE:\n        component = <Tag color=\"green\">Available</Tag>;\n        break;\n      case productStatuses.REORDER:\n        component = <Tag color=\"orange\">Reorder</Tag>;\n        break;\n      case productStatuses.OUT_OF_STOCK:\n        component = <Tag color=\"red\">Out of Stock</Tag>;\n        break;\n      default:\n        break;\n    }\n\n    return component;\n  }, [status]);\n\n  return render();\n};\n\nBranchProductStatus.propTypes = {\n  status: PropTypes.oneOf([\n    productStatuses.AVAILABLE,\n    productStatuses.REORDER,\n    productStatuses.OUT_OF_STOCK,\n  ]),\n};\n\nexport default BranchProductStatus;\n","import { Tag } from 'antd';\nimport { deliveryStatuses } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nconst DeliveryStatus = ({ status }) => {\n  const render = useCallback(() => {\n    let component = null;\n\n    switch (status) {\n      case deliveryStatuses.PENDING:\n        component = <Tag color=\"orange\">Pending</Tag>;\n        break;\n      case deliveryStatuses.DELIVERED:\n        component = <Tag color=\"green\">Delivered</Tag>;\n        break;\n      case deliveryStatuses.CANCELLED:\n        component = <Tag color=\"red\">Cancelled</Tag>;\n        break;\n      default:\n        break;\n    }\n\n    return component;\n  }, [status]);\n\n  return render();\n};\n\nDeliveryStatus.propTypes = {\n  status: PropTypes.oneOf([\n    deliveryStatuses.PENDING,\n    deliveryStatuses.DELIVERED,\n    deliveryStatuses.CANCELLED,\n  ]),\n};\n\nexport default DeliveryStatus;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { ErrorMessage } from 'formik';\nimport { Typography } from 'antd';\n\nconst FormError = ({ name }) => (\n  <ErrorMessage\n    name={name}\n    render={(error) => <Typography.Text type=\"danger\">{error}</Typography.Text>}\n  />\n);\n\nFormError.propTypes = {\n  name: PropTypes.string.isRequired,\n};\n\nexport default FormError;\n","export default __webpack_public_path__ + \"static/media/icon-account.d6cf778e.svg\";","export default __webpack_public_path__ + \"static/media/icon-logout.a7e54751.svg\";","import { isNaN, round } from 'lodash';\nimport moment from 'moment';\nimport { userTypes } from './variables';\n\nexport const getUserTypeName = (type) => {\n  switch (type) {\n    case userTypes.MANAGER: {\n      return 'Manager';\n    }\n    case userTypes.PERSONNEL: {\n      return 'Personnel';\n    }\n\n    default:\n      return null;\n  }\n};\n\nexport const numberWithCommas = (x) =>\n  x.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ',');\n\nexport const formatInPeso = (value, pesoSign = '₱') => {\n  const x = Number(value);\n  return isNaN(x)\n    ? ''\n    : `${pesoSign}${numberWithCommas(round(x, 2).toFixed(2))}`;\n};\n\nexport const formatDateTime = (datetime) =>\n  datetime ? moment(datetime).format('MM/DD/YYYY h:mma') : '';\n\nexport const formatDateTimeForServer = (datetime) =>\n  moment(datetime).format('YYYY-MM-DD HH:mm:ss');\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { Layout } from 'antd';\nimport imgIconAccount from 'assets/images/icon-account.svg';\nimport imgIconLogout from 'assets/images/icon-logout.svg';\nimport imgLogo from 'assets/images/logo.png';\nimport imgSampleAvatar from 'assets/images/sample-avatar.png';\nimport cn from 'classnames';\nimport { getUserTypeName } from 'globals/functions';\nimport { useAuth, useUI } from 'hooks';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport './styles.scss';\n\nconst Sidebar = ({ items }) => {\n  // STATES\n  const [popupVisible, setPopupVisible] = useState(false);\n\n  // CUSTOM HOOKS\n  const { pathname } = useLocation();\n  const { user, logout } = useAuth();\n  const { isSidebarCollapsed, onCollapseSidebar } = useUI();\n\n  // METHODS\n  const getName = useCallback(\n    () => `${user?.first_name} ${user?.last_name}`,\n    [user]\n  );\n\n  return (\n    <Layout.Sider\n      breakpoint=\"md\"\n      className={cn('Sidebar', { Sidebar__collapsed: isSidebarCollapsed })}\n      collapsedWidth=\"0\"\n      theme=\"light\"\n      width={280}\n      onCollapse={(collapsed) => onCollapseSidebar(collapsed)}\n    >\n      <img alt=\"logo\" className=\"Sidebar_logo\" src={imgLogo} />\n      <div className=\"Sidebar_sidebarList\">\n        {items.map((item) => (\n          <Link key={item.link} tabIndex={-1} to={item.link}>\n            <div\n              className={cn('Sidebar_sidebarList_item', {\n                Sidebar_sidebarList_item__active: pathname.startsWith(\n                  item.link\n                ),\n              })}\n            >\n              <item.icon\n                className=\"Sidebar_sidebarList_item_icon\"\n                style={{\n                  fontSize: 20,\n                  color: pathname.startsWith(item.link) ? '#e0bc5d' : '#626b77',\n                }}\n              />\n\n              <span className=\"Sidebar_sidebarList_item_name\">{item.name}</span>\n\n              {item?.count > 0 && (\n                <span className=\"Sidebar_sidebarList_item_itemCount\">\n                  {item?.count}\n                </span>\n              )}\n            </div>\n          </Link>\n        ))}\n      </div>\n\n      <div\n        className={cn('bottom', { active: popupVisible })}\n        onClick={() => setPopupVisible((value) => !value)}\n      >\n        <div className=\"menu\">\n          <div className=\"item\">\n            <img alt=\"icon\" className=\"icon\" src={imgIconAccount} />\n            <span className=\"name\">Account</span>\n          </div>\n\n          <div className=\"item\" onClick={() => logout()}>\n            <img alt=\"icon\" className=\"icon\" src={imgIconLogout} />\n            <span className=\"name\">Logout</span>\n          </div>\n        </div>\n\n        <div className=\"user-details\">\n          <img alt=\"user avatar\" className=\"avatar\" src={imgSampleAvatar} />\n          <div className=\"user-text-info\">\n            <span className=\"name\">{getName()}</span>\n            <span className=\"role\">{getUserTypeName(user?.user_type)}</span>\n          </div>\n        </div>\n      </div>\n    </Layout.Sider>\n  );\n};\n\nSidebar.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string,\n      icon: PropTypes.node,\n      link: PropTypes.string,\n      count: PropTypes.number,\n    })\n  ),\n};\n\nexport default Sidebar;\n","export default \"data:image/png;base64,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\"","import { Layout, Spin } from 'antd';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Sidebar from '../Sidebar';\nimport './styles.scss';\n\nconst Container = ({ loading, loadingText, sidebarItems, children }) => (\n  <Layout className=\"Container\">\n    <Spin\n      size=\"large\"\n      spinning={loading}\n      tip={loadingText}\n      wrapperClassName=\"Container_spinner\"\n    >\n      <Sidebar items={sidebarItems} />\n      {children}\n    </Spin>\n  </Layout>\n);\n\nContainer.propTypes = {\n  loading: PropTypes.bool,\n  loadingText: PropTypes.string,\n  sidebarItems: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string,\n      icon: PropTypes.node,\n      link: PropTypes.string,\n      count: PropTypes.number,\n    })\n  ),\n  children: PropTypes.node,\n};\n\nContainer.defaultProps = {\n  loading: false,\n  loadingText: 'Fetching data...',\n};\n\nexport default Container;\n","import axios from 'axios';\nimport { actions } from 'ducks/auth';\nimport config from 'services/config';\n\nexport const configureAxios = (store) => {\n  axios.defaults.baseURL = config.API_URL;\n  axios.defaults.timeout = 40000;\n  axios.defaults.headers.common['Content-Type'] = 'application/json';\n\n  // add a request interceptor to all the axios requests\n  // that are going to be made in the site. The purpose\n  // of this interceptor is to verify if the access token\n  // is still valid and renew it if needed and possible\n  axios.interceptors.request.use(\n    (requestConfig) => {\n      // if the current request doesn't include the config's base\n      // API URL, we don't attach the access token to its authorization\n      // because it means it is an API call to a 3rd party service\n      if (requestConfig.baseURL !== config.API_URL) {\n        return requestConfig;\n      }\n\n      // Get access token from store for every api request\n      const { accessToken } = store.getState().AUTH;\n      requestConfig.headers.authorization = accessToken\n        ? `Bearer ${accessToken}`\n        : null;\n\n      return requestConfig;\n    },\n    (error) => Promise.reject(error)\n  );\n\n  axios.interceptors.response.use(null, (error) => {\n    if (error.config && error.response) {\n      if (error.response.status === 401) {\n        // Get refresh token when 401 response status\n        const { refreshToken } = store.getState().AUTH;\n\n        if (!refreshToken) {\n          return Promise.reject(error);\n        }\n\n        // We are certain that the access token already expired.\n        // We'll check if REFRESH TOKEN has also expired.\n        return fetch(`${config.API_URL}/tokens/access/verify/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            token: refreshToken,\n          }),\n        })\n          .then((res) => res.json())\n          .then((tokenStatus) => {\n            if (tokenStatus?.code === 'token_not_valid') {\n              // if the REFRESH TOKEN has already expired as well, logout the user\n              // and throw an error to exit this Promise chain\n              store.dispatch(actions.logout());\n              throw new Error('refresh token has already expired');\n            }\n\n            // If the REFRESH TOKEN is still active, renew the ACCESS TOKEN and the REFRESH TOKEN\n            return fetch(`${config.API_URL}/tokens/renew/`, {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({\n                refresh: refreshToken,\n              }),\n            });\n          })\n          .then((res) => res.json())\n          .then(({ access, refresh }) => {\n            // store the NEW ACCESS TOKEN and NEW REFRESH TOKEN to the reducer\n            store.dispatch(\n              actions.login({\n                access_token: access,\n                refresh_token: refresh,\n              })\n            );\n\n            // Modify the Authorization Header using the NEW ACCESS TOKEN\n            error.config.headers.authorization = access;\n            return axios.request(error.config);\n          })\n          .catch(() => Promise.reject(error));\n      }\n    }\n\n    return Promise.reject(error);\n  });\n};\n","import { Layout } from 'antd';\nimport cn from 'classnames';\nimport { useUI } from 'hooks';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport './styles.scss';\n\nexport const Content = ({ title, breadcrumb, className, children }) => {\n  const { isSidebarCollapsed } = useUI();\n\n  return (\n    <Layout\n      className={cn('ContentLayout', className, {\n        ContentLayout__sidebarCollapsed: isSidebarCollapsed,\n      })}\n    >\n      <Layout.Header className=\"ContentLayout_header\">\n        <div>\n          <h3 className=\"ContentLayout_header_title\">{title}</h3>\n\n          {breadcrumb}\n        </div>\n      </Layout.Header>\n      <Layout.Content className=\"ContentLayout_mainContent\">\n        {children}\n      </Layout.Content>\n    </Layout>\n  );\n};\n\nContent.propTypes = {\n  title: PropTypes.string,\n  breadcrumb: PropTypes.any,\n  className: PropTypes.string,\n  children: PropTypes.node,\n};\n\nexport default Content;\n","import { Tag } from 'antd';\nimport { paymentStatuses } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nconst PaymentStatus = ({ status }) => {\n  const render = useCallback(() => {\n    let component = null;\n\n    switch (status) {\n      case paymentStatuses.UNPAID:\n        component = <Tag color=\"orange\">Unpaid</Tag>;\n        break;\n      case paymentStatuses.PAID:\n        component = <Tag color=\"green\">Paid</Tag>;\n        break;\n      default:\n        break;\n    }\n\n    return component;\n  }, [status]);\n\n  return render();\n};\n\nPaymentStatus.propTypes = {\n  status: PropTypes.oneOf([paymentStatuses.UNPAID, paymentStatuses.PAID]),\n};\n\nexport default PaymentStatus;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { preorderStatuses } from 'globals/variables';\nimport { Tag } from 'antd';\n\nconst PreorderStatus = ({ status }) => {\n  const render = useCallback(() => {\n    let component = null;\n\n    switch (status) {\n      case preorderStatuses.APPROVED:\n        component = <Tag color=\"blue\">Approved</Tag>;\n        break;\n      case preorderStatuses.PENDING:\n        component = <Tag color=\"orange\">Pending</Tag>;\n        break;\n      case preorderStatuses.DELIVERED:\n        component = <Tag color=\"green\">Delivered</Tag>;\n        break;\n      case preorderStatuses.CANCELLED:\n        component = <Tag color=\"red\">Cancelled</Tag>;\n        break;\n      default:\n        break;\n    }\n\n    return component;\n  }, [status]);\n\n  return render();\n};\n\nPreorderStatus.propTypes = {\n  status: PropTypes.oneOf([\n    preorderStatuses.APPROVED,\n    preorderStatuses.PENDING,\n    preorderStatuses.DELIVERED,\n    preorderStatuses.CANCELLED,\n  ]),\n};\n\nexport default PreorderStatus;\n","import { CrownFilled } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nconst RankIcon = ({ rank }) => {\n  const render = useCallback(() => {\n    let icon = null;\n\n    switch (rank) {\n      case 1:\n        icon = (\n          <CrownFilled\n            style={{ fontSize: '1.5rem', marginRight: '5px', color: '#FFD700' }}\n          />\n        );\n        break;\n      case 2:\n        icon = (\n          <CrownFilled\n            style={{\n              fontSize: '1.25rem',\n              marginRight: '5px',\n              color: '#C0C0C0',\n            }}\n          />\n        );\n        break;\n      case 3:\n        icon = (\n          <CrownFilled\n            style={{ fontSize: '1rem', marginRight: '5px', color: '#CD7F32' }}\n          />\n        );\n        break;\n      default:\n        break;\n    }\n\n    return icon;\n  }, [rank]);\n\n  return render();\n};\n\nRankIcon.propTypes = {\n  rank: PropTypes.number,\n};\n\nexport default RankIcon;\n","import {\n  AreaChartOutlined,\n  BellOutlined,\n  DashboardOutlined,\n  FileTextOutlined,\n  ShopOutlined,\n  ShoppingCartOutlined,\n  ShoppingOutlined,\n} from '@ant-design/icons';\nimport { Container } from 'components';\nimport { useAuth } from 'hooks';\nimport React, { useCallback, useEffect } from 'react';\nimport { Outlet, useNavigate } from 'react-router';\nimport useNotificationsCount from '../../hooks/useNotificationsCount';\n\nconst Main = () => {\n  // CUSTOM HOOKS\n  const navigate = useNavigate();\n  const { user } = useAuth();\n\n  const { data: notificationsCount } = useNotificationsCount();\n\n  // METHODS\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n    }\n  }, [user]);\n\n  const getSidebarItems = useCallback(\n    () => [\n      {\n        name: 'Dashboard',\n        icon: DashboardOutlined,\n        link: '/dashboard',\n      },\n      {\n        name: 'Products',\n        icon: ShoppingOutlined,\n        link: '/products',\n      },\n      {\n        name: 'Branches',\n        icon: ShopOutlined,\n        link: '/branches',\n      },\n      {\n        name: 'Preorders',\n        icon: FileTextOutlined,\n        link: '/preorders',\n      },\n      {\n        name: 'Deliveries',\n        icon: ShoppingCartOutlined,\n        link: '/deliveries',\n      },\n      {\n        name: 'Reports',\n        icon: AreaChartOutlined,\n        link: '/reports',\n      },\n      {\n        name: 'Notifications',\n        icon: BellOutlined,\n        link: '/notifications',\n        count: notificationsCount,\n      },\n    ],\n    [notificationsCount]\n  );\n\n  return (\n    <Container sidebarItems={getSidebarItems()}>\n      <Outlet />\n    </Container>\n  );\n};\n\nexport default Main;\n","import { Button, Input, Modal, Typography } from 'antd';\nimport { ErrorMessage, Form, Formik } from 'formik';\nimport { GENERIC_ERROR_MESSAGE } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useRef, useState } from 'react';\nimport { BranchesService } from 'services';\nimport * as Yup from 'yup';\n\nexport const ModifyBranchModal = ({ branch, onSuccess, onClose }) => {\n  const [isLoading, setLoading] = useState(false);\n\n  const refFormik = useRef();\n\n  const getFormDetails = useCallback(\n    () => ({\n      defaultValues: {\n        id: branch?.id,\n        name: branch?.name || '',\n      },\n      schema: Yup.object().shape({\n        name: Yup.string().required().label('Name'),\n      }),\n    }),\n    [branch]\n  );\n\n  return (\n    <Modal\n      footer={[\n        <Button disabled={isLoading} size=\"large\" onClick={onClose}>\n          Cancel\n        </Button>,\n        <Button\n          loading={isLoading}\n          size=\"large\"\n          type=\"primary\"\n          onClick={() => {\n            refFormik.current.submitForm();\n          }}\n        >\n          Submit\n        </Button>,\n      ]}\n      title={branch ? '[Edit] Branch' : '[Create] Branch'}\n      centered\n      closable\n      visible\n      onCancel={onClose}\n    >\n      <Formik\n        initialValues={getFormDetails().defaultValues}\n        innerRef={refFormik}\n        validationSchema={getFormDetails().schema}\n        enableReinitialize\n        onSubmit={async (values, { setFieldError }) => {\n          setLoading(true);\n\n          try {\n            const fn = values.id\n              ? BranchesService.edit\n              : BranchesService.create;\n            await fn({ id: values.id, body: values });\n\n            onSuccess();\n            onClose();\n          } catch (e) {\n            setFieldError('name', GENERIC_ERROR_MESSAGE);\n          } finally {\n            setLoading(false);\n          }\n        }}\n      >\n        {({ values, setFieldValue }) => (\n          <Form>\n            <Typography.Text strong>Name</Typography.Text>\n            <Input\n              value={values.name}\n              onChange={(e) => {\n                setFieldValue('name', e.target.value);\n              }}\n            />\n            <ErrorMessage\n              name=\"name\"\n              render={(error) => (\n                <Typography.Text type=\"danger\">{error}</Typography.Text>\n              )}\n            />\n          </Form>\n        )}\n      </Formik>\n    </Modal>\n  );\n};\n\nModifyBranchModal.propTypes = {\n  branch: PropTypes.object,\n  onClose: PropTypes.func.isRequired,\n  onSuccess: PropTypes.func.isRequired,\n};\n","import { PlusOutlined } from '@ant-design/icons';\nimport { Button, Col, Popconfirm, Row, Space, Table } from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { useBranches } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { BranchesService } from 'services';\nimport { ModifyBranchModal } from './components/ModifyBranchModal';\nimport './styles.scss';\n\nconst columns = [\n  { title: 'Name', dataIndex: 'name' },\n  { title: 'Actions', dataIndex: 'actions' },\n];\n\nconst Branches = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n  const [modifyBranchModalVisible, setModifyBranchModalVisible] =\n    useState(false);\n  const [selectedBranch, setSelectedBranch] = useState(null);\n  const [deleteConfirmLoading, setDeleteConfirmLoading] = useState(false);\n\n  // CUSTOM HOOKS\n  const { isFetching, data: branches, refetch } = useBranches();\n\n  // EFFECTS\n  const onCreate = () => {\n    setSelectedBranch(null);\n    setModifyBranchModalVisible(true);\n  };\n\n  const onEdit = (branch) => {\n    setSelectedBranch(branch);\n    setModifyBranchModalVisible(true);\n  };\n\n  const onDelete = (id) => {\n    setDeleteConfirmLoading(true);\n    BranchesService.delete(id)\n      .then(() => {\n        refetch();\n      })\n      .finally(() => {\n        setDeleteConfirmLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    const data = branches.map((branch) => ({\n      key: branch.id,\n      name: branch.name,\n      actions: (\n        <Space>\n          <Button\n            type=\"link\"\n            onClick={() => {\n              onEdit(branch);\n            }}\n          >\n            Edit\n          </Button>\n          <Popconfirm\n            cancelText=\"No\"\n            okButtonProps={{ loading: deleteConfirmLoading }}\n            okText=\"Yes\"\n            placement=\"top\"\n            title={`Are you sure you want to delete ${branch.name}?`}\n            onConfirm={() => {\n              onDelete(branch.id);\n            }}\n          >\n            <Button type=\"link\" danger>\n              Delete\n            </Button>\n          </Popconfirm>\n        </Space>\n      ),\n    }));\n\n    setDataSource(data);\n  }, [branches]);\n\n  return (\n    <Content className=\"Branches\" title=\"Branches\">\n      <Box>\n        <Row className=\"Branches_createRow\" justify=\"end\">\n          <Col>\n            <Button size=\"large\" type=\"primary\" onClick={onCreate}>\n              <PlusOutlined /> Create Branch\n            </Button>\n          </Col>\n        </Row>\n\n        <Table\n          columns={columns}\n          dataSource={dataSource}\n          loading={isFetching}\n          pagination={false}\n          rowKey=\"key\"\n        />\n\n        {modifyBranchModalVisible && (\n          <ModifyBranchModal\n            branch={selectedBranch}\n            onClose={() => {\n              setSelectedBranch(null);\n              setModifyBranchModalVisible(false);\n            }}\n            onSuccess={refetch}\n          />\n        )}\n      </Box>\n    </Content>\n  );\n};\n\nexport default Branches;\n","import { Col, Input, Row, Select, Table, Typography } from 'antd';\nimport { BranchProductStatus } from 'components';\nimport { productStatuses } from 'globals/variables';\nimport { useBranchProducts, useCustomParams } from 'hooks';\nimport { flatten } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { useDebouncedCallback } from 'use-debounce';\n\nconst BranchProducts = ({ unitTypes }) => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const {\n    isFetching: isBranchProductsFetching,\n    data: { total, products },\n  } = useBranchProducts({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      branchId: searchParams.get('branchId'),\n      search: searchParams.get('search'),\n      status: searchParams.get('status'),\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const tableData = products.map((product) => {\n      const data = {\n        key: product.id,\n        name: (\n          <Link\n            className=\"BranchProducts_productName\"\n            to={`/products?search=${product.name}`}\n          >\n            {product.name}\n          </Link>\n        ),\n        status: <BranchProductStatus status={product.status} />,\n      };\n\n      product.product_prices.forEach((productPrice) => {\n        data[String(productPrice.unit_type_id)] = productPrice.balance;\n      });\n\n      return data;\n    });\n\n    setDataSource(tableData);\n  }, [products]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId = flatten(\n      products?.map((product) =>\n        product.product_prices.map((productPrice) => productPrice.unit_type_id)\n      )\n    );\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name', fixed: 'left' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n      })),\n      { title: 'Status', dataIndex: 'status' },\n    ];\n  }, [products, unitTypes]);\n\n  return (\n    <>\n      <Filter />\n\n      <Table\n        columns={getColumns()}\n        dataSource={dataSource}\n        loading={isBranchProductsFetching}\n        pagination={{\n          current: searchParams.get('page') || 1,\n          total,\n          pageSize: searchParams.get('pageSize') || 10,\n          onChange: (page, newPageSize) => {\n            setSearchParams({\n              page,\n              pageSize: newPageSize,\n            });\n          },\n          disabled: products.length === 0,\n          position: ['bottomCenter'],\n          pageSizeOptions: ['10', '20', '50'],\n        }}\n        rowKey=\"key\"\n        scroll={{ x: 800 }}\n      />\n    </>\n  );\n};\n\nconst Filter = () => {\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const onSearch = useDebouncedCallback((value) => {\n    setSearchParams({ search: value });\n  }, 500);\n\n  return (\n    <Row className=\"Products_filter\" gutter={[15, 15]}>\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Search</Typography.Text>\n        <Input\n          defaultValue={searchParams.get('search')}\n          allowClear\n          onChange={(event) => onSearch(event.target.value.trim())}\n        />\n      </Col>\n\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Status</Typography.Text>\n        <Select\n          style={{ width: '100%' }}\n          value={searchParams.get('status')}\n          allowClear\n          onChange={(value) => {\n            setSearchParams({ status: value });\n          }}\n        >\n          <Select.Option value={productStatuses.AVAILABLE}>\n            Available\n          </Select.Option>\n          <Select.Option value={productStatuses.REORDER}>Reorder</Select.Option>\n          <Select.Option value={productStatuses.OUT_OF_STOCK}>\n            Out of Stock\n          </Select.Option>\n        </Select>\n      </Col>\n    </Row>\n  );\n};\n\nBranchProducts.propTypes = {\n  unitTypes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ),\n};\n\nexport default BranchProducts;\n","import { Spin, Tabs } from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { useBranches, useCustomParams, useUnitTypes } from 'hooks';\nimport React, { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport BranchProducts from './BranchProducts';\n\nconst Dashboard = () => {\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n  const { isFetching: isFetchingBranches, data: branches } = useBranches();\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n\n  // METHODS\n  useEffect(() => {\n    if (!searchParams.has('branchId') && branches.length > 0) {\n      setSearchParams({ branchId: branches?.[0]?.id });\n    }\n  }, [branches, searchParams]);\n\n  const onTabClick = (branchId) => {\n    setSearchParams({ branchId });\n  };\n\n  return (\n    <Content title=\"Dashboard\">\n      <Box>\n        <Spin spinning={isFetchingBranches || isUnitTypesFetching}>\n          <Tabs\n            activeKey={searchParams.get('branchId')}\n            type=\"card\"\n            onTabClick={onTabClick}\n          >\n            {branches.map(({ name, id }) => (\n              <Tabs.TabPane key={id} tab={name}>\n                <BranchProducts unitTypes={unitTypes} />\n              </Tabs.TabPane>\n            ))}\n          </Tabs>\n        </Spin>\n      </Box>\n    </Content>\n  );\n};\n\nexport default Dashboard;\n","import { PlusOutlined } from '@ant-design/icons';\nimport { Button, Col, Row, Select, Table, Typography } from 'antd';\nimport { Content, DeliveryStatus, PaymentStatus } from 'components';\nimport { Box } from 'components/elements';\nimport { formatDateTime } from 'globals/functions';\nimport { paymentStatuses } from 'globals/variables';\nimport { useCustomParams, useDeliveries } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport './styles.scss';\n\nconst columns = [\n  { title: 'ID', dataIndex: 'id' },\n  { title: 'Date Created', dataIndex: 'date_created' },\n  { title: 'Schedule of Delivery', dataIndex: 'schedule_of_delivery' },\n  { title: 'Date Completed', dataIndex: 'date_completed' },\n  { title: 'Payment', dataIndex: 'payment', align: 'center' },\n  { title: 'Customer', dataIndex: 'customer' },\n  { title: 'Status', dataIndex: 'status', align: 'center' },\n  { title: 'Actions', dataIndex: 'actions' },\n];\n\nconst Deliveries = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const { setSearchParams } = useCustomParams();\n\n  const {\n    isFetching: isDeliveriesFetching,\n    data: { total, deliveries },\n  } = useDeliveries({\n    params: {\n      paymentStatus: searchParams.get('paymentStatus'),\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const tableData = deliveries.map((delivery) => {\n      const data = {\n        key: delivery.id,\n        id: delivery.id,\n        date_created: formatDateTime(delivery.datetime_created),\n        schedule_of_delivery: formatDateTime(delivery.datetime_delivery),\n        date_completed: formatDateTime(delivery.datetime_completed),\n        payment: <PaymentStatus status={delivery?.payment_status} />,\n        customer: delivery?.customer?.name,\n        status: <DeliveryStatus status={delivery.status} />,\n        actions: <Link to={`/deliveries/${delivery.id}`}>View</Link>,\n      };\n\n      return data;\n    });\n\n    setDataSource(tableData);\n  }, [deliveries]);\n\n  return (\n    <Content className=\"Deliveries\" title=\"Deliveries\">\n      <Box>\n        <Row\n          className=\"Deliveries_createRow\"\n          gutter={[15, 15]}\n          justify=\"space-between\"\n        >\n          <Col md={6} sm={12} span={24}>\n            <Filter />\n          </Col>\n          <Col>\n            <Button\n              size=\"large\"\n              type=\"primary\"\n              onClick={() => {\n                navigate('create');\n              }}\n            >\n              <PlusOutlined /> Create Delivery\n            </Button>\n          </Col>\n        </Row>\n\n        <Table\n          columns={columns}\n          dataSource={dataSource}\n          loading={isDeliveriesFetching}\n          pagination={{\n            current: searchParams.get('page') || 1,\n            total,\n            pageSize: searchParams.get('pageSize') || 10,\n            onChange: (page, newPageSize) => {\n              setSearchParams({\n                page,\n                pageSize: newPageSize,\n              });\n            },\n            disabled: deliveries.length === 0,\n            position: ['bottomCenter'],\n            pageSizeOptions: ['10', '20', '50'],\n          }}\n          rowKey=\"key\"\n          scroll={{ x: 800 }}\n        />\n      </Box>\n    </Content>\n  );\n};\n\nconst Filter = () => {\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  return (\n    <Row gutter={[15, 15]}>\n      <Col span={24}>\n        <Typography.Text strong>Status</Typography.Text>\n        <Select\n          style={{ width: '100%' }}\n          value={searchParams.get('paymentStatus')}\n          allowClear\n          onChange={(value) => {\n            setSearchParams({ paymentStatus: value });\n          }}\n        >\n          <Select.Option value={paymentStatuses.UNPAID}>Unpaid</Select.Option>\n          <Select.Option value={paymentStatuses.PAID}>Paid</Select.Option>\n        </Select>\n      </Col>\n    </Row>\n  );\n};\n\nexport default Deliveries;\n","import {\n  Alert,\n  Button,\n  Checkbox,\n  Col,\n  DatePicker,\n  Divider,\n  Input,\n  message,\n  Modal,\n  Row,\n  Select,\n  Spin,\n  Table,\n  Tabs,\n  Typography,\n} from 'antd';\nimport { BranchProductStatus, Content, FormError } from 'components';\nimport { Box } from 'components/elements';\nimport { Form, Formik } from 'formik';\nimport { formatDateTimeForServer, formatInPeso } from 'globals/functions';\nimport {\n  clientTypes,\n  deliveryTypes,\n  GENERIC_ERROR_MESSAGE,\n  productStatuses,\n} from 'globals/variables';\nimport {\n  useBranches,\n  useBranchProducts,\n  useClients,\n  useUnitTypes,\n} from 'hooks';\nimport { flatten } from 'lodash';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { DeliveriesService } from 'services';\nimport * as Yup from 'yup';\nimport '../styles.scss';\n\nconst tabs = {\n  ALL: 'ALL',\n  SELECTED: 'SELECTED',\n};\n\nconst getPriceByDeliveryType = (deliveryType, prices) => {\n  let price = 0;\n  const { priceMarket, priceDelivery, pricePickup } = prices;\n\n  if (deliveryType === deliveryTypes.PICKUP) {\n    price = priceMarket;\n  } else if (deliveryType === deliveryTypes.DELIVERY) {\n    price = priceDelivery;\n  } else if (deliveryType === deliveryTypes.MARKET) {\n    price = pricePickup;\n  }\n\n  return price;\n};\n\nconst getValidDateTest = (label) =>\n  Yup.string()\n    .required()\n    .nullable()\n    .test('is-valid-date', `${label} is not a valid time`, (value) =>\n      moment(value).isValid()\n    )\n    .label(label);\n\nconst CreateDelivery = () => {\n  // STATES\n  const [isLoading, setLoading] = useState(false);\n\n  // CUSTOM HOOKS\n  const navigate = useNavigate();\n  const { isFetching: isBranchesFetching, data: branches } = useBranches();\n  const { isFetching: isCustomersFetching, data: customers } = useClients({\n    params: { type: clientTypes.CUSTOMER },\n  });\n\n  const formDetails = {\n    defaultValues: {\n      branchId: null,\n      deliveryType: null,\n      datetimeDelivery: null,\n      customerName: null,\n      customerAddress: null,\n      customerLandline: null,\n      customerPhone: null,\n      customerDescription: null,\n      deliveryProducts: [],\n    },\n    schema: Yup.object().shape({\n      branchId: Yup.string().required().label('Branch').nullable(),\n      deliveryType: Yup.string().required().label('Delivery Type').nullable(),\n      datetimeDelivery: getValidDateTest('Schedule Of Delivery'),\n      customerName: Yup.string().required().label('Customer Name').nullable(),\n      customerAddress: Yup.string()\n        .required()\n        .label('Customer Address')\n        .nullable(),\n      customerLandline: Yup.string().label('Customer Telephone').nullable(),\n      customerPhone: Yup.string().label('Customer Phone').nullable(),\n      customerDescription: Yup.string()\n        .label('Customer Description')\n        .nullable(),\n      deliveryProducts: Yup.array().of(\n        Yup.object().shape({\n          productId: Yup.number().required(),\n          productName: Yup.string().required(),\n          productStatus: Yup.string().required(),\n          productPrices: Yup.array().of(\n            Yup.object().shape({\n              branchProductId: Yup.number().required().label('Product'),\n              unitTypeId: Yup.number().required(),\n              price: Yup.number(),\n              quantity: Yup.number()\n                .required()\n                .min(0, 'Must not be negative')\n                .label('Quantity'),\n            })\n          ),\n        })\n      ),\n    }),\n  };\n\n  // METHODS\n  const handleSuccess = (deliveryId) => {\n    Modal.success({\n      title: 'Success',\n      content: `Delivery is successfully created.`,\n      keyboard: false,\n      okText: 'View Delivery',\n      onOk: () => {\n        navigate(`/deliveries/${deliveryId}`);\n      },\n    });\n  };\n\n  return (\n    <Content title=\"Create Delivery\">\n      <Spin spinning={isBranchesFetching || isCustomersFetching}>\n        <Formik\n          initialValues={formDetails.defaultValues}\n          validationSchema={formDetails.schema}\n          onSubmit={async (values) => {\n            setLoading(true);\n\n            if (values.deliveryProducts.length > 0) {\n              try {\n                const customer = customers.find(\n                  ({ name }) => name === values.customerName\n                );\n\n                const deliveryProducts = flatten(\n                  values.deliveryProducts.map((deliveryProduct) =>\n                    deliveryProduct.productPrices\n                      .filter((productPrice) => productPrice.quantity > 0)\n                      .map((productPrice) => {\n                        const price = getPriceByDeliveryType(\n                          values.deliveryType,\n                          {\n                            priceMarket: productPrice.priceMarket,\n                            priceDelivery: productPrice.priceDelivery,\n                            pricePickup: productPrice.pricePickup,\n                          }\n                        );\n\n                        return {\n                          branch_product_id: productPrice.branchProductId,\n                          quantity: productPrice.quantity,\n                          price,\n                        };\n                      })\n                  )\n                );\n\n                if (deliveryProducts.length > 0) {\n                  const { data } = await DeliveriesService.create({\n                    body: {\n                      branch_id: values.branchId,\n                      delivery_type: values.deliveryType,\n                      datetime_delivery: formatDateTimeForServer(\n                        moment(values.datetimeDelivery)\n                      ),\n                      customer: {\n                        id: customer?.id,\n                        name: values.customerName,\n                        description: values.customerDescription,\n                        address: values.customerAddress,\n                        landline:\n                          values.customerLandline.length > 0\n                            ? values.customerLandline\n                            : undefined,\n                        phone:\n                          values.customerPhone.length > 0\n                            ? values.customerPhone\n                            : undefined,\n                      },\n                      delivery_products: deliveryProducts,\n                    },\n                  });\n\n                  handleSuccess(data.id);\n                } else {\n                  message.error('Please add quantity to products first');\n                }\n              } catch (e) {\n                console.error(e);\n                message.error(GENERIC_ERROR_MESSAGE);\n              }\n            } else {\n              message.error('Please add a product first');\n            }\n\n            setLoading(false);\n          }}\n        >\n          {({ values, errors, setFieldValue }) => (\n            <Form style={{ width: '100%' }}>\n              {console.log('errors', errors)}\n              {console.log('values', values)}\n              <Spin spinning={isLoading}>\n                <DeliveryDetails\n                  branches={branches}\n                  customers={customers}\n                  values={values}\n                  onSetFieldValue={setFieldValue}\n                />\n\n                {values.branchId !== null && (\n                  <Box>\n                    <Tabs defaultActiveKey={tabs.ALL} size=\"large\" type=\"card\">\n                      <Tabs.TabPane key={tabs.ALL} tab=\"All\">\n                        <ProductsAll\n                          values={values}\n                          onSetFieldValue={setFieldValue}\n                        />\n                      </Tabs.TabPane>\n                      <Tabs.TabPane\n                        key={tabs.SELECTED}\n                        tab={`Selected Products (${values.deliveryProducts.length})`}\n                      >\n                        <ProductsSelected\n                          values={values}\n                          onSetFieldValue={setFieldValue}\n                        />\n                      </Tabs.TabPane>\n                    </Tabs>\n                  </Box>\n                )}\n\n                <Box>\n                  <Row justify=\"end\">\n                    <Col>\n                      <Button htmlType=\"submit\" size=\"large\" type=\"primary\">\n                        Submit\n                      </Button>\n                    </Col>\n                  </Row>\n                </Box>\n              </Spin>\n            </Form>\n          )}\n        </Formik>\n      </Spin>\n    </Content>\n  );\n};\n\nconst DeliveryDetails = ({ branches, customers, values, onSetFieldValue }) => {\n  const [isEditingDescription, setIsEditingDescription] = useState(false);\n\n  return (\n    <Box>\n      <Row gutter={[15, 15]}>\n        <Col sm={12} xs={24}>\n          <Typography.Text strong>Branch Source</Typography.Text>\n          <Select\n            style={{ width: '100%' }}\n            value={values.branchId}\n            onChange={(value) => {\n              onSetFieldValue('branchId', value);\n            }}\n          >\n            {branches.map((branch) => (\n              <Select.Option key={branch.id} value={branch.id}>\n                {branch.name}\n              </Select.Option>\n            ))}\n          </Select>\n          <FormError name=\"branchId\" />\n        </Col>\n\n        <Col sm={12} xs={24}>\n          <Typography.Text strong>Delivery Type</Typography.Text>\n          <Select\n            style={{ width: '100%' }}\n            value={values.deliveryType}\n            onChange={(value) => {\n              onSetFieldValue('deliveryType', value);\n            }}\n          >\n            <Select.Option\n              key={deliveryTypes.DELIVERY}\n              value={deliveryTypes.DELIVERY}\n            >\n              Delivery\n            </Select.Option>\n            <Select.Option\n              key={deliveryTypes.PICKUP}\n              value={deliveryTypes.PICKUP}\n            >\n              Pickup\n            </Select.Option>\n\n            <Select.Option\n              key={deliveryTypes.MARKET}\n              value={deliveryTypes.MARKET}\n            >\n              Market\n            </Select.Option>\n          </Select>\n          <FormError name=\"deliveryType\" />\n        </Col>\n\n        <Col sm={12} xs={24}>\n          <Typography.Text strong>Schedule of Delivery</Typography.Text>\n          <DatePicker\n            allowClear={false}\n            format=\"MMM DD, YYYY hh:mm A\"\n            showTime={{ format: 'hh:mm A' }}\n            style={{ width: '100%' }}\n            onOk={(value) => {\n              onSetFieldValue('datetimeDelivery', value);\n            }}\n          />\n          <FormError name=\"datetimeDelivery\" />\n        </Col>\n\n        <Col span={24}>\n          <Divider>Customer</Divider>\n        </Col>\n\n        <Col md={12} xs={24}>\n          <Typography.Text strong>Customer's Name</Typography.Text>\n          <Select\n            mode=\"tags\"\n            style={{ width: '100%' }}\n            value={values.customerName !== null ? [values.customerName] : []}\n            onDeselect={() => {\n              onSetFieldValue('customerName', null);\n              onSetFieldValue('customerAddress', null);\n              onSetFieldValue('customerLandline', null);\n              onSetFieldValue('customerPhone', null);\n              onSetFieldValue('customerDescription', null);\n            }}\n            onSelect={(value) => {\n              const customerName = value;\n              onSetFieldValue('customerName', customerName);\n\n              const customer = customers.find(\n                ({ name }) => name === customerName\n              );\n              onSetFieldValue('customerAddress', customer?.address || '');\n              onSetFieldValue('customerLandline', customer?.landline || '');\n              onSetFieldValue('customerPhone', customer?.phone || '');\n              onSetFieldValue(\n                'customerDescription',\n                customer?.description || ''\n              );\n            }}\n          >\n            {customers.map((customer) => (\n              <Select.Option key={customer.id} value={customer.name}>\n                {customer.name}\n              </Select.Option>\n            ))}\n          </Select>\n          <FormError name=\"customerName\" />\n        </Col>\n\n        <Col md={6} sm={24}>\n          <Typography.Text strong>Customer's Phone Number</Typography.Text>\n          <Input\n            value={values.customerPhone}\n            onChange={(e) => {\n              onSetFieldValue('customerPhone', e.target.value);\n            }}\n          />\n          <FormError name=\"customerPhone\" />\n        </Col>\n\n        <Col md={6} sm={24}>\n          <Typography.Text strong>Customer's Telephone Number</Typography.Text>\n          <Input\n            value={values.customerLandline}\n            onChange={(e) => {\n              onSetFieldValue('customerLandline', e.target.value);\n            }}\n          />\n          <FormError name=\"customerLandline\" />\n        </Col>\n\n        <Col span={24}>\n          <Typography.Text strong>Customer's Address</Typography.Text>\n          <Input\n            value={values.customerAddress}\n            onChange={(e) => {\n              onSetFieldValue('customerAddress', e.target.value);\n            }}\n          />\n          <FormError name=\"customerAddress\" />\n        </Col>\n\n        <Col span={24}>\n          <Typography.Text strong>Customer's Description</Typography.Text>\n\n          {isEditingDescription ? (\n            <Input.Group compact>\n              <Input\n                style={{ width: 'calc(100% - 70px)' }}\n                value={values.customerDescription}\n                onChange={(e) => {\n                  onSetFieldValue('customerDescription', e.target.value);\n                }}\n              />\n              <Button\n                type=\"primary\"\n                onClick={() => {\n                  setIsEditingDescription(false);\n                }}\n              >\n                Save\n              </Button>\n            </Input.Group>\n          ) : (\n            <Alert\n              action={\n                <Button\n                  size=\"small\"\n                  type=\"link\"\n                  onClick={() => {\n                    setIsEditingDescription(true);\n                  }}\n                >\n                  Edit\n                </Button>\n              }\n              description={values.customerDescription}\n              type=\"info\"\n              showIcon\n            />\n          )}\n\n          <FormError name=\"customerDescription\" />\n        </Col>\n      </Row>\n    </Box>\n  );\n};\n\nconst ProductsAll = ({ values, onSetFieldValue }) => {\n  // STATES\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [dataSource, setDataSource] = useState([]);\n\n  const columns = [\n    { title: 'Name', dataIndex: 'name' },\n    { title: 'Status', dataIndex: 'status' },\n  ];\n\n  // CUSTOM HOOKS\n  const {\n    isFetching: isBranchProductsFetching,\n    data: { total, products },\n  } = useBranchProducts({\n    params: {\n      page,\n      pageSize,\n      branchId: values.branchId,\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    setDataSource(\n      products.map((product) => {\n        const isAlreadyAdded = values.deliveryProducts.find(\n          (deliveryProduct) => deliveryProduct.productId === product.id\n        );\n\n        return {\n          key: product.id,\n          name: (\n            <Checkbox\n              checked={isAlreadyAdded}\n              disabled={product.status === productStatuses.OUT_OF_STOCK}\n              onChange={(e) => {\n                const isChecked = e.target.checked;\n                let newDeliveryProducts = [];\n\n                if (isChecked) {\n                  newDeliveryProducts = [\n                    ...values.deliveryProducts,\n                    {\n                      productId: product.id,\n                      productName: product.name,\n                      productStatus: product.status,\n                      productPrices: product.product_prices.map(\n                        (productPrice) => ({\n                          branchProductId: productPrice.branch_product_id,\n                          unitTypeId: productPrice.unit_type_id,\n                          priceMarket: productPrice.price_market,\n                          priceDelivery: productPrice.price_delivery,\n                          pricePickup: productPrice.price_pickup,\n                          balance: productPrice.balance,\n                          quantity: 0,\n                        })\n                      ),\n                    },\n                  ];\n                } else {\n                  newDeliveryProducts = values.deliveryProducts.filter(\n                    (deliveryProduct) =>\n                      deliveryProduct.productId !== product.id\n                  );\n                }\n\n                onSetFieldValue('deliveryProducts', newDeliveryProducts);\n              }}\n            >\n              {product.name}\n            </Checkbox>\n          ),\n          status: <BranchProductStatus status={product.status} />,\n        };\n      })\n    );\n  }, [products, values]);\n\n  useEffect(() => {\n    setDataSource([]);\n    onSetFieldValue('deliveryProducts', []);\n  }, [values.branchId]);\n\n  return (\n    <Table\n      columns={columns}\n      dataSource={dataSource}\n      loading={isBranchProductsFetching}\n      pagination={{\n        current: page,\n        total,\n        pageSize,\n        onChange: (newPage, newPageSize) => {\n          setPage(newPage);\n          setPageSize(newPageSize);\n        },\n        disabled: isBranchProductsFetching,\n        position: ['bottomCenter'],\n        pageSizeOptions: ['10', '20', '50'],\n      }}\n      rowKey=\"key\"\n    />\n  );\n};\n\nconst ProductsSelected = ({ values, onSetFieldValue }) => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n  const [grandTotal, setGrandTotal] = useState(0);\n\n  // CUSTOM HOOKS\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n\n  // METHODS\n  useEffect(() => {\n    let total = 0;\n\n    setDataSource(\n      values.deliveryProducts.map((deliveryProduct, index) => {\n        const data = {\n          key: deliveryProduct.productId,\n          name: (\n            <Checkbox\n              checked\n              onChange={() => {\n                onSetFieldValue(\n                  'deliveryProducts',\n                  values.deliveryProducts.filter(\n                    ({ productId }) => productId !== deliveryProduct.productId\n                  )\n                );\n              }}\n            >\n              {deliveryProduct.productName}\n            </Checkbox>\n          ),\n        };\n\n        let subtotal = 0;\n        deliveryProduct.productPrices.forEach(\n          (productPrice, productPriceIndex) => {\n            const { quantity } = productPrice;\n            const price = getPriceByDeliveryType(values.deliveryType, {\n              priceMarket: productPrice.priceMarket,\n              priceDelivery: productPrice.priceDelivery,\n              pricePickup: productPrice.pricePickup,\n            });\n\n            subtotal += price * quantity;\n\n            data[String(productPrice.unitTypeId)] = (\n              <>\n                <Input\n                  style={{ textAlign: 'center' }}\n                  type=\"number\"\n                  onChange={(e) => {\n                    onSetFieldValue(\n                      `deliveryProducts.${index}.productPrices.${productPriceIndex}.quantity`,\n                      Number(e.target.value)\n                    );\n                  }}\n                />\n                <FormError\n                  name={`deliveryProducts.${index}.productPrices.${productPriceIndex}.quantity`}\n                />\n              </>\n            );\n          }\n        );\n        data.subtotal = formatInPeso(subtotal);\n\n        total += subtotal;\n\n        return data;\n      })\n    );\n\n    setGrandTotal(total);\n  }, [values, unitTypes]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId = flatten(\n      values?.deliveryProducts?.map((deliveryProduct) =>\n        deliveryProduct.productPrices.map(\n          (productPrice) => productPrice.unitTypeId\n        )\n      )\n    );\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n        align: 'center',\n      })),\n      { title: 'Subtotal', dataIndex: 'subtotal' },\n    ];\n  }, [values, unitTypes]);\n\n  return (\n    <>\n      <Table\n        columns={getColumns()}\n        dataSource={dataSource}\n        loading={isUnitTypesFetching}\n        pagination={false}\n        rowKey=\"key\"\n        scroll={{ x: 800 }}\n      />\n\n      <Typography.Title className=\"CreateDelivery_grandTotal\" level={3}>\n        Grand Total: {formatInPeso(grandTotal)}\n      </Typography.Title>\n    </>\n  );\n};\n\nDeliveryDetails.propTypes = {\n  branches: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  customers: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      address: PropTypes.string,\n      description: PropTypes.string,\n      landline: PropTypes.string,\n      name: PropTypes.string,\n      phone: PropTypes.string,\n    })\n  ).isRequired,\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    deliveryType: PropTypes.string,\n    customerName: PropTypes.string,\n    customerAddress: PropTypes.string,\n    customerLandline: PropTypes.string,\n    customerPhone: PropTypes.string,\n    customerDescription: PropTypes.string,\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nProductsAll.propTypes = {\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    deliveryProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        productId: PropTypes.number,\n        productName: PropTypes.string,\n        productStatus: PropTypes.string,\n        productPrices: PropTypes.arrayOf(\n          PropTypes.shape({\n            branchProductId: PropTypes.number,\n            unitTypeId: PropTypes.number,\n            quantity: PropTypes.number,\n          })\n        ),\n      })\n    ),\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nProductsSelected.propTypes = {\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    deliveryType: PropTypes.string,\n    deliveryProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        productId: PropTypes.number,\n        productName: PropTypes.string,\n        productStatus: PropTypes.string,\n        productPrices: PropTypes.arrayOf(\n          PropTypes.shape({\n            branchProductId: PropTypes.number,\n            unitTypeId: PropTypes.number,\n            quantity: PropTypes.number,\n          })\n        ),\n      })\n    ),\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nexport default CreateDelivery;\n","import {\n  Button,\n  Col,\n  Descriptions,\n  Divider,\n  Input,\n  message,\n  Row,\n  Select,\n  Spin,\n  Table,\n  Typography,\n} from 'antd';\nimport { Content, FormError, PaymentStatus, PreorderStatus } from 'components';\nimport { Box } from 'components/elements';\nimport { printDeliverySlip } from 'configurePrinter';\nimport { Form, Formik } from 'formik';\nimport { formatDateTime } from 'globals/functions';\nimport {\n  deliveryStatuses,\n  EMPTY_CHARACTER,\n  GENERIC_ERROR_MESSAGE,\n  paymentStatuses,\n} from 'globals/variables';\nimport { useDelivery, useUnitTypes } from 'hooks';\nimport { jsPDF } from 'jspdf';\nimport { upperFirst } from 'lodash';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { DeliveriesService } from 'services';\nimport * as Yup from 'yup';\nimport '../styles.scss';\n\nconst formDetails = {\n  defaultValues: {\n    preparedBy: '',\n    checkedBy: '',\n    pulledOutBy: '',\n    deliveredBy: '',\n    paymentStatus: '',\n  },\n  schema: Yup.object().shape({\n    preparedBy: Yup.string().label('Prepared By'),\n    checkedBy: Yup.string().label('Checked By'),\n    pulledOutBy: Yup.string().label('Pulled Out By'),\n    deliveredBy: Yup.string().label('Delivered By'),\n    paymentStatus: Yup.string().label('Payment Status'),\n  }),\n};\n\nconst ViewDelivery = () => {\n  // STATES\n  const [isLoading, setIsLoading] = useState(false);\n  const [dataSource, setDataSource] = useState([]);\n  const [isPrinting, setIsPrinting] = useState(false);\n  const [html, setHtml] = useState('');\n\n  // CUSTOM HOOKS\n  const params = useParams();\n\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n  const {\n    isFetching: isDeliveryFetching,\n    data: delivery,\n    refetch: refetchDelivery,\n  } = useDelivery({\n    id: params.deliveryId,\n  });\n\n  // METHODS\n  useEffect(() => {\n    const data = {};\n\n    // Note: We need to group all preorder products by product so it\n    // will be easier to traverse them later on\n    delivery?.delivery_products.forEach((deliveryProduct) => {\n      const productName = deliveryProduct.product.name;\n\n      if (data[productName] === undefined) {\n        data[productName] = [];\n      }\n\n      data[productName].push(deliveryProduct);\n    });\n\n    // Note: Convert the object into array\n\n    setDataSource(\n      Object.keys(data).map((key) => {\n        const deliveryProducts = data[key];\n        const deliveryProductData = {\n          key,\n          name: key,\n        };\n\n        deliveryProducts.forEach((deliveryProduct) => {\n          const unitTypeId = String(deliveryProduct.unit_type.id);\n          deliveryProductData[unitTypeId] = Number(deliveryProduct.quantity);\n        });\n\n        return deliveryProductData;\n      })\n    );\n  }, [delivery]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId =\n      delivery?.delivery_products?.map(\n        (deliveryProduct) => deliveryProduct.unit_type.id\n      ) || [];\n\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n        align: 'center',\n      })),\n    ];\n  }, [delivery, unitTypes]);\n\n  const onPrint = () => {\n    if (delivery) {\n      setIsPrinting(true);\n      // eslint-disable-next-line new-cap\n      const pdf = new jsPDF({\n        orientation: 'p',\n        unit: 'px',\n        format: 'legal',\n        hotfixes: ['px_scaling'],\n      });\n\n      const dataHtml = printDeliverySlip(delivery, unitTypes);\n\n      setHtml(dataHtml);\n\n      setTimeout(() => {\n        pdf.html(dataHtml, {\n          margin: 10,\n          filename: `Delivery_${delivery.id}`,\n          callback: (instance) => {\n            window.open(instance.output('bloburl').toString());\n            setIsPrinting(false);\n            setHtml('');\n          },\n        });\n      }, 2000);\n    } else {\n      message.error(GENERIC_ERROR_MESSAGE);\n    }\n  };\n\n  return (\n    <Content className=\"ViewDelivery\" title=\"Delivery\">\n      <Spin spinning={isDeliveryFetching || isUnitTypesFetching || isLoading}>\n        <Box>\n          {delivery?.status !== deliveryStatuses.CANCELLED && (\n            <Row className=\"ViewDelivery_print\">\n              <Col sm={12} xs={24}>\n                <Button\n                  loading={isPrinting}\n                  size=\"large\"\n                  type=\"primary\"\n                  ghost\n                  onClick={onPrint}\n                >\n                  Print Delivery\n                </Button>\n              </Col>\n            </Row>\n          )}\n\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            bordered\n          >\n            <Descriptions.Item label=\"ID\" span={2}>\n              {delivery?.id}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Branch\">\n              {delivery?.branch?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Delivery Type\">\n              {upperFirst(delivery?.delivery_type)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Created By\">\n              {delivery?.user?.first_name} {delivery?.user?.last_name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Datetime Created\">\n              {formatDateTime(delivery?.datetime_created)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Schedule of Delivery\">\n              {formatDateTime(delivery?.datetime_fulfilled)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Status\">\n              <PreorderStatus status={delivery?.status} />\n            </Descriptions.Item>\n          </Descriptions>\n\n          <Divider />\n\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            title=\"Customer\"\n            bordered\n          >\n            <Descriptions.Item label=\"Name\" span={2}>\n              {delivery?.customer?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Phone\">\n              {delivery?.customer?.phone || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Telephone\">\n              {delivery?.customer?.landline || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Address\" span={2}>\n              {delivery?.customer?.address}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Description\" span={2}>\n              {delivery?.customer?.description}\n            </Descriptions.Item>\n          </Descriptions>\n\n          <Divider />\n\n          <Table\n            columns={getColumns()}\n            dataSource={dataSource}\n            pagination={false}\n            rowKey=\"key\"\n            scroll={{ x: 800 }}\n          />\n        </Box>\n\n        {delivery?.status === deliveryStatuses.DELIVERED && (\n          <Box>\n            <Descriptions\n              column={{ xs: 1, sm: 1, md: 2 }}\n              labelStyle={{ fontWeight: 'bold' }}\n              size=\"small\"\n              title=\"Delivery\"\n              bordered\n            >\n              <Descriptions.Item label=\"Delivery Completed\" span={2}>\n                {formatDateTime(delivery?.datetime_completed)}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Prepared By\">\n                {delivery?.prepared_by || EMPTY_CHARACTER}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Checked By\">\n                {delivery?.checked_by || EMPTY_CHARACTER}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Pulled Out By\">\n                {delivery?.pulled_out_by || EMPTY_CHARACTER}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Delivered By\">\n                {delivery?.delivered_by || EMPTY_CHARACTER}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Payment Status\">\n                <PaymentStatus status={delivery?.payment_status} />\n              </Descriptions.Item>\n            </Descriptions>\n          </Box>\n        )}\n\n        {delivery?.status === deliveryStatuses.PENDING && (\n          <Box>\n            <Formik\n              initialValues={formDetails.defaultValues}\n              validationSchema={formDetails.schema}\n              onSubmit={async (values) => {\n                setIsLoading(true);\n\n                try {\n                  await DeliveriesService.edit({\n                    id: params.deliveryId,\n                    body: {\n                      status: deliveryStatuses.DELIVERED,\n                      payment_status: values.paymentStatus,\n                      prepared_by: values.preparedBy,\n                      checked_by: values.checkedBy,\n                      pulled_out_by: values.pulledOutBy,\n                      delivered_by: values.deliveredBy,\n                    },\n                  });\n\n                  refetchDelivery();\n                } catch (e) {\n                  message.error(GENERIC_ERROR_MESSAGE);\n                } finally {\n                  setIsLoading(false);\n                }\n              }}\n            >\n              {({ values, setFieldValue }) => (\n                <Form>\n                  <Row gutter={[24, 24]}>\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Prepared By</Typography.Text>\n                      <Input\n                        value={values.name}\n                        onChange={(e) => {\n                          setFieldValue('preparedBy', e.target.value);\n                        }}\n                      />\n                      <FormError name=\"preparedBy\" />\n                    </Col>\n\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Checked By</Typography.Text>\n                      <Input\n                        value={values.name}\n                        onChange={(e) => {\n                          setFieldValue('checkedBy', e.target.value);\n                        }}\n                      />\n                      <FormError name=\"checkedBy\" />\n                    </Col>\n\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Pulled Out</Typography.Text>\n                      <Input\n                        value={values.name}\n                        onChange={(e) => {\n                          setFieldValue('pulledOutBy', e.target.value);\n                        }}\n                      />\n                      <FormError name=\"pulledOutBy\" />\n                    </Col>\n\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Delivered By</Typography.Text>\n                      <Input\n                        value={values.name}\n                        onChange={(e) => {\n                          setFieldValue('deliveredBy', e.target.value);\n                        }}\n                      />\n                      <FormError name=\"deliveredBy\" />\n                    </Col>\n\n                    <Col sm={12} xs={24}>\n                      <Typography.Text strong>Payment Status</Typography.Text>\n                      <Select\n                        style={{ width: '100%' }}\n                        value={values.payment_status}\n                        allowClear\n                        onChange={(value) => {\n                          setFieldValue('paymentStatus', value);\n                        }}\n                      >\n                        <Select.Option value={paymentStatuses.UNPAID}>\n                          Unpaid\n                        </Select.Option>\n                        <Select.Option value={paymentStatuses.PAID}>\n                          Paid\n                        </Select.Option>\n                      </Select>\n                      <FormError name=\"paymentStatus\" />\n                    </Col>\n                  </Row>\n\n                  <Row className=\"ViewDelivery_setAsDelivered\" justify=\"end\">\n                    <Col>\n                      <Button htmlType=\"submit\" size=\"large\" type=\"primary\">\n                        Set As Delivered\n                      </Button>\n                    </Col>\n                  </Row>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n        )}\n      </Spin>\n\n      <div\n        dangerouslySetInnerHTML={{\n          __html: html,\n        }}\n      />\n    </Content>\n  );\n};\n\nexport default ViewDelivery;\n","import { formatDateTime, formatInPeso } from 'globals/functions';\nimport { upperFirst, upperCase } from 'lodash';\nimport moment from 'moment';\n\nexport const printOrderSlip = (preorder, unitTypes) => {\n  const products = preorder.preorder_products.map((preorderProduct) => {\n    const unitTypeName = unitTypes.find(\n      ({ id }) => id === preorderProduct.unit_type_id\n    ).name;\n\n    return {\n      name: `${preorderProduct.product_name} (${unitTypeName})`,\n      quantity: preorderProduct.quantity,\n    };\n  });\n\n  const data = `\n\t\t<div style=\"width: 430pt; font-family: Verdana, Geneva, Tahoma, sans-serif; font-size: 10pt; line-height: 100%\">\n\t\t\t<div style=\"text-align: center;\">\n\t\t\t\t\t<div style=\"font-size: 15pt;\">Marigold Store</div>\n\t\t\t\t\t<div>[ORDER SLIP]</div>\n\t\t\t</div>\n\n\t\t\t<br />\n\n\t\t\t<table style=\"width: 100%;\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Order ID:</td>\n\t\t\t\t\t<td>${preorder.id}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Created By:</td>\n\t\t\t\t\t<td>${preorder?.user?.first_name} ${preorder?.user?.last_name}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Delivery Type:</td>\n\t\t\t\t\t<td>${upperFirst(preorder?.delivery_type)}</td>\n\t\t\t\t</tr>\n                <tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Datetime Created:</td>\n\t\t\t\t\t<td>${formatDateTime(preorder?.datetime_created)}</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t<br />\n\n            <table style=\"width: 100%;\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td style=\"width: 200pt; font-weight: bold;\">Supplier Name:</td>\n\t\t\t\t\t<td>${preorder?.supplier?.name}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n                    <td style=\"width: 200pt; font-weight: bold;\">Supplier Phone:</td>\n                    <td>${preorder?.supplier?.phone || ''}</td>\n\t\t\t\t<tr>\n\t\t\t\t<tr>\n                    <td style=\"width: 200pt; font-weight: bold;\">Supplier Telephone:</td>\n                    <td>${preorder?.supplier?.landline || ''}</td>\n\t\t\t\t<tr>\n                <tr>\n                    <td style=\"width: 200pt; font-weight: bold;\">Supplier Address:</td>\n                    <td>${preorder?.supplier?.address}</td>\n\t\t\t\t<tr>\n                <tr>\n                    <td style=\"width: 200pt; font-weight: bold;\">Supplier Description:</td>\n                    <td>${preorder?.supplier?.description}</td>\n\t\t\t\t<tr>\n\t\t\t</table>\n\n\t\t\t<br />\n\n\t\t\t<table style=\"width: 100%;\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th style=\"text-align: left\">Name</th>\n\t\t\t\t\t\t<th style=\"text-align: center\">Quantity</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>  \n\t\t\t\t<tbody>\n\t\t\t\t\t${products\n            .map(\n              (product) => `\t\n                        <tr>\n                            <td style=\"width: 200pt;\">${product.name}</td>\n                            <td style=\"text-align: center\">${product.quantity}</td>\n                        </tr>`\n            )\n            .join('')}\n\t\t\t\t</tbody>\n\t\t\t</table>\t\t\t\n\t\t</div>\n\t`;\n\n  return data;\n};\n\nexport const printDeliverySlip = (delivery) => {\n  const maxProductsInPage = 42;\n  const productsInPage = (delivery.delivery_products.length + 1) * 2; // +1 for total row\n  const isDifferentPage = productsInPage > maxProductsInPage;\n\n  let total = 0;\n  const productsHtml = [\n    ...delivery.delivery_products.map((deliveryProduct) => {\n      const subtotal =\n        Number(deliveryProduct.quantity) * Number(deliveryProduct.price);\n      total += subtotal;\n\n      return `\n    <tr>\n      <td>${deliveryProduct.quantity}</td>\n      <td>${upperCase(deliveryProduct.unit_type.name)}</td>\n      <td>${upperCase(deliveryProduct.product.name)}</td>\n      <td>${formatInPeso(deliveryProduct.price, 'P')}</td>\n      <td>${formatInPeso(subtotal, 'P')}</td>\n    </tr>\n    `;\n    }),\n    `<tr>\n      <td></td>\n      <td></td>\n      <td><b>TOTAL: </b></td>\n      <td></td>\n      <td>${formatInPeso(total, 'P')}</td>\n    </tr>\n    `,\n  ].join('');\n\n  const generateHtml = () => `\n       <div class=\"header\">\n        <div class=\"header-text font-weight-bold\">DELIVERY RECEIPT - #${\n          delivery.id\n        }</div>\n        <div>\n          <strong>ORDERED BY:</strong>\n        </div>\n        <div>\n          <span class=\"text-center font-weight-bold\">\n            ${delivery.customer.name}\n          </span>\n        </div>\n        <div>\n          <strong>DATE: </strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n            ${moment(delivery.datetime_created).format('MMM DD, YYYY')}\n          </span>\n        </div>\n        <div>\n          <strong>ADDRESS:</strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n            ${delivery.customer.address}\n          </span>\n        </div>\n        <div>\n          <strong>RECEIVED BY:</strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n            ${delivery.user.first_name} ${delivery.user.last_name}\n          </span>\n        </div>\n        <div>\n          <strong>TIME:</strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n          ${moment(delivery.datetime_created).format('hh:mm A')}\n          </span>\n        </div>\n        <div>\n          <strong>CONTACT NO:</strong>\n        </div>\n        <div>\n          <span class=\"text-center\">\n            ${delivery.customer.phone || ''} ${delivery.customer.landline || ''}\n          </span>\n        </div>\n      </div>\n  \n      <div class=\"products\">\n        <table>\n          <tr>\n            <th colspan=\"2\">QUANTITY</th>\n            <th>ARTICLES</th>\n            <th>UNIT PRICE</th>\n            <th>AMOUNT</th>\n          </tr>\n          ${productsHtml}\n        </table>\n      </div>\n  \n      <div class=\"footer\">\n        <div>\n          <div>Receive the above goods in good order and conditions.</div>\n          <div class=\"signature\"></div>\n          <div class=\"signature-label\">Customer's Complete Name & Signature</div>\n        </div>\n  \n        <div class=\"users\">\n          <div>\n            <strong>PREPARED BY:</strong>\n          </div>\n          <div>\n            <span></span>\n          </div>\n          <div>\n            <strong>CHECKED BY:</strong>\n          </div>\n          <div>\n            <span></span>\n          </div>\n          <div>\n            <strong>PULLED-OUT BY:</strong>\n          </div>\n          <div>\n            <span></span>\n          </div>\n          <div>\n            <strong>DELIVERED BY:</strong>\n          </div>\n          <div>\n            <span></span>\n          </div>\n        </div>\n  \n        <div class=\"disclaimer\">\n          NOTE: This order slip at the same time serves as the temporary delivery\n          receipt. Our official invoice will be issued upon return of the receipt\n          and fully signed by the customer.\n        </div>\n      </div>\n  \n      <div class=\"note\">\n        <span>BLACK = CUSTOMER'S COPY</span>\n        <span>BLUE = MARIGOLD'S COPY</span>\n      </div>`;\n\n  const data = `\n  <html lang=\"en\">\n    <head>\n      <style>\n        * {\n          font-size: 11px;\n        }\n  \n        .header, .products, .footer, .note {\n          width: 795px;\n        }\n  \n        .header {\n          display: grid;\n          grid-template-columns: repeat(4, 1fr);\n          border: 1px solid black;\n        }\n  \n        .header-text {\n          grid-column: 1 / span 4;\n          text-align: center;\n        }\n  \n        .header > div {\n          padding: 1px;\n          border-top: 1px solid black;\n        }\n  \n        .products table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n  \n        .products table th,\n        .products table td {\n          border: 1px solid black;\n          text-align: center;\n        }\n  \n        .footer {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n        }\n  \n        .footer > div {\n          padding: 2.5px;\n          border: 1px solid black;\n        }\n  \n        .footer .signature {\n          width: 80%;\n          border-bottom: 1px solid black;\n          margin: 15px auto 0;\n        }\n  \n        .footer .signature-label {\n          text-align: center;\n        }\n  \n        .footer .users {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n        }\n  \n        .footer .users span {\n          width: 80%;\n          height: 100%;\n          border-bottom: 1px solid black;\n          margin: auto 0;\n          display: block;\n        }\n  \n        .footer .disclaimer {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          text-align: center;\n          padding: 10px;\n          font-size: 10px;\n        }\n  \n        .note {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n  \n        .text-center {\n          text-align: center;\n        }\n  \n        .font-weight-bold {\n          font-weight: bold;\n        }\n      </style>\n    </head>\n  \n    <body>\n      <div style=\"height: ${isDifferentPage ? '1300px' : 'auto'};\">\n        ${generateHtml()}\n      </div>\n\n      </br></br>\n\n      <div style=\"color: #00A2FF !important;\">\n        ${generateHtml()}\n      </div>\n    </body>\n  </html>\n  `;\n\n  return data;\n};\n","import { Table } from 'antd';\nimport { BranchProductStatus } from 'components';\nimport { useCustomParams, useNotifications } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport './styles.scss';\n\nconst columns = [\n  { title: 'Name', dataIndex: 'name' },\n  { title: 'Status', dataIndex: 'status' },\n];\n\nconst BranchProducts = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const {\n    isFetching: isNotificationsFetching,\n    data: { total, notifications },\n  } = useNotifications({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      branchId: searchParams.get('branchId'),\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const data = notifications.map((notification) => ({\n      key: notification.id,\n      name: `${notification.product.name} (${notification.unit_type.name})`,\n      status: <BranchProductStatus status={notification.status} />,\n    }));\n\n    setDataSource(data);\n  }, [notifications]);\n\n  return (\n    <Table\n      columns={columns}\n      dataSource={dataSource}\n      loading={isNotificationsFetching}\n      pagination={{\n        current: searchParams.get('page') || 1,\n        total,\n        pageSize: searchParams.get('pageSize') || 10,\n        onChange: (page, newPageSize) => {\n          setSearchParams({\n            page,\n            pageSize: newPageSize,\n          });\n        },\n        disabled: notifications.length === 0,\n        position: ['bottomCenter'],\n        pageSizeOptions: ['10', '20', '50'],\n      }}\n      rowKey=\"key\"\n      scroll={{ x: 800 }}\n    />\n  );\n};\n\nexport default BranchProducts;\n","import { Spin, Tabs } from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { useBranches, useCustomParams } from 'hooks';\nimport React, { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport BranchProducts from './BranchProducts';\n\nconst Notifications = () => {\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n  const { isFetching: isFetchingBranches, data: branches } = useBranches();\n\n  // METHODS\n  useEffect(() => {\n    if (!searchParams.has('branchId') && branches.length > 0) {\n      setSearchParams({ branchId: branches?.[0]?.id });\n    }\n  }, [branches, searchParams]);\n\n  const onTabClick = (branchId) => {\n    setSearchParams({ branchId });\n  };\n\n  return (\n    <Content title=\"Notifications\">\n      <Box>\n        <Spin spinning={isFetchingBranches}>\n          <Tabs\n            activeKey={searchParams.get('branchId')}\n            type=\"card\"\n            onTabClick={onTabClick}\n          >\n            {branches.map(({ name, id }) => (\n              <Tabs.TabPane key={id} tab={name}>\n                <BranchProducts />\n              </Tabs.TabPane>\n            ))}\n          </Tabs>\n        </Spin>\n      </Box>\n    </Content>\n  );\n};\n\nexport default Notifications;\n","import { PlusOutlined } from '@ant-design/icons';\nimport { Button, Col, Row, Table } from 'antd';\nimport { Content, PreorderStatus } from 'components';\nimport { Box } from 'components/elements';\nimport { formatDateTime } from 'globals/functions';\nimport { useCustomParams, usePreorders } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { useSearchParams } from 'react-router-dom';\nimport './styles.scss';\n\nconst columns = [\n  { title: 'ID', dataIndex: 'id' },\n  { title: 'Date Created', dataIndex: 'date_created' },\n  { title: 'Date Fulfilled', dataIndex: 'date_fulfilled' },\n  { title: 'Status', dataIndex: 'status', align: 'center' },\n  { title: 'Actions', dataIndex: 'actions' },\n];\n\nconst Preorders = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const { setSearchParams } = useCustomParams();\n\n  const {\n    isFetching: isPreordersFetching,\n    data: { total, preorders },\n  } = usePreorders({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const data = preorders.map((preorder) => ({\n      key: preorder.id,\n      id: preorder.id,\n      date_created: formatDateTime(preorder.datetime_created),\n      date_fulfilled: formatDateTime(preorder.datetime_fulfilled),\n      status: <PreorderStatus status={preorder.status} />,\n      actions: (\n        <Button\n          type=\"link\"\n          onClick={() => {\n            navigate(`/preorders/${preorder.id}`);\n          }}\n        >\n          View\n        </Button>\n      ),\n    }));\n\n    setDataSource(data);\n  }, [preorders]);\n\n  return (\n    <Content className=\"Preorders\" title=\"Preorders\">\n      <Box>\n        <Row className=\"Preorders_createRow\" justify=\"end\">\n          <Col>\n            <Button\n              size=\"large\"\n              type=\"primary\"\n              onClick={() => {\n                navigate('create');\n              }}\n            >\n              <PlusOutlined /> Create Preorder\n            </Button>\n          </Col>\n        </Row>\n\n        <Table\n          columns={columns}\n          dataSource={dataSource}\n          loading={isPreordersFetching}\n          pagination={{\n            current: searchParams.get('page') || 1,\n            total,\n            pageSize: searchParams.get('pageSize') || 10,\n            onChange: (page, newPageSize) => {\n              setSearchParams({\n                page,\n                pageSize: newPageSize,\n              });\n            },\n            disabled: preorders.length === 0,\n            position: ['bottomCenter'],\n            pageSizeOptions: ['10', '20', '50'],\n          }}\n          rowKey=\"key\"\n          scroll={{ x: 800 }}\n        />\n      </Box>\n    </Content>\n  );\n};\n\nexport default Preorders;\n","import {\n  Alert,\n  Button,\n  Checkbox,\n  Col,\n  Divider,\n  Input,\n  message,\n  Modal,\n  Row,\n  Select,\n  Spin,\n  Table,\n  Tabs,\n  Typography,\n} from 'antd';\nimport { BranchProductStatus, Content, FormError } from 'components';\nimport { Box } from 'components/elements';\nimport { Form, Formik } from 'formik';\nimport {\n  clientTypes,\n  deliveryTypes,\n  GENERIC_ERROR_MESSAGE,\n} from 'globals/variables';\nimport {\n  useBranches,\n  useBranchProducts,\n  useClients,\n  useUnitTypes,\n} from 'hooks';\nimport { flatten } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { PreordersService } from 'services';\nimport * as Yup from 'yup';\nimport '../styles.scss';\n\nconst tabs = {\n  ALL: 'ALL',\n  SELECTED: 'SELECTED',\n};\n\nconst CreatePreorder = () => {\n  // STATES\n  const [isLoading, setLoading] = useState(false);\n\n  // CUSTOM HOOKS\n  const navigate = useNavigate();\n  const { isFetching: isBranchesFetching, data: branches } = useBranches();\n  const { isFetching: isSuppliersFetching, data: suppliers } = useClients({\n    params: { type: clientTypes.SUPPLIER },\n  });\n\n  const formDetails = {\n    defaultValues: {\n      branchId: null,\n      deliveryType: null,\n      supplierName: null,\n      supplierAddress: null,\n      supplierLandline: null,\n      supplierPhone: null,\n      supplierDescription: null,\n      preorderProducts: [],\n    },\n    schema: Yup.object().shape({\n      branchId: Yup.string().required().label('Branch').nullable(),\n      deliveryType: Yup.string().required().label('Delivery Type').nullable(),\n      supplierName: Yup.string().required().label('Supplier Name').nullable(),\n      supplierAddress: Yup.string()\n        .required()\n        .label('Supplier Address')\n        .nullable(),\n      supplierLandline: Yup.string().label('Supplier Telephone').nullable(),\n      supplierPhone: Yup.string().label('Supplier Phone').nullable(),\n      supplierDescription: Yup.string()\n        .label('Supplier Description')\n        .nullable(),\n      preorderProducts: Yup.array().of(\n        Yup.object().shape({\n          productId: Yup.number().required(),\n          productName: Yup.string().required(),\n          productStatus: Yup.string().required(),\n          productPrices: Yup.array().of(\n            Yup.object().shape({\n              branchProductId: Yup.number().required().label('Product'),\n              unitTypeId: Yup.number().required(),\n              quantity: Yup.number()\n                .required()\n                .min(0, 'Must not be negative')\n                .label('Quantity'),\n            })\n          ),\n        })\n      ),\n    }),\n  };\n\n  // METHODS\n  const handleSuccess = (preorderId) => {\n    Modal.success({\n      title: 'Success',\n      content: `Preorder is successfully created. Press the button below to go back to the preorders screen.`,\n      keyboard: false,\n      okText: 'View Preorder',\n      onOk: () => {\n        navigate(`/preorders/${preorderId}`);\n      },\n    });\n  };\n\n  return (\n    <Content title=\"Create Preorder\">\n      <Spin spinning={isBranchesFetching || isSuppliersFetching}>\n        <Formik\n          initialValues={formDetails.defaultValues}\n          validationSchema={formDetails.schema}\n          onSubmit={async (values, { setFieldError }) => {\n            setLoading(true);\n\n            if (values.preorderProducts.length > 0) {\n              try {\n                const supplier = suppliers.find(\n                  ({ name }) => name === values.supplierName\n                );\n\n                const preorderProducts = flatten(\n                  values.preorderProducts.map((preorderProduct) =>\n                    preorderProduct.productPrices\n                      .filter((productPrice) => productPrice.quantity > 0)\n                      .map((productPrice) => ({\n                        branch_product_id: productPrice.branchProductId,\n                        quantity: productPrice.quantity,\n                      }))\n                  )\n                );\n\n                if (preorderProducts.length > 0) {\n                  const { data } = await PreordersService.create({\n                    body: {\n                      branch_id: values.branchId,\n                      delivery_type: values.deliveryType,\n                      supplier: {\n                        id: supplier?.id,\n                        name: values.supplierName,\n                        description: values.supplierDescription,\n                        address: values.supplierAddress,\n                        landline: values.supplierLandline,\n                        phone: values.supplierPhone,\n                      },\n                      preorder_products: preorderProducts,\n                    },\n                  });\n\n                  handleSuccess(data.id);\n                } else {\n                  message.error('Please add quantity to products first');\n                }\n              } catch (e) {\n                console.error(e);\n                setFieldError('response', GENERIC_ERROR_MESSAGE);\n              }\n            } else {\n              message.error('Please add a product first');\n            }\n\n            setLoading(false);\n          }}\n        >\n          {({ values, setFieldValue }) => (\n            <Form style={{ width: '100%' }}>\n              <Spin spinning={isLoading}>\n                <PreorderDetails\n                  branches={branches}\n                  suppliers={suppliers}\n                  values={values}\n                  onSetFieldValue={setFieldValue}\n                />\n\n                {values.branchId !== null && (\n                  <Box>\n                    <Tabs defaultActiveKey={tabs.ALL} size=\"large\" type=\"card\">\n                      <Tabs.TabPane key={tabs.ALL} tab=\"All\">\n                        <ProductsAll\n                          values={values}\n                          onSetFieldValue={setFieldValue}\n                        />\n                      </Tabs.TabPane>\n                      <Tabs.TabPane\n                        key={tabs.SELECTED}\n                        tab={`Selected Products (${values.preorderProducts.length})`}\n                      >\n                        <ProductsSelected\n                          values={values}\n                          onSetFieldValue={setFieldValue}\n                        />\n                      </Tabs.TabPane>\n                    </Tabs>\n                  </Box>\n                )}\n\n                <Box>\n                  <Row justify=\"end\">\n                    <Col>\n                      <Button htmlType=\"submit\" size=\"large\" type=\"primary\">\n                        Submit\n                      </Button>\n                    </Col>\n                  </Row>\n                </Box>\n              </Spin>\n            </Form>\n          )}\n        </Formik>\n      </Spin>\n    </Content>\n  );\n};\n\nconst PreorderDetails = ({ branches, suppliers, values, onSetFieldValue }) => {\n  const [isEditingDescription, setIsEditingDescription] = useState(false);\n\n  return (\n    <Box>\n      <Row gutter={[15, 15]}>\n        <Col sm={12} xs={24}>\n          <Typography.Text strong>Branch Destination</Typography.Text>\n          <Select\n            style={{ width: '100%' }}\n            value={values.branchId}\n            onChange={(value) => {\n              onSetFieldValue('branchId', value);\n            }}\n          >\n            {branches.map((branch) => (\n              <Select.Option key={branch.id} value={branch.id}>\n                {branch.name}\n              </Select.Option>\n            ))}\n          </Select>\n          <FormError name=\"branchId\" />\n        </Col>\n\n        <Col sm={12} xs={24}>\n          <Typography.Text strong>Delivery Type</Typography.Text>\n          <Select\n            style={{ width: '100%' }}\n            value={values.deliveryType}\n            onChange={(value) => {\n              onSetFieldValue('deliveryType', value);\n            }}\n          >\n            <Select.Option\n              key={deliveryTypes.DELIVERY}\n              value={deliveryTypes.DELIVERY}\n            >\n              Delivery\n            </Select.Option>\n            <Select.Option\n              key={deliveryTypes.PICKUP}\n              value={deliveryTypes.PICKUP}\n            >\n              Pickup\n            </Select.Option>\n          </Select>\n          <FormError name=\"deliveryType\" />\n        </Col>\n\n        <Col span={24}>\n          <Divider>Supplier</Divider>\n        </Col>\n\n        <Col md={12} xs={24}>\n          <Typography.Text strong>Supplier's Name</Typography.Text>\n          <Select\n            mode=\"tags\"\n            style={{ width: '100%' }}\n            value={values.supplierName !== null ? [values.supplierName] : []}\n            onDeselect={() => {\n              onSetFieldValue('supplierName', null);\n              onSetFieldValue('supplierAddress', null);\n              onSetFieldValue('supplierLandline', null);\n              onSetFieldValue('supplierPhone', null);\n              onSetFieldValue('supplierDescription', null);\n            }}\n            onSelect={(value) => {\n              const supplierName = value;\n              onSetFieldValue('supplierName', supplierName);\n\n              const supplier = suppliers.find(\n                ({ name }) => name === supplierName\n              );\n              onSetFieldValue('supplierAddress', supplier?.address || '');\n              onSetFieldValue('supplierLandline', supplier?.landline || '');\n              onSetFieldValue('supplierPhone', supplier?.phone || '');\n              onSetFieldValue(\n                'supplierDescription',\n                supplier?.description || ''\n              );\n            }}\n          >\n            {suppliers.map((supplier) => (\n              <Select.Option key={supplier.id} value={supplier.name}>\n                {supplier.name}\n              </Select.Option>\n            ))}\n          </Select>\n          <FormError name=\"supplierName\" />\n        </Col>\n\n        <Col md={6} sm={24}>\n          <Typography.Text strong>Supplier's Phone Number</Typography.Text>\n          <Input\n            value={values.supplierPhone}\n            onChange={(e) => {\n              onSetFieldValue('supplierPhone', e.target.value);\n            }}\n          />\n          <FormError name=\"supplierPhone\" />\n        </Col>\n\n        <Col md={6} sm={24}>\n          <Typography.Text strong>Supplier's Telephone Number</Typography.Text>\n          <Input\n            value={values.supplierLandline}\n            onChange={(e) => {\n              onSetFieldValue('supplierLandline', e.target.value);\n            }}\n          />\n          <FormError name=\"supplierLandline\" />\n        </Col>\n\n        <Col span={24}>\n          <Typography.Text strong>Supplier's Address</Typography.Text>\n          <Input\n            value={values.supplierAddress}\n            onChange={(e) => {\n              onSetFieldValue('supplierAddress', e.target.value);\n            }}\n          />\n          <FormError name=\"supplierAddress\" />\n        </Col>\n\n        <Col span={24}>\n          <Typography.Text strong>Supplier's Description</Typography.Text>\n\n          {isEditingDescription ? (\n            <Input.Group compact>\n              <Input\n                style={{ width: 'calc(100% - 70px)' }}\n                value={values.supplierDescription}\n                onChange={(e) => {\n                  onSetFieldValue('supplierDescription', e.target.value);\n                }}\n              />\n              <Button\n                type=\"primary\"\n                onClick={() => {\n                  setIsEditingDescription(false);\n                }}\n              >\n                Save\n              </Button>\n            </Input.Group>\n          ) : (\n            <Alert\n              action={\n                <Button\n                  size=\"small\"\n                  type=\"link\"\n                  onClick={() => {\n                    setIsEditingDescription(true);\n                  }}\n                >\n                  Edit\n                </Button>\n              }\n              description={values.supplierDescription}\n              type=\"info\"\n              showIcon\n            />\n          )}\n\n          <FormError name=\"supplierDescription\" />\n        </Col>\n      </Row>\n    </Box>\n  );\n};\n\nconst ProductsAll = ({ values, onSetFieldValue }) => {\n  // STATES\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [search, setSearch] = useState('');\n  const [status, setStatus] = useState('');\n  const [dataSource, setDataSource] = useState([]);\n\n  const columns = [\n    { title: 'Name', dataIndex: 'name' },\n    { title: 'Status', dataIndex: 'status' },\n  ];\n\n  // CUSTOM HOOKS\n  const {\n    isFetching: isBranchProductsFetching,\n    data: { total, products },\n  } = useBranchProducts({\n    params: {\n      page,\n      pageSize,\n      branchId: values.branchId,\n      search,\n      status,\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    setDataSource(\n      products.map((product) => {\n        const isAlreadyAdded = values.preorderProducts.find(\n          (preorderProduct) => preorderProduct.productId === product.id\n        );\n\n        return {\n          key: product.id,\n          name: (\n            <Checkbox\n              checked={isAlreadyAdded}\n              onChange={(e) => {\n                const isChecked = e.target.checked;\n                let newPreorderProducts = [];\n\n                if (isChecked) {\n                  newPreorderProducts = [\n                    ...values.preorderProducts,\n                    {\n                      productId: product.id,\n                      productName: product.name,\n                      productStatus: product.status,\n                      productPrices: product.product_prices.map(\n                        (productPrice) => ({\n                          branchProductId: productPrice.branch_product_id,\n                          unitTypeId: productPrice.unit_type_id,\n                          quantity: 0,\n                        })\n                      ),\n                    },\n                  ];\n                } else {\n                  newPreorderProducts = values.preorderProducts.filter(\n                    (preorderProduct) =>\n                      preorderProduct.productId !== product.id\n                  );\n                }\n\n                onSetFieldValue('preorderProducts', newPreorderProducts);\n              }}\n            >\n              {product.name}\n            </Checkbox>\n          ),\n          status: <BranchProductStatus status={product.status} />,\n        };\n      })\n    );\n  }, [products, values]);\n\n  useEffect(() => {\n    setDataSource([]);\n    onSetFieldValue('preorderProducts', []);\n  }, [values.branchId]);\n\n  return (\n    <Table\n      columns={columns}\n      dataSource={dataSource}\n      loading={isBranchProductsFetching}\n      pagination={{\n        current: page,\n        total,\n        pageSize,\n        onChange: (newPage, newPageSize) => {\n          setPage(newPage);\n          setPageSize(newPageSize);\n        },\n        disabled: isBranchProductsFetching,\n        position: ['bottomCenter'],\n        pageSizeOptions: ['10', '20', '50'],\n      }}\n      rowKey=\"key\"\n    />\n  );\n};\n\nconst ProductsSelected = ({ values, onSetFieldValue }) => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n\n  // METHODS\n  useEffect(() => {\n    setDataSource(\n      values.preorderProducts.map((preorderProduct, index) => {\n        const data = {\n          key: preorderProduct.productId,\n          name: (\n            <Checkbox\n              checked\n              onChange={() => {\n                onSetFieldValue(\n                  'preorderProducts',\n                  values.preorderProducts.filter(\n                    ({ productId }) => productId !== preorderProduct.productId\n                  )\n                );\n              }}\n            >\n              {preorderProduct.productName}\n            </Checkbox>\n          ),\n          status: (\n            <BranchProductStatus status={preorderProduct.productStatus} />\n          ),\n        };\n\n        preorderProduct.productPrices.forEach(\n          (productPrice, productPriceIndex) => {\n            data[String(productPrice.unitTypeId)] = (\n              <>\n                <Input\n                  style={{ textAlign: 'center' }}\n                  type=\"number\"\n                  onChange={(e) => {\n                    onSetFieldValue(\n                      `preorderProducts.${index}.productPrices.${productPriceIndex}.quantity`,\n                      Number(e.target.value)\n                    );\n                  }}\n                />\n                <FormError\n                  name={`preorderProducts.${index}.productPrices.${productPriceIndex}.quantity`}\n                />\n              </>\n            );\n          }\n        );\n\n        return data;\n      })\n    );\n  }, [values, unitTypes]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId = flatten(\n      values?.preorderProducts?.map((preorderProduct) =>\n        preorderProduct.productPrices.map(\n          (productPrice) => productPrice.unitTypeId\n        )\n      )\n    );\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n        align: 'center',\n      })),\n      { title: 'Status', dataIndex: 'status' },\n    ];\n  }, [values, unitTypes]);\n\n  return (\n    <Table\n      columns={getColumns()}\n      dataSource={dataSource}\n      loading={isUnitTypesFetching}\n      pagination={false}\n      rowKey=\"key\"\n    />\n  );\n};\n\nPreorderDetails.propTypes = {\n  branches: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  suppliers: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      address: PropTypes.string,\n      description: PropTypes.string,\n      landline: PropTypes.string,\n      name: PropTypes.string,\n      phone: PropTypes.string,\n    })\n  ).isRequired,\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    deliveryType: PropTypes.string,\n    supplierName: PropTypes.string,\n    supplierAddress: PropTypes.string,\n    supplierLandline: PropTypes.string,\n    supplierPhone: PropTypes.string,\n    supplierDescription: PropTypes.string,\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nProductsAll.propTypes = {\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    preorderProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        productId: PropTypes.number,\n        productName: PropTypes.string,\n        productStatus: PropTypes.string,\n        productPrices: PropTypes.arrayOf(\n          PropTypes.shape({\n            branchProductId: PropTypes.number,\n            unitTypeId: PropTypes.number,\n            quantity: PropTypes.number,\n          })\n        ),\n      })\n    ),\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nProductsSelected.propTypes = {\n  values: PropTypes.shape({\n    branchId: PropTypes.number,\n    preorderProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        productId: PropTypes.number,\n        productName: PropTypes.string,\n        productStatus: PropTypes.string,\n        productPrices: PropTypes.arrayOf(\n          PropTypes.shape({\n            branchProductId: PropTypes.number,\n            unitTypeId: PropTypes.number,\n            quantity: PropTypes.number,\n          })\n        ),\n      })\n    ),\n  }),\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nexport default CreatePreorder;\n","import { Button, Input, message, Modal, Table } from 'antd';\nimport { FormError } from 'components';\nimport { Form, Formik } from 'formik';\nimport { GENERIC_ERROR_MESSAGE } from 'globals/variables';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { PreorderTransactionsService } from 'services';\nimport * as Yup from 'yup';\n\nexport const CreateTransactionModal = ({\n  preorder,\n  preorderProducts,\n  columns,\n  onSuccess,\n  onClose,\n}) => {\n  // STATES\n  const [isLoading, setLoading] = useState(false);\n  const [dataSource, setDataSource] = useState([]);\n  const [formValues, setFormValues] = useState([]);\n\n  const refFormik = useRef();\n\n  // METHODS\n  useEffect(() => {\n    const initialFormValues = [];\n    let count = 0;\n\n    setDataSource(\n      Object.keys(preorderProducts).map((key) => {\n        const preorderProductData = {\n          key,\n          name: key,\n        };\n\n        preorderProducts[key].forEach((preorderProduct) => {\n          const unitTypeId =\n            preorderProduct.branch_product.product_price.unit_type;\n\n          const fieldQuantityKey = `${count}.quantity`;\n          preorderProductData[String(unitTypeId)] = (\n            <>\n              <Input\n                style={{ textAlign: 'center' }}\n                type=\"number\"\n                onChange={(e) => {\n                  refFormik.current.setFieldValue(\n                    fieldQuantityKey,\n                    Number(e.target.value)\n                  );\n                }}\n              />\n              <FormError name={fieldQuantityKey} />\n            </>\n          );\n\n          initialFormValues.push({\n            preorderProductId: preorderProduct.id,\n            quantity: '',\n          });\n\n          count++;\n        });\n\n        return preorderProductData;\n      })\n    );\n\n    setFormValues(initialFormValues);\n  }, [preorderProducts]);\n\n  const getFormDetails = useCallback(\n    () => ({\n      defaultValues: formValues,\n      schema: Yup.array().of(\n        Yup.object().shape({\n          preorderProductId: Yup.number().required(),\n          quantity: Yup.number().required('Required'),\n        })\n      ),\n    }),\n    [formValues]\n  );\n\n  return (\n    <Modal\n      footer={[\n        <Button\n          key=\"btnCancel\"\n          disabled={isLoading}\n          size=\"large\"\n          onClick={onClose}\n        >\n          Cancel\n        </Button>,\n        <Button\n          key=\"btnSubmit\"\n          loading={isLoading}\n          size=\"large\"\n          type=\"primary\"\n          onClick={() => {\n            refFormik.current.submitForm();\n          }}\n        >\n          Submit\n        </Button>,\n      ]}\n      title=\"[Create] Preorder Transaction\"\n      width={800}\n      centered\n      closable\n      visible\n      onCancel={onClose}\n    >\n      <Formik\n        initialValues={getFormDetails().defaultValues}\n        innerRef={refFormik}\n        validationSchema={getFormDetails().schema}\n        enableReinitialize\n        onSubmit={async (values) => {\n          setLoading(true);\n\n          try {\n            await PreorderTransactionsService.create({\n              body: {\n                preorder_id: preorder.id,\n                preorder_transaction_products: values.map(\n                  (preorderProduct) => ({\n                    preorder_product_id: preorderProduct.preorderProductId,\n                    quantity: preorderProduct.quantity,\n                  })\n                ),\n              },\n            });\n\n            onSuccess();\n            onClose();\n          } catch (e) {\n            message.error(GENERIC_ERROR_MESSAGE);\n          } finally {\n            setLoading(false);\n          }\n        }}\n      >\n        <Form>\n          <Table\n            columns={columns}\n            dataSource={dataSource}\n            loading={isLoading}\n            pagination={false}\n            rowKey=\"key\"\n            scroll={{ x: 600 }}\n          />\n        </Form>\n      </Formik>\n    </Modal>\n  );\n};\n\nCreateTransactionModal.propTypes = {\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string,\n      dataIndex: PropTypes.string,\n    })\n  ),\n  preorder: PropTypes.shape({\n    id: PropTypes.number,\n  }).isRequired,\n  preorderProducts: PropTypes.object,\n  onClose: PropTypes.func.isRequired,\n  onSuccess: PropTypes.func.isRequired,\n};\n","import { Button, Descriptions, Divider, Modal, Table } from 'antd';\nimport { formatDateTime } from 'globals/functions';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\n\nexport const ViewTransactionModal = ({\n  preorderTransaction,\n  unitTypes,\n  onClose,\n}) => {\n  // STATES\n  const [unitTypesId, setUnitTypesId] = useState([]);\n  const [dataSource, setDataSource] = useState([]);\n\n  // METHODS\n  useEffect(() => {\n    const data = {};\n\n    // Note: We need to group all preorder products by product so it\n    // will be easier to traverse them later on\n    preorderTransaction.preorder_transaction_products.forEach(\n      (preorderTransactionProduct) => {\n        const productName = preorderTransactionProduct.product_name;\n\n        if (data[productName] === undefined) {\n          data[productName] = [];\n        }\n\n        data[productName].push(preorderTransactionProduct);\n      }\n    );\n\n    // Note: Convert the object into array\n    const newUnitTypeIds = [];\n    setDataSource(\n      Object.keys(data).map((key) => {\n        const preorderTransactionProductData = { key, name: key };\n\n        data[key].forEach((preorderTransactionProduct) => {\n          const unitTypeId = preorderTransactionProduct.unit_type_id;\n          newUnitTypeIds.push(unitTypeId);\n\n          preorderTransactionProductData[String(unitTypeId)] = Number(\n            preorderTransactionProduct.quantity\n          );\n        });\n\n        return preorderTransactionProductData;\n      })\n    );\n\n    setUnitTypesId(newUnitTypeIds);\n  }, [preorderTransaction]);\n\n  const getColumns = useCallback(() => {\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n      })),\n    ];\n  }, [unitTypesId, unitTypes]);\n\n  return (\n    <Modal\n      footer={[\n        <Button key=\"btnCancel\" size=\"large\" onClick={onClose}>\n          Close\n        </Button>,\n      ]}\n      title=\"Preorder Transaction\"\n      width={800}\n      centered\n      closable\n      visible\n      onCancel={onClose}\n    >\n      <Descriptions\n        column={1}\n        labelStyle={{ fontWeight: 'bold' }}\n        size=\"small\"\n        bordered\n      >\n        <Descriptions.Item label=\"ID\">\n          {preorderTransaction.id}\n        </Descriptions.Item>\n        <Descriptions.Item label=\"Received By\">\n          {preorderTransaction.user.first_name}{' '}\n          {preorderTransaction.user.last_name}\n        </Descriptions.Item>\n\n        <Descriptions.Item label=\"Date Created\">\n          {formatDateTime(preorderTransaction.datetime_created)}\n        </Descriptions.Item>\n      </Descriptions>\n\n      <Divider />\n\n      <Table\n        columns={getColumns()}\n        dataSource={dataSource}\n        pagination={false}\n        rowKey=\"key\"\n        scroll={{ x: 600 }}\n      />\n    </Modal>\n  );\n};\n\nViewTransactionModal.propTypes = {\n  preorderTransaction: PropTypes.shape({\n    id: PropTypes.number,\n    datetime_created: PropTypes.string,\n    user: PropTypes.shape({\n      first_name: PropTypes.string,\n      last_name: PropTypes.string,\n    }),\n    preorder_transaction_products: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number,\n        product_name: PropTypes.string,\n        quantity: PropTypes.string,\n        unit_type_id: PropTypes.number,\n      })\n    ),\n    dataIndex: PropTypes.string,\n  }),\n  unitTypes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import { PlusOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Col,\n  Descriptions,\n  Divider,\n  message,\n  Row,\n  Spin,\n  Table,\n  Typography,\n} from 'antd';\nimport { Content, PreorderStatus } from 'components';\nimport { Box } from 'components/elements';\nimport { printOrderSlip } from 'configurePrinter';\nimport { formatDateTime } from 'globals/functions';\nimport {\n  EMPTY_CHARACTER,\n  GENERIC_ERROR_MESSAGE,\n  preorderStatuses,\n} from 'globals/variables';\nimport { usePreorder, useUnitTypes } from 'hooks';\nimport { jsPDF } from 'jspdf';\nimport { upperFirst } from 'lodash';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { PreordersService } from 'services';\nimport '../styles.scss';\nimport { CreateTransactionModal } from './CreateTransactionModal';\nimport { ViewTransactionModal } from './ViewTransactionModal';\n\nconst transactionColumns = [\n  {\n    title: 'ID',\n    dataIndex: 'id',\n  },\n  {\n    title: 'Date Created',\n    dataIndex: 'datetime_created',\n  },\n  {\n    title: 'Received By',\n    dataIndex: 'received_by',\n  },\n  {\n    title: 'Action',\n    dataIndex: 'actions',\n  },\n];\n\nconst ViewPreorder = () => {\n  // STATES\n  const [isLoading, setIsLoading] = useState(false);\n  const [isPrinting, setIsPrinting] = useState(false);\n  const [preorderProducts, setPreorderProducts] = useState([]);\n  const [preorderProductsObject, setPreorderProductsObject] = useState({});\n  const [unitTypesId, setUnitTypesId] = useState([]);\n  const [createTransactionModalVisible, setCreateTransactionModalVisible] =\n    useState(false);\n  const [transactionsDataSource, setTransactionsDataSource] = useState([]);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n\n  // CUSTOM HOOKS\n  const params = useParams();\n\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n  const {\n    isFetching: isPreorderFetching,\n    data: preorder,\n    refetch: refetchPreorder,\n  } = usePreorder({\n    id: params.preorderId,\n  });\n\n  // METHODS\n  useEffect(() => {\n    const data = {};\n\n    // Note: We need to group all preorder products by product so it\n    // will be easier to traverse them later on\n    preorder?.preorder_products.forEach((preorderProduct) => {\n      const productName =\n        preorderProduct.branch_product.product_price.product.name;\n\n      if (data[productName] === undefined) {\n        data[productName] = [];\n      }\n\n      data[productName].push(preorderProduct);\n    });\n\n    setPreorderProductsObject(data);\n\n    // Note: Convert the object into array\n    const newUnitTypeIds = [];\n    setPreorderProducts(\n      Object.keys(data).map((key) => {\n        const preorderProductData = {\n          key,\n          name: key,\n        };\n\n        data[key].forEach((preorderProduct) => {\n          const unitTypeId =\n            preorderProduct.branch_product.product_price.unit_type;\n\n          newUnitTypeIds.push(unitTypeId);\n\n          preorderProductData[String(unitTypeId)] = `\n          ${Number(preorderProduct.fulfilled_quantity)} / ${Number(\n            preorderProduct.quantity\n          )}`;\n        });\n\n        return preorderProductData;\n      })\n    );\n\n    setUnitTypesId(newUnitTypeIds);\n  }, [preorder]);\n\n  useEffect(() => {\n    if (preorder?.preorder_transactions) {\n      setTransactionsDataSource(\n        preorder.preorder_transactions.map((transaction) => ({\n          row: transaction.id,\n          id: transaction.id,\n          datetime_created: formatDateTime(transaction.datetime_created),\n          received_by: `${transaction.user.first_name} ${transaction.user.last_name}`,\n          actions: (\n            <Button\n              type=\"link\"\n              onClick={() => {\n                setSelectedTransaction(transaction);\n              }}\n            >\n              View\n            </Button>\n          ),\n        }))\n      );\n    }\n  }, [preorder]);\n\n  const getPreorderProductColumns = useCallback(() => {\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n        align: 'center',\n      })),\n    ];\n  }, [unitTypesId, unitTypes]);\n\n  const onUpdateStatus = (status) => {\n    setIsLoading(true);\n\n    PreordersService.edit({ id: params.preorderId, body: { status } })\n      .then(refetchPreorder)\n      .catch((e) => {\n        console.error(e);\n        message.error(GENERIC_ERROR_MESSAGE);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const onPrint = () => {\n    if (preorder) {\n      setIsPrinting(true);\n      // eslint-disable-next-line new-cap\n      const pdf = new jsPDF('p', 'pt', 'a4');\n\n      pdf.html(printOrderSlip(preorder, unitTypes), {\n        x: 10,\n        y: 10,\n        filename: `Preorder_${preorder.id}`,\n        callback: (instance) => {\n          window.open(instance.output('bloburl').toString());\n          setIsPrinting(false);\n        },\n      });\n    } else {\n      message.error(GENERIC_ERROR_MESSAGE);\n    }\n  };\n\n  return (\n    <Content className=\"ViewPreorder\" title=\"Preorder\">\n      <Spin spinning={isPreorderFetching || isUnitTypesFetching || isLoading}>\n        <Box>\n          <Row\n            className=\"ViewPreorder_setPreorderAsComplete\"\n            gutter={[25, 12]}\n            justify=\"space-between\"\n          >\n            <Col sm={12} xs={24}>\n              <Button\n                loading={isPrinting}\n                size=\"large\"\n                type=\"primary\"\n                ghost\n                onClick={onPrint}\n              >\n                Print Preorder\n              </Button>\n            </Col>\n            {preorder?.status === preorderStatuses.APPROVED &&\n              preorder?.preorder_transactions?.length > 0 && (\n                <Col sm={12} xs={24}>\n                  <Button\n                    className=\"ViewPreorder_setPreorderAsComplete_button\"\n                    size=\"large\"\n                    type=\"primary\"\n                    onClick={() => {\n                      onUpdateStatus(preorderStatuses.DELIVERED);\n                    }}\n                  >\n                    Set Preorder As Complete\n                  </Button>\n                </Col>\n              )}\n          </Row>\n\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            bordered\n          >\n            <Descriptions.Item label=\"ID\" span={2}>\n              {preorder?.id}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Branch\">\n              {preorder?.branch?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Delivery Type\">\n              {upperFirst(preorder?.delivery_type)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Created By\">\n              {preorder?.user?.first_name} {preorder?.user?.last_name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Datetime Created\">\n              {formatDateTime(preorder?.datetime_created)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Datetime Fulfilled\">\n              {formatDateTime(preorder?.datetime_fulfilled)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Status\">\n              <PreorderStatus status={preorder?.status} />\n            </Descriptions.Item>\n          </Descriptions>\n\n          <Divider />\n\n          <Descriptions\n            column={{ xs: 1, sm: 1, md: 2 }}\n            labelStyle={{ fontWeight: 'bold' }}\n            size=\"small\"\n            title=\"Supplier\"\n            bordered\n          >\n            <Descriptions.Item label=\"Name\" span={2}>\n              {preorder?.supplier?.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Phone\">\n              {preorder?.supplier?.phone || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Telephone\">\n              {preorder?.supplier?.landline || EMPTY_CHARACTER}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Address\" span={2}>\n              {preorder?.supplier?.address}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Description\" span={2}>\n              {preorder?.supplier?.description}\n            </Descriptions.Item>\n          </Descriptions>\n\n          <Divider />\n\n          <Table\n            columns={getPreorderProductColumns()}\n            dataSource={preorderProducts}\n            pagination={false}\n            rowKey=\"key\"\n            scroll={{ x: 800 }}\n          />\n\n          {preorder?.status === preorderStatuses.PENDING && (\n            <>\n              <Divider />\n              <Row gutter={[25, 12]}>\n                <Col sm={12} xs={24}>\n                  <Button\n                    size=\"large\"\n                    block\n                    danger\n                    onClick={() => {\n                      onUpdateStatus(preorderStatuses.CANCELLED);\n                    }}\n                  >\n                    Cancel Preorder\n                  </Button>\n                </Col>\n                <Col sm={12} xs={24}>\n                  <Button\n                    size=\"large\"\n                    type=\"primary\"\n                    block\n                    onClick={() => {\n                      onUpdateStatus(preorderStatuses.APPROVED);\n                    }}\n                  >\n                    Approve Preorder\n                  </Button>\n                </Col>\n              </Row>\n            </>\n          )}\n        </Box>\n\n        {[preorderStatuses.APPROVED, preorderStatuses.DELIVERED].includes(\n          preorder?.status\n        ) && (\n          <Box>\n            <Row\n              className=\"ViewPreorder_transaction_createRow\"\n              justify=\"space-between\"\n            >\n              <Col>\n                <Typography.Title level={4}>Transactions</Typography.Title>\n              </Col>\n              {preorder?.status === preorderStatuses.APPROVED && (\n                <Col>\n                  <Button\n                    size=\"large\"\n                    type=\"primary\"\n                    onClick={() => {\n                      setCreateTransactionModalVisible(true);\n                    }}\n                  >\n                    <PlusOutlined /> Create Transaction\n                  </Button>\n                </Col>\n              )}\n            </Row>\n\n            <Table\n              columns={transactionColumns}\n              dataSource={transactionsDataSource}\n              pagination={false}\n              rowKey=\"key\"\n              scroll={{ x: 800 }}\n            />\n          </Box>\n        )}\n\n        {createTransactionModalVisible && (\n          <CreateTransactionModal\n            columns={getPreorderProductColumns()}\n            preorder={preorder}\n            preorderProducts={preorderProductsObject}\n            onClose={() => {\n              setCreateTransactionModalVisible(false);\n            }}\n            onSuccess={() => {\n              refetchPreorder();\n              setCreateTransactionModalVisible(false);\n            }}\n          />\n        )}\n\n        {selectedTransaction && (\n          <ViewTransactionModal\n            preorderTransaction={selectedTransaction}\n            unitTypes={unitTypes}\n            onClose={() => {\n              setSelectedTransaction(null);\n            }}\n          />\n        )}\n      </Spin>\n    </Content>\n  );\n};\n\nexport default ViewPreorder;\n","import { Button, Col, Divider, Modal, Row, Typography, Collapse } from 'antd';\nimport { formatInPeso } from 'globals/functions';\nimport { upperCase } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ViewProductModal = ({ product, unitTypes, onClose }) => (\n  <Modal\n    className=\"ViewProductModal Modal__large Modal__hasFooter\"\n    footer={[<Button onClick={onClose}>Close</Button>]}\n    title=\"View Product\"\n    centered\n    closable\n    visible\n    onCancel={onClose}\n  >\n    <Row gutter={[8, 8]}>\n      <Col lg={12}>\n        <Typography.Text strong>Name: </Typography.Text>\n      </Col>\n      <Col lg={12}>{product.name}</Col>\n\n      <Col lg={12}>\n        <Typography.Text strong>Unit Cost: </Typography.Text>\n      </Col>\n      <Col lg={12}>{formatInPeso(product.unit_cost)}</Col>\n\n      <Col lg={12}>\n        <Typography.Text strong>Vat Type: </Typography.Text>\n      </Col>\n      <Col lg={12}>{upperCase(product.vat_type)}</Col>\n    </Row>\n\n    <Divider />\n\n    <Collapse>\n      {product?.product_prices?.map((productPrice) => {\n        const unitTypeName =\n          unitTypes.find(\n            (unitType) => unitType.id === productPrice.unit_type_id\n          ).name || '';\n\n        return (\n          <Collapse.Panel key={String(productPrice.id)} header={unitTypeName}>\n            <Row gutter={[8, 8]}>\n              <Col lg={12}>\n                <Typography.Text strong>Price Market: </Typography.Text>\n              </Col>\n              <Col lg={12}>{formatInPeso(productPrice.price_market)}</Col>\n\n              <Col lg={12}>\n                <Typography.Text strong>Price Delivery: </Typography.Text>\n              </Col>\n              <Col lg={12}>{formatInPeso(productPrice.price_delivery)}</Col>\n\n              <Col lg={12}>\n                <Typography.Text strong>Price Pickup: </Typography.Text>\n              </Col>\n              <Col lg={12}>{formatInPeso(productPrice.price_pickup)}</Col>\n\n              <Col lg={12}>\n                <Typography.Text strong>Price Special: </Typography.Text>\n              </Col>\n              <Col lg={12}>{formatInPeso(productPrice.price_special)}</Col>\n\n              <Col lg={12}>\n                <Typography.Text strong>Reorder Point: </Typography.Text>\n              </Col>\n              <Col lg={12}>{productPrice.reorder_point}</Col>\n            </Row>\n          </Collapse.Panel>\n        );\n      })}\n    </Collapse>\n  </Modal>\n);\n\nViewProductModal.propTypes = {\n  unitTypes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ),\n  product: PropTypes.shape({\n    name: PropTypes.string,\n    unit_cost: PropTypes.string,\n    vat_type: PropTypes.string,\n    product_prices: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number,\n        price_delivery: PropTypes.oneOfType([\n          PropTypes.string,\n          PropTypes.number,\n        ]),\n        price_market: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        price_pickup: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        price_special: PropTypes.oneOfType([\n          PropTypes.string,\n          PropTypes.number,\n        ]),\n        reorder_point: PropTypes.oneOfType([\n          PropTypes.string,\n          PropTypes.number,\n        ]),\n        unit_type_id: PropTypes.number,\n      })\n    ),\n  }).isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default ViewProductModal;\n","import { PlusOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Col,\n  Input,\n  message,\n  Popconfirm,\n  Radio,\n  Row,\n  Space,\n  Table,\n  Typography,\n} from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { formatInPeso } from 'globals/functions';\nimport { GENERIC_ERROR_MESSAGE, priceTypes } from 'globals/variables';\nimport { useCustomParams, useProducts, useUnitTypes } from 'hooks';\nimport { flatten } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { useSearchParams } from 'react-router-dom';\nimport { ProductsService } from 'services';\nimport { useDebouncedCallback } from 'use-debounce';\nimport './styles.scss';\nimport ViewProductModal from './ViewProductModal';\n\nconst Products = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n  const [selectedPriceType, setSelectedPriceType] = useState(\n    priceTypes.DELIVERY\n  );\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const { setSearchParams } = useCustomParams();\n\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n  const {\n    isFetching: isProductsFetching,\n    data: { total, products },\n    refetch: refetchProducts,\n  } = useProducts({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      search: searchParams.get('search'),\n    },\n  });\n\n  // METHODS\n  const deleteProduct = (productId) => {\n    setIsDeleting(true);\n    ProductsService.delete(productId)\n      .then(() => {\n        refetchProducts();\n      })\n      .catch(() => {\n        message.error(GENERIC_ERROR_MESSAGE);\n      })\n      .finally(() => {\n        setIsDeleting(false);\n      });\n  };\n\n  useEffect(() => {\n    const tableData = products.map((product) => {\n      const data = {\n        key: product.id,\n        name: (\n          <Button\n            className=\"Products_productName\"\n            type=\"link\"\n            onClick={() => {\n              setSelectedProduct(product);\n            }}\n          >\n            {product.name}\n          </Button>\n        ),\n        unitCost: formatInPeso(product.unit_cost),\n        actions: (\n          <Space size=\"small\">\n            <Button\n              type=\"link\"\n              onClick={() => {\n                navigate(`/products/${product.id}`);\n              }}\n            >\n              Edit\n            </Button>\n            <Popconfirm\n              cancelText=\"Cancel\"\n              okButtonProps={{ danger: true }}\n              okText=\"Delete\"\n              placement=\"topLeft\"\n              title={`Are you sure you want to delete ${product.name}?`}\n              onConfirm={() => {\n                deleteProduct(product.id);\n              }}\n            >\n              <Button type=\"link\" danger>\n                Delete\n              </Button>\n            </Popconfirm>\n          </Space>\n        ),\n      };\n\n      product.product_prices.forEach((productPrice) => {\n        data[String(productPrice.unit_type_id)] = formatInPeso(\n          productPrice[`price_${selectedPriceType}`]\n        );\n      });\n\n      return data;\n    });\n\n    setDataSource(tableData);\n  }, [products, selectedPriceType]);\n\n  const getColumns = useCallback(() => {\n    const unitTypesId = flatten(\n      products?.map((product) =>\n        product.product_prices.map((productPrice) => productPrice.unit_type_id)\n      )\n    );\n    const filteredUnitTypes = unitTypes.filter((unitType) =>\n      unitTypesId.includes(unitType.id)\n    );\n\n    return [\n      { title: 'Name', dataIndex: 'name', width: 150, fixed: 'left' },\n      { title: 'Unit Cost', dataIndex: 'unitCost' },\n      ...filteredUnitTypes.map((unitType) => ({\n        title: unitType.name,\n        dataIndex: String(unitType.id),\n      })),\n      { title: 'Actions', dataIndex: 'actions' },\n    ];\n  }, [products, unitTypes]);\n\n  return (\n    <Content className=\"Products\" title=\"Products\">\n      <Box>\n        <Row className=\"Products_createRow\" justify=\"end\">\n          <Col>\n            <Button\n              size=\"large\"\n              type=\"primary\"\n              onClick={() => {\n                navigate('create');\n              }}\n            >\n              <PlusOutlined /> Create Product\n            </Button>\n          </Col>\n        </Row>\n\n        <Filter onSetPriceType={setSelectedPriceType} />\n\n        <Table\n          columns={getColumns()}\n          dataSource={dataSource}\n          loading={isProductsFetching || isUnitTypesFetching || isDeleting}\n          pagination={{\n            current: searchParams.get('page') || 1,\n            total,\n            pageSize: searchParams.get('pageSize') || 10,\n            onChange: (page, newPageSize) => {\n              setSearchParams({\n                page,\n                pageSize: newPageSize,\n              });\n            },\n            disabled: products.length === 0,\n            position: ['bottomCenter'],\n            pageSizeOptions: ['10', '20', '50'],\n          }}\n          rowKey=\"key\"\n          scroll={{ x: 800 }}\n        />\n      </Box>\n\n      {selectedProduct && (\n        <ViewProductModal\n          product={selectedProduct}\n          unitTypes={unitTypes}\n          onClose={() => {\n            setSelectedProduct(null);\n          }}\n        />\n      )}\n    </Content>\n  );\n};\n\nconst Filter = ({ onSetPriceType }) => {\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const onSearch = useDebouncedCallback((value) => {\n    setSearchParams({ search: value });\n  }, 500);\n\n  return (\n    <Row className=\"Products_filter\" gutter={[15, 15]}>\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Search</Typography.Text>\n        <Input\n          defaultValue={searchParams.get('search')}\n          allowClear\n          onChange={(event) => onSearch(event.target.value.trim())}\n        />\n      </Col>\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Price Type</Typography.Text>\n        <Radio.Group\n          defaultValue={priceTypes.DELIVERY}\n          options={[\n            { label: 'Delivery', value: priceTypes.DELIVERY },\n            { label: 'Market', value: priceTypes.MARKET },\n            { label: 'Pickup', value: priceTypes.PICKUP },\n            { label: 'Special', value: priceTypes.SPECIAL },\n          ]}\n          optionType=\"button\"\n          style={{ width: '100%' }}\n          onChange={(e) => {\n            onSetPriceType(e.target.value);\n          }}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nFilter.propTypes = {\n  onSetPriceType: PropTypes.func.isRequired,\n};\n\nexport default Products;\n","import { CloseOutlined, PlusOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Col,\n  Divider,\n  Input,\n  message,\n  Radio,\n  Row,\n  Select,\n  Spin,\n  Typography,\n  Modal,\n} from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { ErrorMessage, Form, Formik } from 'formik';\nimport { GENERIC_ERROR_MESSAGE, vatTypes } from 'globals/variables';\nimport { useProduct, useUnitTypes } from 'hooks';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router';\nimport * as Yup from 'yup';\nimport '../styles.scss';\nimport { ProductsService } from 'services';\n\nconst ModifyProduct = () => {\n  // STATES\n  const [isLoading, setLoading] = useState(false);\n\n  // CUSTOM HOOKS\n  const params = useParams();\n  const navigate = useNavigate();\n  const { isFetching: isUnitTypesFetching, data: unitTypes } = useUnitTypes();\n  const { isFetching: isProductFetching, data: product } = useProduct({\n    id: params.productId,\n  });\n\n  // VARIABLES\n  const isCreate = params.productId === undefined;\n\n  // METHODS\n  const getFormDetails = useCallback(\n    () => ({\n      defaultValues: {\n        id: product?.id,\n        name: product?.name || '',\n        unitCost: product?.unit_cost || '',\n        vatType: product?.vat_type || '',\n        productPrices:\n          product?.product_prices.map((productPrice) => ({\n            id: productPrice.id,\n            priceMarket: Number(productPrice.price_market),\n            priceDelivery: Number(productPrice.price_delivery),\n            pricePickup: Number(productPrice.price_pickup),\n            priceSpecial: Number(productPrice.price_special),\n            reorderPoint: Number(productPrice.reorder_point),\n            unitType: productPrice.unit_type_id,\n          })) || [],\n      },\n      schema: Yup.object().shape({\n        name: Yup.string().required().label('Name'),\n        unitCost: Yup.string().required().label('Unit Cost'),\n        vatType: Yup.string().required().label('VAT'),\n        productPrices: Yup.array().of(\n          Yup.object().shape({\n            priceMarket: Yup.number()\n              .positive('Must be greater than zero')\n              .required('Required'),\n            priceDelivery: Yup.number()\n              .positive('Must be greater than zero')\n              .required('Required'),\n            pricePickup: Yup.number()\n              .positive('Must be greater than zero')\n              .required('Required'),\n            priceSpecial: Yup.number()\n              .positive('Must be greater than zero')\n              .required('Required'),\n            reorderPoint: Yup.number(),\n            unitType: Yup.string().required('Required'),\n          })\n        ),\n      }),\n    }),\n    [product]\n  );\n\n  const onAddClick = (values) => [\n    ...values.productPrices,\n    {\n      priceMarket: '',\n      priceDelivery: '',\n      pricePickup: '',\n      priceSpecial: '',\n      reorderPoint: '',\n      unitType: '',\n    },\n  ];\n\n  const onRemoveClick = (index, values) =>\n    values.productPrices.filter((_, i) => i !== index);\n\n  const handleSuccess = (modifiedProduct) => {\n    const action = isCreate ? 'created' : 'updated';\n\n    Modal.success({\n      title: 'Success',\n      content: `${modifiedProduct.name} is successfully ${action}. Press the button below to go back to the products screen.`,\n      keyboard: false,\n      okText: 'Proceed',\n      onOk: () => {\n        navigate('/products');\n      },\n    });\n  };\n\n  return (\n    <Content title=\"Products\">\n      <Spin spinning={isUnitTypesFetching || isProductFetching || isLoading}>\n        <Box>\n          <Formik\n            initialValues={getFormDetails().defaultValues}\n            validationSchema={getFormDetails().schema}\n            enableReinitialize\n            onSubmit={async (values, { setFieldError }) => {\n              setLoading(true);\n\n              if (values.productPrices.length > 0) {\n                try {\n                  const serviceFn = isCreate\n                    ? ProductsService.create\n                    : ProductsService.edit;\n\n                  const { data } = await serviceFn({\n                    id: values.id,\n                    body: {\n                      name: values.name,\n                      unit_cost: values.unitCost,\n                      vat_type: values.vatType,\n                      product_prices: values.productPrices.map(\n                        (productPrice) => ({\n                          id: productPrice.id,\n                          unit_type_id: productPrice.unitType,\n                          price_market: productPrice.priceMarket,\n                          price_delivery: productPrice.priceDelivery,\n                          price_pickup: productPrice.pricePickup,\n                          price_special: productPrice.priceSpecial,\n                          reorder_point: productPrice.reorderPoint || 0,\n                        })\n                      ),\n                    },\n                  });\n\n                  handleSuccess(data);\n                } catch (e) {\n                  console.error(e);\n                  setFieldError('response', GENERIC_ERROR_MESSAGE);\n                }\n              } else {\n                message.error('Please add a product price first');\n              }\n\n              setLoading(false);\n            }}\n          >\n            {({ values, setFieldValue }) => (\n              <Form style={{ width: '100%' }}>\n                <ErrorMessage\n                  name=\"response\"\n                  render={(error) => (\n                    <Typography.Text type=\"danger\">{error}</Typography.Text>\n                  )}\n                />\n\n                <Row gutter={[24, 24]}>\n                  <Col lg={12}>\n                    <Typography.Text strong>Name</Typography.Text>\n                    <Input\n                      value={values.name}\n                      onChange={(e) => {\n                        setFieldValue('name', e.target.value);\n                      }}\n                    />\n                    <ErrorMessage\n                      name=\"name\"\n                      render={(error) => (\n                        <Typography.Text type=\"danger\">{error}</Typography.Text>\n                      )}\n                    />\n                  </Col>\n                  <Col lg={12}>\n                    <Typography.Text strong>Unit Cost</Typography.Text>\n                    <Input\n                      prefix=\"₱\"\n                      type=\"number\"\n                      value={values.unitCost}\n                      onChange={(e) => {\n                        setFieldValue('unitCost', e.target.value);\n                      }}\n                    />\n                    <ErrorMessage\n                      name=\"unitCost\"\n                      render={(error) => (\n                        <Typography.Text type=\"danger\">{error}</Typography.Text>\n                      )}\n                    />\n                  </Col>\n                  <Col lg={12}>\n                    <Typography.Text strong>VAT</Typography.Text>\n                    <Radio.Group\n                      buttonStyle=\"solid\"\n                      options={[\n                        { label: 'VAT', value: vatTypes.VAT },\n                        { label: 'VAT-Exempted', value: vatTypes.VAT_E },\n                      ]}\n                      optionType=\"button\"\n                      style={{ width: '100%' }}\n                      value={values.vatType}\n                      onChange={(e) => {\n                        setFieldValue('vatType', e.target.value);\n                      }}\n                    />\n                    <ErrorMessage\n                      name=\"vatType\"\n                      render={(error) => (\n                        <Typography.Text type=\"danger\">{error}</Typography.Text>\n                      )}\n                    />\n                  </Col>\n                </Row>\n\n                <Divider>PRICES</Divider>\n\n                <Row gutter={[16, 32]}>\n                  {values.productPrices.map((productPrice, index) => (\n                    <Col key={index} span={24}>\n                      <ProductPrice\n                        index={index}\n                        isCreate={isCreate}\n                        unitTypes={unitTypes}\n                        values={productPrice}\n                        onRemoveProductPrice={() => {\n                          setFieldValue(\n                            'productPrices',\n                            onRemoveClick(index, values)\n                          );\n                        }}\n                        onSetFieldValue={setFieldValue}\n                      />\n                    </Col>\n                  ))}\n\n                  <Col span={24}>\n                    <Button\n                      className=\"ModifyProduct_btnAddPrice\"\n                      htmlType=\"button\"\n                      size=\"large\"\n                      type=\"primary\"\n                      ghost\n                      onClick={() => {\n                        setFieldValue('productPrices', onAddClick(values));\n                      }}\n                    >\n                      <PlusOutlined /> Add Price\n                    </Button>\n                  </Col>\n                </Row>\n\n                <Divider />\n\n                <Row justify=\"end\">\n                  <Col>\n                    <Button\n                      className=\"ModifyProduct_btnSubmit\"\n                      htmlType=\"submit\"\n                      size=\"large\"\n                      type=\"primary\"\n                    >\n                      Submit\n                    </Button>\n                  </Col>\n                </Row>\n              </Form>\n            )}\n          </Formik>\n        </Box>\n      </Spin>\n    </Content>\n  );\n};\n\nconst ProductPrice = ({\n  index,\n  isCreate,\n  unitTypes,\n  values,\n  onRemoveProductPrice,\n  onSetFieldValue,\n}) => (\n  <Row gutter={[4, 4]}>\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Price (Market)</Typography.Text>\n      <Input\n        prefix=\"₱\"\n        type=\"number\"\n        value={values.priceMarket}\n        onChange={(e) => {\n          onSetFieldValue(`productPrices.${index}.priceMarket`, e.target.value);\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.priceMarket`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Price (Delivery)</Typography.Text>\n      <Input\n        prefix=\"₱\"\n        type=\"number\"\n        value={values.priceDelivery}\n        onChange={(e) => {\n          onSetFieldValue(\n            `productPrices.${index}.priceDelivery`,\n            e.target.value\n          );\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.priceDelivery`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Price (Pickup)</Typography.Text>\n      <Input\n        prefix=\"₱\"\n        type=\"number\"\n        value={values.pricePickup}\n        onChange={(e) => {\n          onSetFieldValue(`productPrices.${index}.pricePickup`, e.target.value);\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.pricePickup`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Price (Special)</Typography.Text>\n      <Input\n        prefix=\"₱\"\n        type=\"number\"\n        value={values.priceSpecial}\n        onChange={(e) => {\n          onSetFieldValue(\n            `productPrices.${index}.priceSpecial`,\n            e.target.value\n          );\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.priceSpecial`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Reorder Point</Typography.Text>\n      <Input\n        type=\"number\"\n        value={values.reorderPoint}\n        onChange={(e) => {\n          onSetFieldValue(\n            `productPrices.${index}.reorderPoint`,\n            e.target.value\n          );\n        }}\n      />\n      <ErrorMessage\n        name={`productPrices.${index}.reorderPoint`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    <Col sm={6} xs={12}>\n      <Typography.Text strong>Unit Type</Typography.Text>\n      <Select\n        filterOption={(input, option) =>\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n        }\n        optionFilterProp=\"children\"\n        style={{ width: '100%' }}\n        value={values.unitType}\n        showSearch\n        onChange={(value) => {\n          onSetFieldValue(`productPrices.${index}.unitType`, value);\n        }}\n      >\n        {unitTypes.map((unitType) => (\n          <Select.Option key={unitType.id} value={unitType.id}>\n            {unitType.name}\n          </Select.Option>\n        ))}\n      </Select>\n      <ErrorMessage\n        name={`productPrices.${index}.unitType`}\n        render={(error) => (\n          <Typography.Text type=\"danger\">{error}</Typography.Text>\n        )}\n      />\n    </Col>\n\n    {isCreate && (\n      <Col sm={12} xs={24}>\n        <Row align=\"middle\" justify=\"center\" style={{ height: '100%' }}>\n          <Col>\n            <Button\n              htmlType=\"button\"\n              type=\"dashed\"\n              danger\n              onClick={onRemoveProductPrice}\n            >\n              <CloseOutlined /> DELETE PRICE\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    )}\n  </Row>\n);\n\nProductPrice.propTypes = {\n  index: PropTypes.number.isRequired,\n  isCreate: PropTypes.bool.isRequired,\n  unitTypes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  values: PropTypes.shape({\n    priceMarket: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    priceDelivery: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    pricePickup: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    priceSpecial: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    reorderPoint: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    unitType: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  }).isRequired,\n  onRemoveProductPrice: PropTypes.func.isRequired,\n  onSetFieldValue: PropTypes.func.isRequired,\n};\n\nexport default ModifyProduct;\n","import { Col, DatePicker, Radio, Row, Table, Typography } from 'antd';\nimport { RankIcon } from 'components';\nimport { formatInPeso } from 'globals/functions';\nimport { dateRangeTypes } from 'globals/variables';\nimport { useCustomParams, useReportsCustomers } from 'hooks';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst columns = [\n  { title: 'Rank', dataIndex: 'rank' },\n  { title: 'Name', dataIndex: 'name' },\n  { title: 'Total Purchase', dataIndex: 'total_purchase' },\n];\n\nconst CustomersTab = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const {\n    isFetching: isReportsFetching,\n    data: { total, customers },\n  } = useReportsCustomers({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      dateRange: searchParams.get('dateRange') || dateRangeTypes.DAILY,\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const page = searchParams.get('page') || 1;\n    const pageSize = searchParams.get('pageSize') || 10;\n    const rankStart = (Number(page) - 1) * Number(pageSize);\n\n    const data = customers.map((customer, index) => {\n      const rank = rankStart + index + 1;\n\n      return {\n        key: customer.id,\n        rank: (\n          <>\n            <RankIcon rank={rank} /> <span>{rank}</span>\n          </>\n        ),\n        name: customer.name,\n        total_purchase: formatInPeso(customer.total_purchase),\n      };\n    });\n\n    setDataSource(data);\n  }, [customers]);\n\n  return (\n    <>\n      <Filter />\n\n      <Table\n        columns={columns}\n        dataSource={dataSource}\n        loading={isReportsFetching}\n        pagination={{\n          current: searchParams.get('page') || 1,\n          total,\n          pageSize: searchParams.get('pageSize') || 10,\n          onChange: (page, newPageSize) => {\n            setSearchParams({\n              page,\n              pageSize: newPageSize,\n            });\n          },\n          disabled: customers.length === 0,\n          position: ['bottomCenter'],\n          pageSizeOptions: ['10', '20', '50'],\n        }}\n        rowKey=\"key\"\n        scroll={{ x: 800 }}\n      />\n    </>\n  );\n};\n\nconst Filter = () => {\n  // STATES\n  const [dateRangeType, setDateRangeType] = useState(dateRangeTypes.DAILY);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const dateRange =\n    searchParams.get('dateRange')?.toString() || dateRangeTypes.DAILY;\n\n  // METHODS\n  useEffect(() => {\n    if (\n      ![dateRangeTypes.DAILY, dateRangeTypes.MONTHLY].includes(dateRange) &&\n      dateRange?.indexOf(',')\n    ) {\n      setDateRangeType(dateRangeTypes.DATE_RANGE);\n    } else {\n      setDateRangeType(dateRange);\n    }\n  }, [dateRange]);\n\n  return (\n    <Row className=\"Products_filter\" gutter={[15, 15]}>\n      <Col lg={12} span={24}>\n        <Typography.Text style={{ width: '100%', display: 'block' }} strong>\n          Date Range\n        </Typography.Text>\n        <Radio.Group\n          options={[\n            { label: 'Daily', value: dateRangeTypes.DAILY },\n            { label: 'Monthly', value: dateRangeTypes.MONTHLY },\n            {\n              label: 'Select Date Range',\n              value: dateRangeTypes.DATE_RANGE,\n            },\n          ]}\n          optionType=\"button\"\n          value={dateRangeType}\n          onChange={(e) => {\n            const { value } = e.target;\n            setDateRangeType(value);\n\n            if (value !== dateRangeTypes.DATE_RANGE) {\n              setSearchParams({ dateRange: value });\n            }\n          }}\n        />\n\n        {dateRangeType === dateRangeTypes.DATE_RANGE && (\n          <DatePicker.RangePicker\n            defaultPickerValue={\n              dateRange.split(',')?.length === 2\n                ? [\n                    moment(dateRange.split(',')[0]),\n                    moment(dateRange.split(',')[1]),\n                  ]\n                : undefined\n            }\n            defaultValue={\n              dateRange.split(',')?.length === 2\n                ? [\n                    moment(dateRange.split(',')[0]),\n                    moment(dateRange.split(',')[1]),\n                  ]\n                : undefined\n            }\n            format=\"MM/DD/YY\"\n            onCalendarChange={(dates, dateStrings) => {\n              if (dates?.[0] && dates?.[1]) {\n                setSearchParams({ dateRange: dateStrings.join(',') });\n              }\n            }}\n          />\n        )}\n      </Col>\n    </Row>\n  );\n};\n\nexport default CustomersTab;\n","import { Col, DatePicker, Radio, Row, Select, Table, Typography } from 'antd';\nimport { RankIcon } from 'components';\nimport { formatInPeso } from 'globals/functions';\nimport { dateRangeTypes } from 'globals/variables';\nimport { useBranches, useCustomParams, useReportsProducts } from 'hooks';\nimport { flatten } from 'lodash';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst ProductsTab = () => {\n  // STATES\n  const [dataSource, setDataSource] = useState([]);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n  const { isFetching: isBranchesFetching, data: branches } = useBranches();\n  const {\n    isFetching: isReportsFetching,\n    data: { total, products },\n  } = useReportsProducts({\n    params: {\n      page: searchParams.get('page'),\n      pageSize: searchParams.get('pageSize'),\n      branchId: searchParams.get('branchId'),\n      dateRange: searchParams.get('dateRange') || dateRangeTypes.DAILY,\n    },\n  });\n\n  // METHODS\n  useEffect(() => {\n    const page = searchParams.get('page') || 1;\n    const pageSize = searchParams.get('pageSize') || 10;\n    const rankStart = (Number(page) - 1) * Number(pageSize);\n\n    const productDataSource = products.map((product, index) => {\n      const rank = rankStart + index + 1;\n\n      const data = {\n        key: product.id,\n        rank: (\n          <>\n            <RankIcon rank={rank} /> <span>{rank}</span>\n          </>\n        ),\n        name: product.name,\n        total_sales: formatInPeso(product.total_sales),\n      };\n\n      product.product_prices.forEach((productPrice) => {\n        data[String(productPrice.unit_type.id)] = `${formatInPeso(\n          productPrice.total_sales\n        )} - (${productPrice.total_quantity})`;\n      });\n\n      return data;\n    });\n\n    setDataSource(productDataSource);\n  }, [products]);\n\n  const getColumns = useCallback(() => {\n    const unitTypes = {};\n    flatten(\n      products?.map((product) =>\n        product.product_prices.map((productPrice) => productPrice.unit_type)\n      )\n    ).forEach((unitType) => {\n      unitTypes[unitType.name] = unitType;\n    });\n\n    const unitTypeColumns = Object.keys(unitTypes)\n      .sort()\n      .map((key) => ({\n        title: unitTypes[key].name,\n        dataIndex: String(unitTypes[key].id),\n      }));\n\n    return [\n      { title: 'Rank', dataIndex: 'rank' },\n      { title: 'Name', dataIndex: 'name' },\n      { title: 'Total Sales', dataIndex: 'total_sales' },\n      ...unitTypeColumns,\n    ];\n  }, [products]);\n\n  return (\n    <>\n      <Filter branches={branches} />\n\n      <Table\n        columns={getColumns()}\n        dataSource={dataSource}\n        loading={isReportsFetching || isBranchesFetching}\n        pagination={{\n          current: searchParams.get('page') || 1,\n          total,\n          pageSize: searchParams.get('pageSize') || 10,\n          onChange: (page, newPageSize) => {\n            setSearchParams({\n              page,\n              pageSize: newPageSize,\n            });\n          },\n          disabled: products.length === 0,\n          position: ['bottomCenter'],\n          pageSizeOptions: ['10', '20', '50'],\n        }}\n        rowKey=\"key\"\n        scroll={{ x: 1250 }}\n      />\n    </>\n  );\n};\n\nconst Filter = ({ branches }) => {\n  // STATES\n  const [dateRangeType, setDateRangeType] = useState(dateRangeTypes.DAILY);\n\n  // CUSTOM HOOKS\n  const [searchParams] = useSearchParams();\n  const { setSearchParams } = useCustomParams();\n\n  const dateRange =\n    searchParams.get('dateRange')?.toString() || dateRangeTypes.DAILY;\n\n  // METHODS\n  useEffect(() => {\n    if (\n      ![dateRangeTypes.DAILY, dateRangeTypes.MONTHLY].includes(dateRange) &&\n      dateRange?.indexOf(',')\n    ) {\n      setDateRangeType(dateRangeTypes.DATE_RANGE);\n    } else {\n      setDateRangeType(dateRange);\n    }\n  }, [dateRange]);\n\n  return (\n    <Row className=\"Products_filter\" gutter={[15, 15]}>\n      <Col lg={12} span={24}>\n        <Typography.Text strong>Branch</Typography.Text>\n        <Select\n          style={{ width: '100%' }}\n          value={Number(searchParams.get('branchId')) || undefined}\n          allowClear\n          onChange={(value) => {\n            setSearchParams({ branchId: value });\n          }}\n        >\n          {branches.map((branch) => (\n            <Select.Option key={branch.id} value={branch.id}>\n              {branch.name}\n            </Select.Option>\n          ))}\n        </Select>\n      </Col>\n\n      <Col lg={12} span={24}>\n        <Typography.Text style={{ width: '100%', display: 'block' }} strong>\n          Date Range\n        </Typography.Text>\n        <Radio.Group\n          options={[\n            { label: 'Daily', value: dateRangeTypes.DAILY },\n            { label: 'Monthly', value: dateRangeTypes.MONTHLY },\n            {\n              label: 'Select Date Range',\n              value: dateRangeTypes.DATE_RANGE,\n            },\n          ]}\n          optionType=\"button\"\n          value={dateRangeType}\n          onChange={(e) => {\n            const { value } = e.target;\n            setDateRangeType(value);\n\n            if (value !== dateRangeTypes.DATE_RANGE) {\n              setSearchParams({ dateRange: value });\n            }\n          }}\n        />\n\n        {dateRangeType === dateRangeTypes.DATE_RANGE && (\n          <DatePicker.RangePicker\n            defaultPickerValue={\n              dateRange.split(',')?.length === 2\n                ? [\n                    moment(dateRange.split(',')[0]),\n                    moment(dateRange.split(',')[1]),\n                  ]\n                : undefined\n            }\n            defaultValue={\n              dateRange.split(',')?.length === 2\n                ? [\n                    moment(dateRange.split(',')[0]),\n                    moment(dateRange.split(',')[1]),\n                  ]\n                : undefined\n            }\n            format=\"MM/DD/YY\"\n            onCalendarChange={(dates, dateStrings) => {\n              if (dates?.[0] && dates?.[1]) {\n                setSearchParams({ dateRange: dateStrings.join(',') });\n              }\n            }}\n          />\n        )}\n      </Col>\n    </Row>\n  );\n};\n\nFilter.propTypes = {\n  branches: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ),\n};\n\nexport default ProductsTab;\n","import { Tabs } from 'antd';\nimport { Content } from 'components';\nimport { Box } from 'components/elements';\nimport { useCustomParams } from 'hooks';\nimport React from 'react';\nimport CustomersTab from './CustomersTab';\nimport ProductsTab from './ProductsTab';\n\nconst Reports = () => {\n  // CUSTOM HOOKS\n  const { setSearchParams } = useCustomParams();\n\n  // METHODS\n  const onTabClick = () => {\n    setSearchParams({}, { shouldResetPage: true });\n  };\n\n  return (\n    <Content title=\"Reports\">\n      <Box>\n        <Tabs type=\"card\" destroyInactiveTabPane onTabClick={onTabClick}>\n          <Tabs.TabPane key=\"customers\" tab=\"Customers\">\n            <CustomersTab />\n          </Tabs.TabPane>\n\n          <Tabs.TabPane key=\"products\" tab=\"Products\">\n            <ProductsTab />\n          </Tabs.TabPane>\n        </Tabs>\n      </Box>\n    </Content>\n  );\n};\n\nexport default Reports;\n","import React from 'react';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport {\n  Branches,\n  CreateDelivery,\n  CreatePreorder,\n  Dashboard,\n  Deliveries,\n  Login,\n  Main,\n  ModifyProduct,\n  Notifications,\n  Preorders,\n  Products,\n  Reports,\n  ViewDelivery,\n  ViewPreorder,\n} from 'screens';\n\nconst App = () => (\n  <BrowserRouter>\n    <Routes>\n      <Route element={<Main />} path=\"/\">\n        <Route element={<Dashboard />} path=\"dashboard\" />\n\n        <Route element={<Branches />} path=\"branches\" />\n\n        <Route element={<Products />} path=\"products\" />\n        <Route element={<ModifyProduct />} path=\"products/create\" />\n        <Route element={<ModifyProduct />} path=\"products/:productId\" />\n\n        <Route element={<Preorders />} path=\"preorders\" />\n        <Route element={<ViewPreorder />} path=\"preorders/:preorderId\" />\n        <Route element={<CreatePreorder />} path=\"preorders/create\" />\n\n        <Route element={<Deliveries />} path=\"deliveries\" />\n        <Route element={<ViewDelivery />} path=\"deliveries/:deliveryId\" />\n        <Route element={<CreateDelivery />} path=\"deliveries/create\" />\n\n        <Route element={<Reports />} path=\"reports\" />\n\n        <Route element={<Notifications />} path=\"notifications\" />\n      </Route>\n      <Route element={<Login />} path=\"login\" />\n    </Routes>\n  </BrowserRouter>\n);\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureAxios } from 'configureAxios';\nimport configureStore from 'configureStore';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { ReactQueryDevtools } from 'react-query/devtools';\nimport { Provider } from 'react-redux';\nimport { persistStore } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport './index.scss';\nimport reportWebVitals from './reportWebVitals';\n\n// Start Interceptor\nconst store = configureStore();\nconfigureAxios(store);\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <QueryClientProvider client={queryClient}>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistStore(store)}>\n        <App />\n      </PersistGate>\n    </Provider>\n    <ReactQueryDevtools initialIsOpen />\n  </QueryClientProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}